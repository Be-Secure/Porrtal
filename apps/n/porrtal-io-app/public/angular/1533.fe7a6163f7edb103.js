"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[1533],{89890:(Pe,Ae,se)=>{se.d(Ae,{J:()=>he});var ie,xe,Ce,_e={exports:{}};ie=_e,void 0!==(Ce=function(){function ce(U){this.message="JPEG error: "+U}return(ce.prototype=new Error).name="JpegError",ce.constructor=ce,ce}(),xe=function(){if(!self||!self.Uint8ClampedArray)return null;var ce=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),U=4017,z=2276,W=5793,Q=2896;function H(){this.decodeTransform=null,this.colorTransform=-1}function ee(w,C){for(var A,I,y=0,v=[],k=16;k>0&&!w[k-1];)k--;v.push({children:[],index:0});var B,D=v[0];for(A=0;A<k;A++){for(I=0;I<w[A];I++){for((D=v.pop()).children[D.index]=C[y];D.index>0;)D=v.pop();for(D.index++,v.push(D);v.length<=A;)v.push(B={children:[],index:0}),D.children[D.index]=B.children,D=B;y++}A+1<k&&(v.push(B={children:[],index:0}),D.children[D.index]=B.children,D=B)}return v[0].children}function X(w,C,A){return 64*((w.blocksPerLine+1)*C+A)}function K(w,C,A,I,y,v,k,B,D){var f=A.mcusPerLine,R=C,G=0,t=0;function u(){if(t>0)return t--,G>>t&1;if(255===(G=w[C++])){var te=w[C++];if(te)throw new Ce("unexpected marker "+(G<<8|te).toString(16))}return t=7,G>>>7}function g(te){for(var le=te;;){if("number"==typeof(le=le[u()]))return le;if("object"!=typeof le)throw new Ce("invalid huffman sequence")}}function p(te){for(var le=0;te>0;)le=le<<1|u(),te--;return le}function S(te){if(1===te)return 1===u()?1:-1;var le=p(te);return le>=1<<te-1?le:le+(-1<<te)+1}var c,h=0,b=0;function E(te,le,ye,de,be){le(te,X(te,(ye/f|0)*te.v+de,ye%f*te.h+be))}var _,F,P,V,j,J,Z=I.length;J=A.progressive?0===v?0===B?function s(te,le){var ye=g(te.huffmanTableDC),de=0===ye?0:S(ye)<<D;te.blockData[le]=te.pred+=de}:function i(te,le){te.blockData[le]|=u()<<D}:0===B?function m(te,le){if(h>0)h--;else for(var ye=v,de=k;ye<=de;){var be=g(te.huffmanTableAC),Te=15&be,we=be>>4;if(0!==Te){var ve=ce[ye+=we];te.blockData[le+ve]=S(Te)*(1<<D),ye++}else{if(we<15){h=p(we)+(1<<we)-1;break}ye+=16}}}:function T(te,le){for(var ye,de,be=v,Te=k,we=0;be<=Te;){var ve=ce[be];switch(b){case 0:if(we=(de=g(te.huffmanTableAC))>>4,0==(ye=15&de))we<15?(h=p(we)+(1<<we),b=4):(we=16,b=1);else{if(1!==ye)throw new Ce("invalid ACn encoding");c=S(ye),b=we?2:3}continue;case 1:case 2:te.blockData[le+ve]?te.blockData[le+ve]+=u()<<D:0==--we&&(b=2===b?3:0);break;case 3:te.blockData[le+ve]?te.blockData[le+ve]+=u()<<D:(te.blockData[le+ve]=c<<D,b=0);break;case 4:te.blockData[le+ve]&&(te.blockData[le+ve]+=u()<<D)}be++}4===b&&0==--h&&(b=0)}:function d(te,le){var ye=g(te.huffmanTableDC),de=0===ye?0:S(ye);te.blockData[le]=te.pred+=de;for(var be=1;be<64;){var Te=g(te.huffmanTableAC),we=15&Te,ve=Te>>4;if(0!==we){var Ee=ce[be+=ve];te.blockData[le+Ee]=S(we),be++}else{if(ve<15)break;be+=16}}};var q,$,re,Y,te,ye,ue=0;for($=1===Z?I[0].blocksPerLine*I[0].blocksPerColumn:f*A.mcusPerColumn;ue<$;){var pe=y?Math.min($-ue,y):$;for(F=0;F<Z;F++)I[F].pred=0;if(h=0,1===Z)for(_=I[0],j=0;j<pe;j++)J(te=_,X(te,(ye=ue)/te.blocksPerLine|0,ye%te.blocksPerLine)),ue++;else for(j=0;j<pe;j++){for(F=0;F<Z;F++)for(re=(_=I[F]).h,Y=_.v,P=0;P<Y;P++)for(V=0;V<re;V++)E(_,J,ue,P,V);ue++}t=0,(q=L(w,C))&&q.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+q.invalid),C=q.offset);var ae=q&&q.marker;if(!ae||ae<=65280)throw new Ce("marker was not found");if(!(ae>=65488&&ae<=65495))break;C+=2}return(q=L(w,C))&&q.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+q.invalid),C=q.offset),C-R}function N(w,C,A){var I,y,v,k,B,D,f,O,R,G,t,u,g,p,S,d,s,i=w.quantizationTable,h=w.blockData;if(!i)throw new Ce("missing required Quantization Table.");for(var m=0;m<64;m+=8)R=h[C+m],R*=i[m],0!=((G=h[C+m+1])|(t=h[C+m+2])|(u=h[C+m+3])|(g=h[C+m+4])|(p=h[C+m+5])|(S=h[C+m+6])|(d=h[C+m+7]))?(y=(I=(I=W*R+128>>8)+(y=W*(g*=i[m+4])+128>>8)+1>>1)-y,s=3784*(v=t*=i[m+2])+1567*(k=S*=i[m+6])+128>>8,v=1567*v-3784*k+128>>8,f=(B=(B=Q*((G*=i[m+1])-(d*=i[m+7]))+128>>8)+(f=(p*=i[m+5])<<4)+1>>1)-f,D=(O=(O=Q*(G+d)+128>>8)+(D=(u*=i[m+3])<<4)+1>>1)-D,k=(I=I+(k=s)+1>>1)-k,v=(y=y+v+1>>1)-v,s=B*z+3406*O+2048>>12,B=3406*B-O*z+2048>>12,O=s,s=799*D+f*U+2048>>12,D=D*U-799*f+2048>>12,f=s,A[m]=I+O,A[m+7]=I-O,A[m+1]=y+f,A[m+6]=y-f,A[m+2]=v+D,A[m+5]=v-D,A[m+3]=k+B,A[m+4]=k-B):(A[m]=s=W*R+512>>10,A[m+1]=s,A[m+2]=s,A[m+3]=s,A[m+4]=s,A[m+5]=s,A[m+6]=s,A[m+7]=s);for(var c=0;c<8;++c)R=A[c],0!=((G=A[c+8])|(t=A[c+16])|(u=A[c+24])|(g=A[c+32])|(p=A[c+40])|(S=A[c+48])|(d=A[c+56]))?(y=(I=4112+((I=W*R+2048>>12)+(y=W*g+2048>>12)+1>>1))-y,s=3784*(v=t)+1567*(k=S)+2048>>12,v=1567*v-3784*k+2048>>12,k=s,f=(B=(B=Q*(G-d)+2048>>12)+(f=p)+1>>1)-f,D=(O=(O=Q*(G+d)+2048>>12)+(D=u)+1>>1)-D,s=B*z+3406*O+2048>>12,B=3406*B-O*z+2048>>12,O=s,s=799*D+f*U+2048>>12,D=D*U-799*f+2048>>12,R=(R=(I=I+k+1>>1)+O)<16?0:R>=4080?255:R>>4,G=(G=(y=y+v+1>>1)+(f=s))<16?0:G>=4080?255:G>>4,t=(t=(v=y-v)+D)<16?0:t>=4080?255:t>>4,u=(u=(k=I-k)+B)<16?0:u>=4080?255:u>>4,g=(g=k-B)<16?0:g>=4080?255:g>>4,p=(p=v-D)<16?0:p>=4080?255:p>>4,S=(S=y-f)<16?0:S>=4080?255:S>>4,d=(d=I-O)<16?0:d>=4080?255:d>>4,h[C+c]=R,h[C+c+8]=G,h[C+c+16]=t,h[C+c+24]=u,h[C+c+32]=g,h[C+c+40]=p,h[C+c+48]=S,h[C+c+56]=d):(s=(s=W*R+8192>>14)<-2040?0:s>=2024?255:s+2056>>4,h[C+c]=s,h[C+c+8]=s,h[C+c+16]=s,h[C+c+24]=s,h[C+c+32]=s,h[C+c+40]=s,h[C+c+48]=s,h[C+c+56]=s)}function x(w,C){for(var A=C.blocksPerLine,I=C.blocksPerColumn,y=new Int16Array(64),v=0;v<I;v++)for(var k=0;k<A;k++)N(C,X(C,v,k),y);return C.blockData}function L(w,C,A){function I(D){return w[D]<<8|w[D+1]}var y=w.length-1,v=A<C?A:C;if(C>=y)return null;var k=I(C);if(k>=65472&&k<=65534)return{invalid:null,marker:k,offset:C};for(var B=I(v);!(B>=65472&&B<=65534);){if(++v>=y)return null;B=I(v)}return{invalid:k.toString(16),marker:B,offset:v}}return H.prototype={parse:function(w){function C(){var te=w[k]<<8|w[k+1];return k+=2,te}function A(){var te=C(),le=k+te-2,ye=L(w,le,k);ye&&ye.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+ye.invalid),le=ye.offset);var de=w.subarray(k,le);return k+=de.length,de}function I(te){for(var le=Math.ceil(te.samplesPerLine/8/te.maxH),ye=Math.ceil(te.scanLines/8/te.maxV),de=0;de<te.components.length;de++){j=te.components[de];var be=Math.ceil(Math.ceil(te.samplesPerLine/8)*j.h/te.maxH),Te=Math.ceil(Math.ceil(te.scanLines/8)*j.v/te.maxV);j.blockData=new Int16Array(ye*j.v*64*(le*j.h+1)),j.blocksPerLine=be,j.blocksPerColumn=Te}te.mcusPerLine=le,te.mcusPerColumn=ye}var y,v,k=0,B=null,D=null,f=[],O=[],R=[],G=C();if(65496!==G)throw new Ce("SOI not found");for(G=C();65497!==G;){var t,u,g;switch(G){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var p=A();65504===G&&74===p[0]&&70===p[1]&&73===p[2]&&70===p[3]&&0===p[4]&&(B={version:{major:p[5],minor:p[6]},densityUnits:p[7],xDensity:p[8]<<8|p[9],yDensity:p[10]<<8|p[11],thumbWidth:p[12],thumbHeight:p[13],thumbData:p.subarray(14,14+3*p[12]*p[13])}),65518===G&&65===p[0]&&100===p[1]&&111===p[2]&&98===p[3]&&101===p[4]&&(D={version:p[5]<<8|p[6],flags0:p[7]<<8|p[8],flags1:p[9]<<8|p[10],transformCode:p[11]});break;case 65499:for(var S=C()+k-2;k<S;){var d=w[k++],s=new Uint16Array(64);if(d>>4==0)for(u=0;u<64;u++)s[ce[u]]=w[k++];else{if(d>>4!=1)throw new Ce("DQT - invalid table spec");for(u=0;u<64;u++)s[ce[u]]=C()}f[15&d]=s}break;case 65472:case 65473:case 65474:if(y)throw new Ce("Only single frame JPEGs supported");C(),(y={}).extended=65473===G,y.progressive=65474===G,y.precision=w[k++],y.scanLines=C(),y.samplesPerLine=C(),y.components=[],y.componentIds={};var i,h=w[k++],m=0,c=0;for(t=0;t<h;t++){i=w[k];var b=w[k+1]>>4,T=15&w[k+1];m<b&&(m=b),c<T&&(c=T),g=y.components.push({h:b,v:T,quantizationId:w[k+2],quantizationTable:null}),y.componentIds[i]=g-1,k+=3}y.maxH=m,y.maxV=c,I(y);break;case 65476:var M=C();for(t=2;t<M;){var _=w[k++],F=new Uint8Array(16),P=0;for(u=0;u<16;u++,k++)P+=F[u]=w[k];var V=new Uint8Array(P);for(u=0;u<P;u++,k++)V[u]=w[k];t+=17+P,(_>>4==0?R:O)[15&_]=ee(F,V)}break;case 65501:C(),v=C();break;case 65498:C();var j,J=w[k++],Z=[];for(t=0;t<J;t++){var q=y.componentIds[w[k++]],$=w[k++];(j=y.components[q]).huffmanTableDC=R[$>>4],j.huffmanTableAC=O[15&$],Z.push(j)}var re=w[k++],Y=w[k++],ue=w[k++],pe=K(w,k,y,Z,v,re,Y,ue>>4,15&ue);k+=pe;break;case 65535:255!==w[k]&&k--;break;default:if(255===w[k-3]&&w[k-2]>=192&&w[k-2]<=254){k-=3;break}throw new Ce("unknown marker "+G.toString(16))}G=C()}for(this.width=y.samplesPerLine,this.height=y.scanLines,this.jfif=B,this.eof=k,this.adobe=D,this.components=[],t=0;t<y.components.length;t++){var ae=f[(j=y.components[t]).quantizationId];ae&&(j.quantizationTable=ae),this.components.push({output:x(0,j),scaleX:j.h/y.maxH,scaleY:j.v/y.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(w,C){var A,I,y,v,k,B,D,f,O,R,G,t=this.width/w,u=this.height/C,g=0,p=this.components.length,S=w*C*p,d=new Uint8ClampedArray(S),s=new Uint32Array(w),i=4294967288;for(D=0;D<p;D++){for(I=(A=this.components[D]).scaleX*t,y=A.scaleY*u,g=D,G=A.output,v=A.blocksPerLine+1<<3,k=0;k<w;k++)s[k]=((f=0|k*I)&i)<<3|7&f;for(B=0;B<C;B++)for(R=v*((f=0|B*y)&i)|(7&f)<<3,k=0;k<w;k++)d[g]=G[R+s[k]],g+=p}var h=this.decodeTransform;if(h)for(D=0;D<S;)for(f=0,O=0;f<p;f++,D++,O+=2)d[D]=(d[D]*h[O]>>8)+h[O+1];return d},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(w){for(var C,A,I,y=0,v=w.length;y<v;y+=3)A=w[y+1],w[y]=(C=w[y])-179.456+1.402*(I=w[y+2]),w[y+1]=C+135.459-.344*A-.714*I,w[y+2]=C-226.816+1.772*A;return w},_convertYcckToRgb:function(w){for(var C,A,I,y,v=0,k=0,B=w.length;k<B;k+=4)w[v++]=(A=w[k+1])*(-660635669420364e-19*A+.000437130475926232*(I=w[k+2])-54080610064599e-18*(C=w[k])+.00048449797120281*(y=w[k+3])-.154362151871126)-122.67195406894+I*(-.000957964378445773*I+.000817076911346625*C-.00477271405408747*y+1.53380253221734)+C*(.000961250184130688*C-.00266257332283933*y+.48357088451265)+y*(-.000336197177618394*y+.484791561490776),w[v++]=107.268039397724+A*(219927104525741e-19*A-.000640992018297945*I+.000659397001245577*C+.000426105652938837*y-.176491792462875)+I*(-.000778269941513683*I+.00130872261408275*C+.000770482631801132*y-.151051492775562)+C*(.00126935368114843*C-.00265090189010898*y+.25802910206845)+y*(-.000318913117588328*y-.213742400323665),w[v++]=A*(-.000570115196973677*A-263409051004589e-19*I+.0020741088115012*C-.00288260236853442*y+.814272968359295)-20.810012546947+I*(-153496057440975e-19*I-.000132689043961446*C+.000560833691242812*y-.195152027534049)+C*(.00174418132927582*C-.00255243321439347*y+.116935020465145)+y*(-.000343531996510555*y+.24165260232407);return w},_convertYcckToCmyk:function(w){for(var C,A,I,y=0,v=w.length;y<v;y+=4)A=w[y+1],w[y]=434.456-(C=w[y])-1.402*(I=w[y+2]),w[y+1]=119.541-C+.344*A+.714*I,w[y+2]=481.816-C-1.772*A;return w},_convertCmykToRgb:function(w){for(var C,A,I,y,v=0,k=1/255,B=0,D=w.length;B<D;B+=4)w[v++]=255+(C=w[B]*k)*(-4.387332384609988*C+54.48615194189176*(A=w[B+1]*k)+18.82290502165302*(I=w[B+2]*k)+212.25662451639585*(y=w[B+3]*k)-285.2331026137004)+A*(1.7149763477362134*A-5.6096736904047315*I-17.873870861415444*y-5.497006427196366)+I*(-2.5217340131683033*I-21.248923337353073*y+17.5119270841813)-y*(21.86122147463605*y+189.48180835922747),w[v++]=255+C*(8.841041422036149*C+60.118027045597366*A+6.871425592049007*I+31.159100130055922*y-79.2970844816548)+A*(-15.310361306967817*A+17.575251261109482*I+131.35250912493976*y-190.9453302588951)+I*(4.444339102852739*I+9.8632861493405*y-24.86741582555878)-y*(20.737325471181034*y+187.80453709719578),w[v++]=255+C*(.8842522430003296*C+8.078677503112928*A+30.89978309703729*I-.23883238689178934*y-14.183576799673286)+A*(10.49593273432072*A+63.02378494754052*I+50.606957656360734*y-112.23884253719248)+I*(.03296041114873217*I+115.60384449646641*y-193.58209356861505)-y*(22.33816807309886*y+180.12613974708367);return w},getData:function(w,C,A){if(this.numComponents>4)throw new Ce("Unsupported color mode");var I=this._getLinearizedBlockData(w,C);if(1===this.numComponents&&A){for(var y=I.length,v=new Uint8ClampedArray(3*y),k=0,B=0;B<y;B++){var D=I[B];v[k++]=D,v[k++]=D,v[k++]=D}return v}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(I);if(4===this.numComponents){if(this._isColorConversionNeeded())return A?this._convertYcckToRgb(I):this._convertYcckToCmyk(I);if(A)return this._convertCmykToRgb(I)}return I}},H}())&&(ie.exports=xe);const he=_e.exports},34022:(Pe,Ae,se)=>{se.d(Ae,{Z:()=>he});var ie,ge,xe,_e={exports:{}};ge=_e,ie=function(){function Ce(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return Ce.prototype={ensureBuffer:function(ce){var U=this.buffer,fe=U?U.byteLength:0;if(ce<fe)return U;for(var me=512;me<ce;)me<<=1;for(var z=new Uint8Array(me),oe=0;oe<fe;++oe)z[oe]=U[oe];return this.buffer=z},getByte:function(){for(var ce=this.pos;this.bufferLength<=ce;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(ce){var U=this.pos;if(ce){this.ensureBuffer(U+ce);for(var fe=U+ce;!this.eof&&this.bufferLength<fe;)this.readBlock();var me=this.bufferLength;fe>me&&(fe=me)}else{for(;!this.eof;)this.readBlock();fe=this.bufferLength}return this.pos=fe,this.buffer.subarray(U,fe)},lookChar:function(){for(var ce=this.pos;this.bufferLength<=ce;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var ce=this.pos;this.bufferLength<=ce;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(ce,U,fe){for(var me=ce+U;this.bufferLength<=me&&!this.eof;)this.readBlock();return new Stream(this.buffer,ce,U,fe)},skip:function(ce){ce||(ce=1),this.pos+=ce},reset:function(){this.pos=0}},Ce}(),void 0!==(xe=function(){if(!self||!self.Uint32Array)return null;var Ce=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ce=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),U=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fe=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],me=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function z(ne){throw new Error(ne)}function oe(ne){var W=0,Q=ne[W++],H=ne[W++];-1!=Q&&-1!=H||z("Invalid header in flate stream"),8!=(15&Q)&&z("Unknown compression method in flate stream"),((Q<<8)+H)%31!=0&&z("Bad FCHECK in flate stream"),32&H&&z("FDICT bit set in flate stream"),this.bytes=ne,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,ie.call(this)}return(oe.prototype=Object.create(ie.prototype)).getBits=function(ne){for(var W,Q=this.codeSize,H=this.codeBuf,ee=this.bytes,X=this.bytesPos;Q<ne;)void 0===(W=ee[X++])&&z("Bad encoding in flate stream"),H|=W<<Q,Q+=8;return W=H&(1<<ne)-1,this.codeBuf=H>>ne,this.codeSize=Q-=ne,this.bytesPos=X,W},oe.prototype.getCode=function(ne){for(var W=ne[0],Q=ne[1],H=this.codeSize,ee=this.codeBuf,X=this.bytes,K=this.bytesPos;H<Q;){var N;void 0===(N=X[K++])&&z("Bad encoding in flate stream"),ee|=N<<H,H+=8}var x=W[ee&(1<<Q)-1],L=x>>16,w=65535&x;return(0==H||H<L||0==L)&&z("Bad encoding in flate stream"),this.codeBuf=ee>>L,this.codeSize=H-L,this.bytesPos=K,w},oe.prototype.generateHuffmanTable=function(ne){for(var W=ne.length,Q=0,H=0;H<W;++H)ne[H]>Q&&(Q=ne[H]);for(var ee=1<<Q,X=new Uint32Array(ee),K=1,N=0,x=2;K<=Q;++K,N<<=1,x<<=1)for(var L=0;L<W;++L)if(ne[L]==K){var w=0,C=N;for(H=0;H<K;++H)w=w<<1|1&C,C>>=1;for(H=w;H<ee;H+=x)X[H]=K<<16|L;++N}return[X,Q]},oe.prototype.readBlock=function(){function ne(s,i,h,m,c){for(var b=s.getBits(h)+m;b-- >0;)i[x++]=c}var W=this.getBits(3);if(1&W&&(this.eof=!0),0!=(W>>=1)){var Q,H;if(1==W)Q=fe,H=me;else if(2==W){for(var ee=this.getBits(5)+257,X=this.getBits(5)+1,K=this.getBits(4)+4,N=Array(Ce.length),x=0;x<K;)N[Ce[x++]]=this.getBits(3);for(var L=this.generateHuffmanTable(N),w=0,C=(x=0,ee+X),A=new Array(C);x<C;){var I=this.getCode(L);16==I?ne(this,A,2,3,w):17==I?ne(this,A,3,3,w=0):18==I?ne(this,A,7,11,w=0):A[x++]=w=I}Q=this.generateHuffmanTable(A.slice(0,ee)),H=this.generateHuffmanTable(A.slice(ee,C))}else z("Unknown block type in flate stream");for(var y=(p=this.buffer)?p.length:0,v=this.bufferLength;;){var k=this.getCode(Q);if(k<256)v+1>=y&&(y=(p=this.ensureBuffer(v+1)).length),p[v++]=k;else{if(256==k)return void(this.bufferLength=v);var B=(k=ce[k-=257])>>16;B>0&&(B=this.getBits(B)),w=(65535&k)+B,k=this.getCode(H),(B=(k=U[k])>>16)>0&&(B=this.getBits(B));var D=(65535&k)+B;v+w>=y&&(y=(p=this.ensureBuffer(v+w)).length);for(var f=0;f<w;++f,++v)p[v]=p[v-D]}}}else{var O,R=this.bytes,G=this.bytesPos;void 0===(O=R[G++])&&z("Bad block header in flate stream");var t=O;void 0===(O=R[G++])&&z("Bad block header in flate stream"),t|=O<<8,void 0===(O=R[G++])&&z("Bad block header in flate stream");var u=O;void 0===(O=R[G++])&&z("Bad block header in flate stream"),(u|=O<<8)!=(65535&~t)&&z("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var g=this.bufferLength,p=this.ensureBuffer(g+t),S=g+t;this.bufferLength=S;for(var d=g;d<S;++d){if(void 0===(O=R[G++])){this.eof=!0;break}p[d]=O}this.bytesPos=G}},oe}())&&(ge.exports=xe);const he=_e.exports},25688:(Pe,Ae,se)=>{se.d(Ae,{Z:()=>ne});var z,ie=se(17626),ge=se(26584),xe=se(86810),_e=se(58817),he=se(63290),Ce=se(62208),ce=se(77712),U=se(66656),fe=se(76898);class me{constructor(Q=null,H=null,ee=null){this.minValue=Q,this.maxValue=H,this.noDataValue=ee}}let oe=z=class extends xe.wq{constructor(W){super(W),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.statistics=null}static createEmptyBand(W,Q){return new(z.getPixelArrayConstructor(W))(Q)}static getPixelArrayConstructor(W){let Q;switch(W){case"u1":case"u2":case"u4":case"u8":Q=Uint8Array;break;case"u16":Q=Uint16Array;break;case"u32":Q=Uint32Array;break;case"s8":Q=Int8Array;break;case"s16":Q=Int16Array;break;case"s32":Q=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":Q=Float32Array;break;case"f64":Q=Float64Array}return Q}castPixelType(W){if(!W)return"f32";let Q=W.toLowerCase();return["u1","u2","u4"].includes(Q)?Q="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(Q)||(Q="f32"),Q}getPlaneCount(){return this.pixels?.length}addData(W){if(!W.pixels||W.pixels.length!==this.width*this.height)throw new ge.Z("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(W.pixels),this.statistics.push(W.statistics??new me)}getAsRGBA(){const W=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(W);break;default:this._fillFrom8Bit(W)}return new Uint8ClampedArray(W)}getAsRGBAFloat(){const W=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(W),W}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map(H=>this._calculateBandStatistics(H,this.mask));const W=this.mask;let Q=0;if((0,Ce.pC)(W))for(let H=0;H<W.length;H++)W[H]&&Q++;else Q=this.width*this.height;this.validPixelCount=Q}clamp(W){if(!W||"f64"===W||"f32"===W||!this.pixels)return;let Q;switch(W){case"u8":Q=[0,255];break;case"u16":Q=[0,65535];break;case"u32":Q=[0,4294967295];break;case"s8":Q=[-128,127];break;case"s16":Q=[-32768,32767];break;case"s32":Q=[-2147483648,2147483647];break;default:Q=[-34e38,34e38]}const[H,ee]=Q,X=this.pixels,K=this.width*this.height,N=X.length;let x,L,w;const C=[];for(let A=0;A<N;A++){w=z.createEmptyBand(W,K),x=X[A];for(let I=0;I<K;I++)L=x[I],w[I]=L>ee?ee:L<H?H:L;C.push(w)}this.pixels=C,this.pixelType=W}extractBands(W){const{pixels:Q,statistics:H}=this;if((0,Ce.Wi)(W)||0===W.length||!Q||0===Q.length)return this;const ee=Q.length,X=W.some(N=>N>=Q.length),K=ee===W.length&&!W.some((N,x)=>N!==x);return X||K?this:new z({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:W.map(N=>Q[N]),statistics:H&&W.map(N=>H[N])})}clone(){const W=new z({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let Q;(0,Ce.pC)(this.mask)&&(W.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));const H=z.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){W.pixels=[];const ee=!!this.pixels[0].slice;for(Q=0;Q<this.pixels.length;Q++)W.pixels[Q]=ee?this.pixels[Q].slice(0,this.pixels[Q].length):new H(this.pixels[Q])}if(this.statistics)for(W.statistics=[],Q=0;Q<this.statistics.length;Q++)W.statistics[Q]=(0,_e.d9)(this.statistics[Q]);return W}_fillFrom8Bit(W){const{mask:Q,maskIsAlpha:H,pixels:ee}=this;if(!W||!ee||!ee.length)return void he.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let X,K,N,x;X=K=N=ee[0],ee.length>=3?(K=ee[1],N=ee[2]):2===ee.length&&(K=ee[1]);const L=new Uint32Array(W),w=this.width*this.height;if(X.length===w)if((0,Ce.pC)(Q)&&Q.length===w)if(H)for(x=0;x<w;x++)Q[x]&&(L[x]=Q[x]<<24|N[x]<<16|K[x]<<8|X[x]);else for(x=0;x<w;x++)Q[x]&&(L[x]=255<<24|N[x]<<16|K[x]<<8|X[x]);else for(x=0;x<w;x++)L[x]=255<<24|N[x]<<16|K[x]<<8|X[x];else he.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(W){const{pixels:Q,mask:H,statistics:ee}=this;if(!W||!Q||!Q.length)return void he.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const X=this.pixelType;let K=1,N=0,x=1;if(ee&&ee.length>0){for(const k of ee)null!=k.minValue&&(N=Math.min(N,k.minValue)),null!=k.maxValue&&null!=k.minValue&&(x=Math.max(x,k.maxValue-k.minValue));K=255/x}else{let k=255;"s8"===X?(N=-128,k=127):"u16"===X?k=65535:"s16"===X?(N=-32768,k=32767):"u32"===X?k=4294967295:"s32"===X?(N=-2147483648,k=2147483647):"f32"===X?(N=-34e38,k=34e38):"f64"===X&&(N=-Number.MAX_VALUE,k=Number.MAX_VALUE),K=255/(k-N)}const L=new Uint32Array(W),w=this.width*this.height;let C,A,I,y,v;if(C=A=I=Q[0],C.length!==w)return he.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(Q.length>=2)if(A=Q[1],Q.length>=3&&(I=Q[2]),(0,Ce.pC)(H)&&H.length===w)for(y=0;y<w;y++)H[y]&&(L[y]=255<<24|(I[y]-N)*K<<16|(A[y]-N)*K<<8|(C[y]-N)*K);else for(y=0;y<w;y++)L[y]=255<<24|(I[y]-N)*K<<16|(A[y]-N)*K<<8|(C[y]-N)*K;else if((0,Ce.pC)(H)&&H.length===w)for(y=0;y<w;y++)v=(C[y]-N)*K,H[y]&&(L[y]=255<<24|v<<16|v<<8|v);else for(y=0;y<w;y++)v=(C[y]-N)*K,L[y]=255<<24|v<<16|v<<8|v}_fillFrom32Bit(W){const{pixels:Q,mask:H}=this;if(!W||!Q||!Q.length)return he.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let ee,X,K,N;ee=X=K=Q[0],Q.length>=3?(X=Q[1],K=Q[2]):2===Q.length&&(X=Q[1]);const x=this.width*this.height;if(ee.length!==x)return he.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let L=0;if((0,Ce.pC)(H)&&H.length===x)for(N=0;N<x;N++)W[L++]=ee[N],W[L++]=X[N],W[L++]=K[N],W[L++]=1&H[N];else for(N=0;N<x;N++)W[L++]=ee[N],W[L++]=X[N],W[L++]=K[N],W[L++]=1}_calculateBandStatistics(W,Q){let H=1/0,ee=-1/0;const X=W.length;let K,N=0;if((0,Ce.pC)(Q))for(K=0;K<X;K++)Q[K]&&(N=W[K],H=N<H?N:H,ee=N>ee?N:ee);else for(K=0;K<X;K++)N=W[K],H=N<H?N:H,ee=N>ee?N:ee;return new me(H,ee)}};(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"width",void 0),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"height",void 0),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"pixelType",void 0),(0,ie._)([(0,U.p)("pixelType")],oe.prototype,"castPixelType",null),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"validPixelCount",void 0),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"mask",void 0),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"maskIsAlpha",void 0),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"pixels",void 0),(0,ie._)([(0,ce.Cb)({json:{write:!0}})],oe.prototype,"statistics",void 0),oe=z=(0,ie._)([(0,fe.j)("esri.layers.support.PixelBlock")],oe);const ne=oe},79645:(Pe,Ae,se)=>{se.d(Ae,{Z:()=>ne});var z,ie=se(17626),ge=se(86810),xe=se(58817),_e=se(62208),he=se(77712),ce=(se(90912),se(76898)),U=se(2004),fe=se(65234),me=se(27497);let oe=z=class extends ge.wq{constructor(W){super(W),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){const W=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===W?"standard-time":W}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(W){W&&this._set("nativeExtent",W)}get nativePixelSize(){if((0,_e.Wi)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const W=this.nativeExtent;return{x:W.width/this.width,y:W.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}clone(){return new z({attributeTable:(0,xe.d9)(this.attributeTable),bandCount:this.bandCount,colormap:(0,xe.d9)(this.colormap),extent:(0,xe.d9)(this.extent),nativePixelSize:(0,xe.d9)(this.nativePixelSize),format:this.format,height:this.height,width:this.width,histograms:(0,xe.d9)(this.histograms),keyProperties:(0,xe.d9)(this.keyProperties),multidimensionalInfo:(0,xe.d9)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,xe.d9)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,xe.d9)(this.spatialReference),statistics:(0,xe.d9)(this.statistics),storageInfo:(0,xe.d9)(this.storageInfo),transform:(0,xe.d9)(this.transform)})}};(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"attributeTable",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"bandCount",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"colormap",void 0),(0,ie._)([(0,he.Cb)({type:String,readOnly:!0})],oe.prototype,"dataType",null),(0,ie._)([(0,he.Cb)({type:U.Z,json:{write:!0}})],oe.prototype,"extent",void 0),(0,ie._)([(0,he.Cb)({type:U.Z,json:{write:!0}})],oe.prototype,"nativeExtent",null),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"nativePixelSize",null),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"format",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"height",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"width",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"hasMultidimensionalTranspose",null),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"histograms",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"keyProperties",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"multidimensionalInfo",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"noDataValue",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"pixelSize",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"pixelType",void 0),(0,ie._)([(0,he.Cb)()],oe.prototype,"isPseudoSpatialReference",void 0),(0,ie._)([(0,he.Cb)({type:fe.Z,json:{write:!0}})],oe.prototype,"spatialReference",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"statistics",void 0),(0,ie._)([(0,he.Cb)({type:me.Z,json:{write:!0}})],oe.prototype,"storageInfo",void 0),(0,ie._)([(0,he.Cb)({json:{write:!0}})],oe.prototype,"transform",void 0),oe=z=(0,ie._)([(0,ce.j)("esri.layers.support.RasterInfo")],oe);const ne=oe},27497:(Pe,Ae,se)=>{se.d(Ae,{Z:()=>me});var U,ie=se(17626),ge=se(86810),xe=se(58817),_e=se(77712),Ce=(se(90912),se(76898)),ce=se(72642);let fe=U=class extends ge.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new U({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,xe.d9)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,xe.d9)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,xe.d9)(this.tileInfo),transposeInfo:(0,xe.d9)(this.transposeInfo),blockBoundary:(0,xe.d9)(this.blockBoundary)})}};(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"blockWidth",void 0),(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"blockHeight",void 0),(0,ie._)([(0,_e.Cb)({type:String,json:{write:!0}})],fe.prototype,"compression",void 0),(0,ie._)([(0,_e.Cb)({type:ce.Z,json:{write:!0}})],fe.prototype,"origin",void 0),(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"firstPyramidLevel",void 0),(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"maximumPyramidLevel",void 0),(0,ie._)([(0,_e.Cb)({json:{write:!0}})],fe.prototype,"pyramidResolutions",void 0),(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"pyramidScalingFactor",void 0),(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"pyramidBlockWidth",void 0),(0,ie._)([(0,_e.Cb)({type:Number,json:{write:!0}})],fe.prototype,"pyramidBlockHeight",void 0),(0,ie._)([(0,_e.Cb)({type:Boolean,json:{write:!0}})],fe.prototype,"isVirtualTileInfo",void 0),(0,ie._)([(0,_e.Cb)({json:{write:!0}})],fe.prototype,"tileInfo",void 0),(0,ie._)([(0,_e.Cb)()],fe.prototype,"transposeInfo",void 0),(0,ie._)([(0,_e.Cb)()],fe.prototype,"blockBoundary",void 0),fe=U=(0,ie._)([(0,Ce.j)("esri.layers.support.RasterStorageInfo")],fe);const me=fe},15365:(Pe,Ae,se)=>{function ie(ge,xe){let _e=0,he="",Ce=0,ce=0;const U=ge.length;for(;_e<U;)ce=ge[_e++],Ce=ce>>4,Ce<8?Ce=1:15===Ce?(Ce=4,ce=(7&ce)<<18|(63&ge[_e++])<<12|(63&ge[_e++])<<6|63&ge[_e++]):14===Ce?(Ce=3,ce=(15&ce)<<12|(63&ge[_e++])<<6|63&ge[_e++]):(Ce=2,ce=(31&ce)<<6|63&ge[_e++]),(0!==ce||xe)&&(he+=String.fromCharCode(ce));return he}se.d(Ae,{f:()=>ie})},68786:(Pe,Ae,se)=>{se.d(Ae,{Jx:()=>oe,zD:()=>he});var ie=se(54346);const ge=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,128]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let xe=null,_e=null;function he(){return xe||(xe=se.e(2045).then(se.bind(se,72045)).then(W=>W.l).then(({default:W})=>W({locateFile:Q=>(0,ie.V)(`esri/layers/support/rasterFormats/${Q}`)})).then(W=>{(function me(W){const{_malloc:Q,_free:H,_lerc_getBlobInfo:ee,_lerc_getDataRanges:X,_lerc_decode_4D:K,asm:N}=W;let x;const L=Object.values(N).find(C=>C&&"buffer"in C&&C.buffer===W.HEAPU8.buffer),w=C=>{const A=C.map(k=>function U(W){return 16+(W>>3<<3)}(k)),I=A.reduce((k,B)=>k+B),y=Q(I);x=new Uint8Array(L.buffer);let v=A[0];A[0]=y;for(let k=1;k<A.length;k++){const B=A[k];A[k]=A[k-1]+v,v=B}return A};ce.getBlobInfo=C=>{const y=new Uint8Array(48),v=new Uint8Array(24),[k,B,D]=w([C.length,y.length,v.length]);x.set(C,k),x.set(y,B),x.set(v,D);let f=ee(k,C.length,B,D,12,3);if(f)throw H(k),`lerc-getBlobInfo: error code is ${f}`;x=new Uint8Array(L.buffer),fe(x,B,y),fe(x,D,v);const O=new Uint32Array(y.buffer),R=new Float64Array(v.buffer),[G,t,,u,g,p,S,d,s,i,h]=O,m={version:G,depthCount:i,width:u,height:g,validPixelCount:S,bandCount:p,blobSize:d,maskCount:s,dataType:t,minValue:R[0],maxValue:R[1],maxZerror:R[2],statistics:[],bandCountWithNoData:h};if(h)return m;if(1===i&&1===p)return H(k),m.statistics.push({minValue:R[0],maxValue:R[1]}),m;const c=i*p*8,b=new Uint8Array(c),T=new Uint8Array(c);let E=k,M=0,_=0,F=!1;if(x.byteLength<k+2*c?(H(k),F=!0,[E,M,_]=w([C.length,c,c]),x.set(C,E)):[M,_]=w([c,c]),x.set(b,M),x.set(T,_),f=X(E,C.length,i,p,M,_),f)throw H(E),F||H(M),`lerc-getDataRanges: error code is ${f}`;x=new Uint8Array(L.buffer),fe(x,M,b),fe(x,_,T);const P=new Float64Array(b.buffer),V=new Float64Array(T.buffer),j=m.statistics;for(let J=0;J<p;J++)if(i>1){const Z=P.slice(J*i,(J+1)*i),q=V.slice(J*i,(J+1)*i),$=Math.min.apply(null,Z),re=Math.max.apply(null,q);j.push({minValue:$,maxValue:re,depthStats:{minValues:Z,maxValues:q}})}else j.push({minValue:P[J],maxValue:V[J]});return H(E),F||H(M),m},ce.decode=(C,A)=>{const{maskCount:I,depthCount:y,bandCount:v,width:k,height:B,dataType:D,bandCountWithNoData:f}=A,O=ge[D],R=k*B,G=new Uint8Array(R*v),u=new Uint8Array(R*y*v*O.size),g=new Uint8Array(v),p=new Uint8Array(8*v),[S,d,s,i,h]=w([C.length,G.length,u.length,g.length,p.length]);x.set(C,S),x.set(G,d),x.set(u,s),x.set(g,i),x.set(p,h);const m=K(S,C.length,I,d,y,k,B,v,D,s,i,h);if(m)throw H(S),`lerc-decode: error code is ${m}`;x=new Uint8Array(L.buffer),fe(x,s,u),fe(x,d,G);let c=null;if(f){fe(x,i,g),fe(x,h,p),c=[];const b=new Float64Array(p.buffer);for(let T=0;T<g.length;T++)c.push(g[T]?b[T]:null)}return H(S),{data:u,maskData:G,noDataValues:c}}})(W),_e=!0}),xe)}const ce={getBlobInfo:null,decode:null};function fe(W,Q,H){H.set(W.slice(Q,Q+H.length))}function z(W,Q,H,ee,X){if(H<2)return W;const K=new ee(Q*H);if(X)for(let N=0,x=0;N<Q;N++)for(let L=0,w=N;L<H;L++,w+=Q)K[w]=W[x++];else for(let N=0,x=0;N<Q;N++)for(let L=0,w=N;L<H;L++,w+=Q)K[x++]=W[w];return K}function oe(W,Q={}){const H=Q.inputOffset??0,ee=W instanceof Uint8Array?W.subarray(H):new Uint8Array(W,H),X=ce.getBlobInfo(ee),{data:K,maskData:N}=ce.decode(ee,X),{width:x,height:L,bandCount:w,depthCount:C,dataType:A,maskCount:I,statistics:y}=X,v=ge[A],k=new v.ctor(K.buffer),B=[],D=[],f=x*L,O=f*C;for(let p=0;p<w;p++){const S=k.subarray(p*O,(p+1)*O);if(Q.returnInterleaved)B.push(S);else{const d=z(S,f,C,v.ctor,!0);B.push(d)}D.push(N.subarray(p*O,(p+1)*O))}const R=0===I?null:1===I?D[0]:new Uint8Array(f);if(I>1){R.set(D[0]);for(let p=1;p<D.length;p++){const S=D[p];for(let d=0;d<f;d++)R[d]=R[d]&S[d]}}const{noDataValue:G}=Q;if(I>0&&null!=G&&v.range[0]<=G&&v.range[1]>=G)for(let p=0;p<w;p++){const S=B[p],d=D[p]||R;for(let s=0;s<f;s++)0===d[s]&&(S[s]=G)}const u=I===w&&w>1?D:null,{pixelType:g}=v;return{width:x,height:L,bandCount:w,pixelType:g,depthCount:C,statistics:y,pixels:B,mask:R,bandMasks:u}}},94194:(Pe,Ae,se)=>{function ge(){const Ce=[];for(let ce=0;ce<=257;ce++)Ce[ce]=[ce];return Ce}function xe(Ce,ce){for(let U=0;U<ce.length;U++)Ce.push(ce[U])}se.d(Ae,{J:()=>he});const _e=new Set;function he(Ce,ce,U,fe=!0){const me=function ie(Ce,ce,U,fe=!0){if(ce%4!=0||U%4!=0){const me=new ArrayBuffer(4*Math.ceil(U/4)),z=new Uint8Array(me),oe=new Uint8Array(Ce,ce,U);if(fe)for(let ne=0;ne<z.length;ne+=4)z[ne]=oe[ne+3],z[ne+1]=oe[ne+2],z[ne+2]=oe[ne+1],z[ne+3]=oe[ne];else z.set(oe);return new Uint32Array(z.buffer)}if(fe){const me=new Uint8Array(Ce,ce,U),z=new Uint8Array(me.length);for(let oe=0;oe<z.length;oe+=4)z[oe]=me[oe+3],z[oe+1]=me[oe+2],z[oe+2]=me[oe+1],z[oe+3]=me[oe];return new Uint32Array(z.buffer)}return new Uint32Array(Ce,ce,U/4)}(Ce,ce,U,fe);let z=9,oe=ge(),ne=32,W=oe.length,Q=[],H=1,ee=me[0],X=0;const K=me.length,N=8*(4*K-U),x=[];for(;null!=ee;){if(ne>=z)ne-=z,X=ee>>>32-z,ee<<=z;else{X=ee>>>32-ne,ee=me[H++];const w=z-ne;ne=32-w,X=(X<<w)+(ee>>>ne),ee<<=w}if(257===X)break;if(256===X){z=9,oe=ge(),W=oe.length,Q=[];continue}const L=oe[X];if(null==L){if(X>oe.length)throw"data integrity issue: code does not exist on code page";Q.push(Q[0]),oe[W++]=Q.slice(),xe(x,Q)}else xe(x,L),Q.push(L[0]),Q.length>1&&(oe[W++]=Q.slice()),Q=L.slice();if(_e.has(W)&&z++,0===ne&&(ee=me[H++],ne=32),H>K||H===K&&ne<=N)break}return new Uint8Array(x)}_e.add(511),_e.add(1023),_e.add(2047),_e.add(4095),_e.add(8191)},8614:(Pe,Ae,se)=>{se.d(Ae,{J:()=>p,y:()=>g});var ie=se(15861),ge=se(26584),xe=se(62208),_e=se(25688),he=se(10699),Ce=se(34022);class ce{constructor(s){this._canvas=null,this._ctx=null,s&&(this._canvas=s.canvas,this._ctx=s.ctx||s.canvas&&s.canvas.getContext("2d"))}decode(s,i,h){if(!s||s.byteLength<10)throw new ge.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:m=0,height:c=0,format:b}=i;const{applyJpegMask:T}=i;if(T&&(!m||!c))throw new ge.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((E,M)=>{let _=null;"jpg"===b&&T&&(_=ce._getMask(s,{width:m,height:c}));const F=new Blob([new Uint8Array(s)],{type:"image/"+b=="jpg"?"jpeg":b}),P=URL.createObjectURL(F),V=new Image;let j;V.src=P,V.onload=()=>{if(URL.revokeObjectURL(P),(0,he.Hc)(h))return void M((0,he.zE)());m=V.width,c=V.height,this._canvas&&this._ctx?(this._canvas.width===m&&this._canvas.height===c||(this._canvas.width=m,this._canvas.height=c),this._ctx.clearRect(0,0,m,c)):(this._canvas=document.createElement("canvas"),this._canvas.width=m,this._canvas.height=c,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(V,0,0);const J=this._ctx.getImageData(0,0,m,c);let Z;if(j=J.data,i.renderOnCanvas){if(_)for(Z=0;Z<_.length;Z++)j[4*Z+3]=_[Z]?255:0;return this._ctx.putImageData(J,0,0),void E(null)}const q=m*c,$=new Uint8Array(q),re=new Uint8Array(q),Y=new Uint8Array(q);if(_)for(Z=0;Z<q;Z++)$[Z]=j[4*Z],re[Z]=j[4*Z+1],Y[Z]=j[4*Z+2];else for(_=new Uint8Array(q),Z=0;Z<q;Z++)$[Z]=j[4*Z],re[Z]=j[4*Z+1],Y[Z]=j[4*Z+2],_[Z]=j[4*Z+3];E({width:m,height:c,pixels:[$,re,Y],mask:_,pixelType:"u8"})},V.onerror=()=>{URL.revokeObjectURL(P),M("cannot load image")}})}static _getMask(s,i){let h=null;try{const m=new Uint8Array(s),c=Math.ceil(m.length/2);let b=0;const T=m.length-2;for(b=c;b<T&&(255!==m[b]||217!==m[b+1]);b++);if(b+=2,b<m.length-1){const E=new Ce.Z(m.subarray(b)).getBytes();h=new Uint8Array(i.width*i.height);let M=0;for(let _=0;_<E.length;_++)for(let F=7;F>=0;F--)h[M++]=E[_]>>F&1}}catch{}return h}}var U=se(89890);class fe{static decode(s,i=!1){const h=new Uint8Array(s),m=new U.J;m.parse(h);const{width:c,height:b,numComponents:T,eof:E}=m,M=m.getData(c,b,!0),_=c*b;let F,P=null,V=0,j=0,J=0;if(!i&&E<h.length-1)try{const Z=new Ce.Z(h.subarray(E)).getBytes();P=new Uint8Array(_);let q=0;for(V=0;V<Z.length;V++)for(J=7;J>=0;J--)P[q++]=Z[V]>>J&1}catch{}if(1===T&&M.length===c*b)F=[M,M,M];else{for(F=[],V=0;V<3;V++)F.push(new Uint8Array(_));for(J=0,j=0;j<_;j++)for(V=0;V<3;V++)F[V][j]=M[J++]}return{width:c,height:b,pixels:F,mask:P}}}var me=se(68786),z=se(94194);const oe=(d,s)=>Math.floor(d.byteLength/(s.width*s.height*ne(s.pixelType))),ne=d=>{let s=1;switch(d){case Uint8Array:case Int8Array:s=1;break;case Uint16Array:case Int16Array:s=2;break;case Uint32Array:case Int32Array:case Float32Array:s=4;break;case Float64Array:s=8}return s};class Q{static decode(s,i){const h=i.pixelType,m=[],c=i.width*i.height,b=oe(s,i),{bandIds:T,format:E}=i,M=T&&T.length||oe(s,i),_=s.byteLength-s.byteLength%(c*ne(h)),F=new h(s,0,c*b);let P,V,j,J,Z=null;if("bip"===E)for(P=0;P<M;P++){for(j=new h(c),J=T?T[P]:P,V=0;V<c;V++)j[V]=F[V*b+J];m.push(j)}else if("bsq"===E)for(P=0;P<M;P++)J=T?T[P]:P,m.push(F.subarray(J*c,(J+1)*c));return _<s.byteLength-1&&(Z=((d,s)=>{if(8*d.byteLength<s)return null;const i=new Uint8Array(d,0,Math.ceil(s/8)),h=new Uint8Array(s);let m=0,c=0,b=0,T=0;for(b=0;b<i.length-1;b++)for(c=i[b],T=7;T>=0;T--)h[m++]=c>>T&1;for(T=7;m<s-1;)c=i[i.length-1],h[m++]=c>>T&1,T--;return h})(s.slice(_),c)),{pixels:m,mask:Z}}}var H=se(93122),ee=se(44853),X=function(d){var m,c,b;function T(E){var M,F,P,V,j,J,Z,q,$,re,Y,ue;for(this.data=E,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},V=null;;){switch(M=this.readUInt32(),Z=function(){var pe,ae;for(ae=[],pe=0;pe<4;++pe)ae.push(String.fromCharCode(this.data[this.pos++]));return ae}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(M);break;case"fcTL":V&&this.animation.frames.push(V),this.pos+=4,V={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},P=this.readUInt16(),F=this.readUInt16()||100,V.delay=1e3*P/F,V.disposeOp=this.data[this.pos++],V.blendOp=this.data[this.pos++],V.data=[];break;case"IDAT":case"fdAT":for("fdAT"===Z&&(this.pos+=4,M-=4),E=V?.data||this.imgData,re=0;0<=M?re<M:re>M;0<=M?++re:--re)E.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(M),(q=255-this.transparency.indexed.length)>0)for(Y=0;0<=q?Y<q:Y>q;0<=q?++Y:--Y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(M)[0];break;case 2:this.transparency.rgb=this.read(M)}break;case"tEXt":j=($=this.read(M)).indexOf(0),J=String.fromCharCode.apply(String,$.slice(0,j)),this.text[J]=String.fromCharCode.apply(String,$.slice(j+1));break;case"IEND":return V&&this.animation.frames.push(V),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ue=this.colorType)||6===ue,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=M}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return T.load=function(E,M,_){var F;return"function"==typeof M&&(_=M),(F=new XMLHttpRequest).open("GET",E,!0),F.responseType="arraybuffer",F.onload=function(){var P;return P=new T(new Uint8Array(F.response||F.mozResponseArrayBuffer)),"function"==typeof M?.getContext&&P.render(M),"function"==typeof _?_(P):void 0},F.send(null)},T.prototype.read=function(E){var M,_;for(_=[],M=0;0<=E?M<E:M>E;0<=E?++M:--M)_.push(this.data[this.pos++]);return _},T.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},T.prototype.decodePixels=function(E){var M,_,F,P,V,j,J,Z,$,re,Y,ue,pe,ae,te,le,ye,de,be,Te,we,ve;if(null==E&&(E=this.imgData),0===E.length)return new Uint8Array(0);for(E=(E=new Ce.Z(E)).getBytes(),te=(Y=this.pixelBitlength/8)*this.width,ue=new Uint8Array(te*this.height),j=E.length,ae=0,pe=0,_=0;pe<j;){switch(E[pe++]){case 0:for(P=de=0;de<te;P=de+=1)ue[_++]=E[pe++];break;case 1:for(P=be=0;be<te;P=be+=1)M=E[pe++],V=P<Y?0:ue[_-Y],ue[_++]=(M+V)%256;break;case 2:for(P=Te=0;Te<te;P=Te+=1)M=E[pe++],F=(P-P%Y)/Y,ue[_++]=((le=ae&&ue[(ae-1)*te+F*Y+P%Y])+M)%256;break;case 3:for(P=we=0;we<te;P=we+=1)M=E[pe++],F=(P-P%Y)/Y,V=P<Y?0:ue[_-Y],le=ae&&ue[(ae-1)*te+F*Y+P%Y],ue[_++]=(M+Math.floor((V+le)/2))%256;break;case 4:for(P=ve=0;ve<te;P=ve+=1)M=E[pe++],F=(P-P%Y)/Y,0===ae?le=ye=0:(le=ue[(ae-1)*te+F*Y+P%Y],ye=F&&ue[(ae-1)*te+(F-1)*Y+P%Y]),J=(V=P<Y?0:ue[_-Y])+le-ye,Z=Math.abs(J-V),$=Math.abs(J-le),re=Math.abs(J-ye),ue[_++]=(M+(Z<=$&&Z<=re?V:$<=re?le:ye))%256;break;default:throw new Error("Invalid filter algorithm: "+E[pe-1])}ae++}return ue},T.prototype.decodePalette=function(){var E,M,_,F,P,V,j,J,Z;for(_=this.palette,V=this.transparency.indexed||[],P=new Uint8Array((V.length||0)+_.length),F=0,E=0,M=j=0,J=_.length;j<J;M=j+=3)P[F++]=_[M],P[F++]=_[M+1],P[F++]=_[M+2],P[F++]=null!=(Z=V[E++])?Z:255;return P},T.prototype.copyToImageData=function(E,M){var _,F,P,V,j,J,Z,q,$,re,Y;if(F=this.colors,$=null,_=this.hasAlphaChannel,this.palette.length&&($=null!=(Y=this._decodedPalette)?Y:this._decodedPalette=this.decodePalette(),F=4,_=!0),q=(P=E.data||E).length,j=$||M,V=J=0,1===F)for(;V<q;)Z=$?4*M[V/4]:J,re=j[Z++],P[V++]=re,P[V++]=re,P[V++]=re,P[V++]=_?j[Z++]:this.transparency.grayscale&&this.transparency.grayscale===re?0:255,J=Z;else for(;V<q;)Z=$?4*M[V/4]:J,P[V++]=j[Z++],P[V++]=j[Z++],P[V++]=j[Z++],P[V++]=_?j[Z++]:this.transparency.rgb&&this.transparency.rgb[1]===j[Z-3]&&this.transparency.rgb[3]===j[Z-2]&&this.transparency.rgb[5]===j[Z-1]?0:255,J=Z},T.prototype.decode=function(){var E;return E=new Uint8Array(this.width*this.height*4),this.copyToImageData(E,this.decodePixels()),E},c=d.document&&d.document.createElement("canvas"),b=c&&c.getContext("2d"),m=function(E){var M;return b.width=E.width,b.height=E.height,b.clearRect(0,0,E.width,E.height),b.putImageData(E,0,0),(M=new Image).src=c.toDataURL(),M},T.prototype.decodeFrames=function(E){var M,_,F,P,V,j,J,Z;if(this.animation){for(Z=[],_=V=0,j=(J=this.animation.frames).length;V<j;_=++V)F=E.createImageData((M=J[_]).width,M.height),P=this.decodePixels(new Uint8Array(M.data)),this.copyToImageData(F,P),M.imageData=F,Z.push(M.image=m(F));return Z}},T.prototype.renderFrame=function(E,M){var _,F,P;return _=(F=this.animation.frames)[M],P=F[M-1],0===M&&E.clearRect(0,0,this.width,this.height),1===P?.disposeOp?E.clearRect(P.xOffset,P.yOffset,P.width,P.height):2===P?.disposeOp&&E.putImageData(P.imageData,P.xOffset,P.yOffset),0===_.blendOp&&E.clearRect(_.xOffset,_.yOffset,_.width,_.height),E.drawImage(_.image,_.xOffset,_.yOffset)},T.prototype.animate=function(E){var M,_,F,P,V,j,J=this;return _=0,P=(j=this.animation).numFrames,F=j.frames,V=j.numPlays,(M=function(){var Z,q;if(Z=_++%P,q=F[Z],J.renderFrame(E,Z),P>1&&_/P<V)return J.animation._timeout=setTimeout(M,q.delay)})()},T.prototype.stopAnimation=function(){var E;return clearTimeout(null!=(E=this.animation)?E._timeout:void 0)},T.prototype.render=function(E){var M,_;return E._png&&E._png.stopAnimation(),E._png=this,E.width=this.width,E.height=this.height,M=E.getContext("2d"),this.animation?(this.decodeFrames(M),this.animate(M)):(_=M.createImageData(this.width,this.height),this.copyToImageData(_,this.decodePixels()),M.putImageData(_,0,0))},T}(self);const K=new Set(["jpg","png","bmp","gif"]);function N(d,s){return x.apply(this,arguments)}function x(){return(x=(0,ie.Z)(function*(d,s){if(!ee.f)throw new ge.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,me.zD)();const{offset:i,noDataValue:h}=s,{width:m,height:c,pixelType:b,statistics:T,pixels:E,mask:M}=(0,me.Jx)(d,{inputOffset:i,noDataValue:h,returnInterleaved:s.returnInterleaved});return new _e.Z({width:m,height:c,pixelType:b.toLowerCase(),pixels:E,mask:M,statistics:T})})).apply(this,arguments)}function L(d,s){return w.apply(this,arguments)}function w(){return(w=(0,ie.Z)(function*(d,s){const i=yield(0,H.Jx)(d,s);(0,xe.O3)(i);const h=new _e.Z({width:i.width,height:i.height,pixels:i.pixels,pixelType:i.pixelType.toLowerCase(),mask:i.mask,statistics:null});return h.updateStatistics(),h})).apply(this,arguments)}function C(d,s){return A.apply(this,arguments)}function A(){return(A=(0,ie.Z)(function*(d,s){const i=yield(0,H.Uw)(d,s.customOptions),h=new _e.Z({width:i.width,height:i.height,pixels:i.pixels,pixelType:i.pixelType.toLowerCase(),mask:i.mask,statistics:null});return h.updateStatistics(),h})).apply(this,arguments)}function I(d,s){const i=s.pixelType||"u8",h=_e.Z.getPixelArrayConstructor(i),m="u8"===i?d:new h(d.buffer),c=[],b=s.planes||1;if(1===b)c.push(m);else for(let E=0;E<b;E++){const M=(s.width||1)*(s.height||d.length),_=new h(M);for(let F=0;F<M;F++)_[F]=m[F*b+E];c.push(_)}const T=new _e.Z({width:s.width||1,height:s.height||d.length,pixels:c,pixelType:i,statistics:null});return T.updateStatistics(),T}function y(d,s){return I(new Ce.Z(new Uint8Array(d)).getBytes(),s)}function v(d,s){return I((0,z.J)(d,s.offset,s.eof,!s.isInputBigEndian),s)}function k(d,s,i){const{pixelTypeCtor:h}=function t(d){let s=null,i=null;switch(d?d.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":i=255,s=Uint8Array;break;case"u16":i=i||65535,s=Uint16Array;break;case"u32":i=i||2**32-1,s=Uint32Array;break;case"s8":i=i||-128,s=Int8Array;break;case"s16":i=i||-32768,s=Int16Array;break;case"s32":i=i||0-2**31,s=Int32Array;break;default:s=Float32Array}return{pixelTypeCtor:s,noDataValue:i}}(s.pixelType),m=(0,Q.decode)(d,{width:s.width,height:s.height,pixelType:h,format:i}),c=new _e.Z({width:s.width,height:s.height,pixels:m.pixels,pixelType:s.pixelType,mask:m.mask,statistics:null});return c.updateStatistics(),c}function B(d,s){const i=fe.decode(d,s.hasNoZlibMask??void 0),h=new _e.Z({width:i.width,height:i.height,pixels:i.pixels,pixelType:"U8",mask:i.mask,statistics:null});return h.updateStatistics(),h}function D(d,s){const i=new Uint8Array(d),h=new X(i),{width:m,height:c}=s,b=m*c,T=h.decode();let E,M=0,_=0;const F=new Uint8Array(b);for(M=0;M<b;M++)F[M]=T[4*M+3];const P=new _e.Z({width:m,height:c,pixels:[],pixelType:"U8",mask:F,statistics:[]});for(M=0;M<3;M++){for(E=new Uint8Array(b),_=0;_<b;_++)E[_]=T[4*_+M];P.addData({pixels:E})}return P.updateStatistics(),P}function f(d,s,i,h){return O.apply(this,arguments)}function O(){return(O=(0,ie.Z)(function*(d,s,i,h){const m=new ce,c={applyJpegMask:!1,format:s,...i},b=yield m.decode(d,c,h),T=new _e.Z(b);return T.updateStatistics(),T})).apply(this,arguments)}function R(d){if(null==d)throw new ge.Z("rasterCodec:decode","parameter encodeddata is required.");const s=new Uint8Array(d,0,10);let i="";return 255===s[0]&&216===s[1]?i="jpg":137===s[0]&&80===s[1]&&78===s[2]&&71===s[3]?i="png":67===s[0]&&110===s[1]&&116===s[2]&&90===s[3]&&73===s[4]&&109===s[5]&&97===s[6]&&103===s[7]&&101===s[8]&&32===s[9]?i="lerc":76===s[0]&&101===s[1]&&114===s[2]&&99===s[3]&&50===s[4]&&32===s[5]?i="lerc2":73===s[0]&&73===s[1]&&42===s[2]&&0===s[3]||77===s[0]&&77===s[1]&&0===s[2]&&42===s[3]||73===s[0]&&73===s[1]&&43===s[2]&&0===s[3]||77===s[0]&&77===s[1]&&0===s[2]&&43===s[3]?i="tiff":71===s[0]&&73===s[1]&&70===s[2]?i="gif":66===s[0]&&77===s[1]?i="bmp":String.fromCharCode.apply(null,s).toLowerCase().includes("error")&&(i="error"),i}function G(d){let s=null;switch(d){case"lerc":case"lerc2":s=N;break;case"jpg":s=B;break;case"png":s=D;break;case"bsq":case"bip":s=(i,h)=>k(i,h,d);break;case"tiff":s=L;break;case"deflate":s=y;break;case"lzw":s=v;break;case"error":s=()=>{throw new ge.Z("rasterCodec:decode","input data contains error")};break;default:s=()=>{throw new ge.Z("rasterCodec:decode","unsupported raster format")}}return s}function u(d,s=1){if(!d)return;const{pixels:i,width:h,height:m,mask:c}=d;if(!i||0===i.length)return;const b=i.length,T=h-1,E=m-1,M=[];let _,F,P,V,j,J,Z=null;const q=_e.Z.getPixelArrayConstructor(d.pixelType);if(0===s){for(_=0;_<b;_++){for(j=i[_],J=new q(T*E),F=0;F<E;F++)for(V=F*h,P=0;P<T;P++)J[F*T+P]=j[V+P];M.push(J)}if((0,xe.pC)(c))for(Z=new Uint8Array(T*E),F=0;F<E;F++)for(V=F*h,P=0;P<T;P++)Z[F*T+P]=c[V+P]}else{for(_=0;_<b;_++){for(j=i[_],J=new q(T*E),F=0;F<E;F++)for(V=F*h,P=0;P<T;P++)J[F*T+P]=(j[V+P]+j[V+P+1]+j[V+h+P]+j[V+h+P+1])/4;M.push(J)}if(c)for(Z=new Uint8Array(T*E),F=0;F<E;F++)for(V=F*h,P=0;P<T;P++)Z[F*T+P]=Math.min.apply(null,[c[V+P],c[V+P+1],c[V+h+P],c[V+h+P+1]])}d.width=T,d.height=E,d.mask=Z,d.pixels=M}function g(d){let s=R(d);return"lerc2"===s?s="lerc":"error"===s&&(s=""),s}function p(d){return S.apply(this,arguments)}function S(){return(S=(0,ie.Z)(function*(d,s={},i){if(null==d)throw new ge.Z("rasterCodec:decode","missing encodeddata parameter.");let h,m,c=s.format&&s.format.toLowerCase();if(!("bsq"!==c&&"bip"!==c||null!=s.width&&null!=s.height))throw new ge.Z("rasterCodec:decode","requires width and height in options parameter.");return"tiff"===c&&s.customOptions?C(d,s):((!c||"bsq"!==c&&"bip"!==c&&"deflate"!==c&&"lzw"!==c)&&(c=R(d)),s.useCanvas&&K.has(c)?m=yield f(d,c,s,i):(h=G(c),s.isPoint&&(null!=(s={...s}).width&&s.width++,null!=s.height&&s.height++),m=yield h(d,s),s.isPoint&&u(m)),m)})).apply(this,arguments)}},93122:(Pe,Ae,se)=>{se.d(Ae,{Dq:()=>k,FI:()=>B,If:()=>D,Jx:()=>d,Uw:()=>p,cK:()=>t,vr:()=>u});var ie=se(15861),ge=se(62208),xe=se(15365),_e=se(89890),he=se(68786),Ce=se(94194),ce=se(635),U=se(44853),fe=se(34022);const me=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],z=4294967296,oe=new Set([1,5,6,7,8,34712,34887]);function ne(i,h){let m="unknown";return 3===i?m=64===h?"f64":"f32":1===i?1===h?m="u1":2===h?m="u2":4===h?m="u4":h<=8?m="u8":h<=16?m="u16":h<=32&&(m="u32"):2===i&&(h<=8?m="s8":h<=16?m="s16":h<=32&&(m="s32")),m}function W(i){let h=null;switch(i?i.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":h=Uint8Array;break;case"u16":h=Uint16Array;break;case"u32":h=Uint32Array;break;case"s8":h=Int8Array;break;case"s16":h=Int16Array;break;case"s32":h=Int32Array;break;case"f64":h=Float64Array;break;default:h=Float32Array}return h}function Q(i,h){return{x:h[0]*i.x+h[1]*i.y+h[2],y:h[3]*i.x+h[4]*i.y+h[5]}}function H(i,h){return i.get(h)?.values}function ee(i,h){return i.get(h)?.values}function X(i,h){return i.get(h)?.values?.[0]}function K(i,h){return i.get(h)?.values?.[0]}function N(i,h,m,c=0,b=ce.Z.TIFF_TAGS,T=4){const E=8===T,M=E?O(new DataView(i,m,8),0,h):new DataView(i,m,2).getUint16(0,h),_=4+2*T,F=E?8:2,P=F+M*_;if(m+P>i.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:P};const V=m+P+4<=i.byteLength?G(new DataView(i,m+P,8===T?8:4),0,h,8===T):null,j=m+F,J=new Map;let Z,q,$,re,Y,ue=0,pe=0;for(let ae=0;ae<M;ae++){q=new DataView(i,j+_*ae,_),$=q.getUint16(0,h),Y=q.getUint16(2,h),re=ce.Z.getTagName($,b);const te=[];2===T?(ue=q.getUint16(4,h),pe=q.getUint16(6,h)):4===T?(ue=q.getUint32(4,h),pe=q.getUint32(8,h)):8===T&&(ue=G(q,4,h,!0),pe=G(q,12,h,!0),te.push(q.getUint32(12,h)),te.push(q.getUint32(16,h))),Z={id:$,type:Y,valueCount:ue,valueOffset:pe,valueOffsets:te,values:null},k(i,h,Z,c,!1,T),J.set(re,Z)}return{success:!0,ifd:J,nextIFD:V,requiredBufferSize:P}}const x=(i,h)=>(0,he.Jx)(i,{inputOffset:h}).pixels[0];function L(i,h,m,c,b){return w.apply(this,arguments)}function w(){return(w=(0,ie.Z)(function*(i,h,m,c,b){const T=U.f===h,E=K(m,"BITSPERSAMPLE"),M=ne(K(m,"SAMPLEFORMAT")??1,E),_=K(m,"COMPRESSION")??1,F=W(M);let P,V,j,J,Z,q,$;if(34887===_)return yield(0,he.zD)(),x(i,c);if(1===_)$=i.slice(c,c+b),j=new Uint8Array($);else if(8===_||32946===_)j=new Uint8Array(i,c,b),Z=new fe.Z(j),q=Z.getBytes(),$=new ArrayBuffer(q.length),j=new Uint8Array($),j.set(q);else if(6===_){j=new Uint8Array(i,c,b);const re=new _e.J;re.parse(j);const Y=re.getData(re.width,re.height,!0);$=new ArrayBuffer(Y.length),j=new Uint8Array($),j.set(Y)}else if(7===_){const re=m.get("JPEGTABLES").values,Y=re.length-2;j=new Uint8Array(Y+b-2);for(let te=0;te<Y;te++)j[te]=re[te];const ue=new Uint8Array(i,c+2,b-2);for(let te=0;te<ue.length;te++)j[Y+te]=ue[te];const pe=new _e.J;pe.parse(j);const ae=pe.getData(pe.width,pe.height,!0);$=new ArrayBuffer(ae.length),j=new Uint8Array($),j.set(ae)}else 5===_&&(j=(0,Ce.J)(i,c,b,h),$=j.buffer);if("u8"===M||"s8"===M||T)V=new F($);else{switch((0,ge.O3)(j),$=new ArrayBuffer(j.length),J=new Uint8Array($),M){case"u16":case"s16":for(P=0;P<j.length;P+=2)J[P]=j[P+1],J[P+1]=j[P];break;case"u32":case"s32":case"f32":for(P=0;P<j.length;P+=4)J[P]=j[P+3],J[P+1]=j[P+2],J[P+2]=j[P+1],J[P+3]=j[P]}V=new F($)}return V})).apply(this,arguments)}function C(i,h,m){return A.apply(this,arguments)}function A(){return(A=(0,ie.Z)(function*(i,h,m){const c=ee(m,"TILEOFFSETS");if(void 0===c)return null;const b=ee(m,"TILEBYTECOUNTS"),{width:T,height:E,pixelType:M,tileWidth:_,tileHeight:F}=B([m]),P=D(m,h),V=h.planes,j=T*E,J=K(m,"BITSPERSAMPLE"),Z=34887===(K(m,"COMPRESSION")??1),q=W(M),$=[];for(let Se=0;Se<V;Se++)$.push(new q(j));let re,Y,ue,pe,ae,te,le,ye,de,be,Te,we,ve;const Ee=Math.ceil(T/_);if(J%8==0)if(Z&&P&&V>1){const Se=Math.round(c.length/V);for(re=0;re<Se;re++){te=Math.floor(re/Ee)*F,le=re%Ee*_,ye=te*T+le;for(let Ie=0;Ie<V;Ie++){const De=re*V+Ie;if(0!==b[De])for(ue=yield L(i,h.littleEndian,m,c[De],b[De]),be=0,de=ye,we=Math.min(_,T-le),Te=Math.min(F,E-te),ve=$[Ie],pe=0;pe<Te;pe++)for(de=ye+pe*T,be=pe*_,ae=0;ae<we;ae++,de++,be++)ve[de]=ue[be]}}}else for(re=0;re<c.length;re++)if(0!==b[re])for(te=Math.floor(re/Ee)*F,le=re%Ee*_,ye=te*T+le,ue=yield L(i,h.littleEndian,m,c[re],b[re]),be=0,de=ye,we=Math.min(_,T-le),Te=Math.min(F,E-te),Y=0;Y<V;Y++)if(ve=$[Y],P||Z)for(pe=0;pe<Te;pe++)for(de=ye+pe*T,be=_*F*Y+pe*_,ae=0;ae<we;ae++,de++,be++)ve[de]=ue[be];else for(pe=0;pe<Te;pe++)for(de=ye+pe*T,be=pe*_*V+Y,ae=0;ae<we;ae++,de++,be+=V)ve[de]=ue[be];return{width:T,height:E,pixelType:M,pixels:$}})).apply(this,arguments)}const I=(i,h,m)=>{const c=U.f===h.littleEndian,b=ee(m,"STRIPOFFSETS");if(void 0===b)return null;const{width:T,height:E,pixelType:M}=B([m]),_=h.planes,F=T*E,P=K(m,"BITSPERSAMPLE"),V=W(M),j=new V(F*_),J=ee(m,"STRIPBYTECOUNTS"),Z=K(m,"ROWSPERSTRIP"),q=K(m,"COMPRESSION")??1;let $,re,Y,ue,pe,ae,te,le,ye,de,be,Te=Z;if(P%8==0)for($=0;$<b.length;$++){if(pe=$*(Z*T)*_,Te=($+1)*Z>E?E-$*Z:Z,"u8"===M||"s8"===M||c){if(8===q||32946===q)te=new Uint8Array(i,b[$],J[$]),de=new fe.Z(te),be=de.getBytes(),ae=new ArrayBuffer(be.length),te=new Uint8Array(ae),te.set(be),te.length!==Te*T*_*P/8&&console.log("strip byte counts is different than expected");else if(6===q){te=new Uint8Array(i,b[$],J[$]);const ve=new _e.J;ve.parse(te);const Ee=ve.getData(ve.width,ve.height,!0);ae=new ArrayBuffer(Ee.length),te=new Uint8Array(ae),te.set(Ee)}else 5===q?(te=(0,Ce.J)(i,b[$],J[$],h.littleEndian),ae=te.buffer):(J[$]!==Te*T*_*P/8&&console.log("strip byte counts is different than expected"),ae=i.slice(b[$],b[$]+J[$]));ue=new V(ae)}else{switch(6===q||8===q||32946===q?(te=new Uint8Array(i,b[$],J[$]),de=new fe.Z(te),te=de.getBytes(),ae=new ArrayBuffer(te.length),le=new Uint8Array(ae),te.length!==Te*T*_*P/8&&console.log("strip byte counts is different than expected")):(J[$]!==Te*T*_*P/8&&console.log("strip byte counts is different than expected"),ae=new ArrayBuffer(J[$]),te=new Uint8Array(i,b[$],J[$]),le=new Uint8Array(ae)),M){case"u16":case"s16":for(Y=0;Y<te.length;Y+=2)le[Y]=te[Y+1],le[Y+1]=te[Y];break;case"u32":case"s32":case"f32":for(Y=0;Y<te.length;Y+=4)le[Y]=te[Y+3],le[Y+1]=te[Y+2],le[Y+2]=te[Y+1],le[Y+3]=te[Y]}(0,ge.O3)(ae),ue=new V(ae)}j.set(ue,pe)}const we=[];if(1===_)we.push(j);else for($=0;$<_;$++){for(ye=new V(F),re=0;re<F;re++)ye[re]=j[re*_+$];we.push(ye)}return{width:T,height:E,pixelType:M,pixels:we}},y=(i,h,m)=>{if(!(i&&i.length>0&&h&&m))return null;let c,b,T;const E=i[0].length,M=i.length,_=new Uint8Array(E);for(let F=0;F<M;F++)if(c=i[F],b=h[F],T=m[F],0===F)for(let P=0;P<E;P++)_[P]=c[P]<b||c[P]>T?0:1;else for(let P=0;P<E;P++)_[P]&&(_[P]=c[P]<b||c[P]>T?0:1);return _};function k(i,h,m,c=0,b=!1,T=4){if(m.values)return!0;const E=m.type,M=m.valueCount;let _=m.valueOffset,F=[];const P=me[E],V=8*P,j=M*P,J=M*me[E]*8;let Z,q;const $=8===T?64:32,re=m.valueOffsets;if(J>$&&j>(b?i.byteLength:i?i.byteLength-_+c:0))return m.offlineOffsetSize=[_,j],m.values=null,!1;if(J<=$){if(!h)if($<=32)_>>>=32-J;else{const Y=re?.length?re[0]:_>>>0,ue=re?.length?re[1]:Math.round((_-Y)/z);J<=32?(_=Y>>>32-J,re[0]=_):(_=Y*2**(32-J)+(ue>>>32-J),re[0]=Y,re[1]=ue>>>32-J)}if(1===M&&V===$)F=[_];else if(64===$){const Y=re?.length?re[0]:_>>>0,ue=re?.length?re[1]:Math.round((_-Y)/z);let pe=Y,ae=32;for(q=1;q<=M;q++){const te=32-V*q%32;if(ae<V){const le=pe<<te>>>32-ae;pe=ue,F.push(le+(ue<<32-ae>>>32-ae)*2**(V-ae)),ae-=32-(V-ae)}else F.push(pe<<te>>>32-V),ae-=V;0===ae&&(ae=32,pe=ue)}}else for(q=1;q<=M;q++)F.push(_<<32-V*q>>>32-V)}else{_-=c,b&&(_=0);for(let Y=_;Y<_+j;Y+=P){switch(E){case 1:case 2:case 7:Z=new DataView(i,Y,1).getUint8(0);break;case 3:Z=new DataView(i,Y,2).getUint16(0,h);break;case 4:case 13:Z=new DataView(i,Y,4).getUint32(0,h);break;case 5:Z=new DataView(i,Y,4).getUint32(0,h)/new DataView(i,Y+4,4).getUint32(0,h);break;case 6:Z=new DataView(i,Y,1).getInt8(0);break;case 8:Z=new DataView(i,Y,2).getInt16(0,h);break;case 9:Z=new DataView(i,Y,4).getInt32(0,h);break;case 10:Z=new DataView(i,Y,4).getInt32(0,h)/new DataView(i,Y+4,4).getInt32(0,h);break;case 11:Z=new DataView(i,Y,4).getFloat32(0,h);break;case 12:Z=new DataView(i,Y,8).getFloat64(0,h);break;case 16:case 18:Z=O(new DataView(i,Y,8),0,h);break;case 17:Z=R(new DataView(i,Y,8),0,h);break;default:Z=null}F.push(Z)}}if(2===E){let Y="";const ue=F;for(F=[],q=0;q<ue.length;q++)0===ue[q]&&""!==Y?(F.push(Y),Y=""):Y+=String.fromCharCode(ue[q]);""===Y&&0!==F.length||F.push(Y)}return m.values=F,!0}function B(i){const h=i[0],m=K(h,"TILEWIDTH"),c=K(h,"TILELENGTH"),b=K(h,"IMAGEWIDTH"),T=K(h,"IMAGELENGTH"),E=K(h,"BITSPERSAMPLE"),M=K(h,"SAMPLESPERPIXEL"),_=K(h,"SAMPLEFORMAT")??1,F=ne(_,E),P=D(h),V=H(h,"GDAL_NODATA");let j=null;V?.length&&(j=V.map(Me=>parseFloat(Me)),j.some(Me=>isNaN(Me))&&(j=null));const J=K(h,"COMPRESSION")??1;let Z;switch(J){case 1:Z="NONE";break;case 2:case 3:case 4:case 32771:Z="CCITT";break;case 5:Z="LZW";break;case 6:case 7:Z="JPEG";break;case 32773:Z="PACKBITS";break;case 8:case 32946:Z="DEFLATE";break;case 34712:Z="JPEG2000";break;case 34887:Z="LERC";break;default:Z=String(J)}let q=!0,$="";oe.has(J)||(q=!1,$+="unsupported tag compression "+J),_>3&&(q=!1,$+="unsupported tag sampleFormat "+_),E%8!=0&&(q=!1,$+="unsupported tag bitsPerSample "+E);const re=X(h,"GEOASCIIPARAMS");let Y;if(re){const Me=re.split("|").find(Oe=>Oe.includes("ESRI PE String = ")),ke=Me?Me.replace("ESRI PE String = ",""):"";Y=ke.startsWith("COMPD_CS")||ke.startsWith("PROJCS")||ke.startsWith("GEOGCS")?{wkid:null,wkt:ke}:null}const ue=ee(h,"GEOTIEPOINTS"),pe=ee(h,"GEOPIXELSCALE"),ae=ee(h,"GEOTRANSMATRIX"),te=h.has("GEOKEYDIRECTORY")?h.get("GEOKEYDIRECTORY").data:null;let le,ye,de=!1;if(te){de=2===K(te,"GTRasterTypeGeoKey");const Me=K(te,"GTModelTypeGeoKey");if(2===Me){const ke=K(te,"GeographicTypeGeoKey");ke>=1024&&ke<=32766&&(Y={wkid:ke})}else if(1===Me){const ke=K(te,"ProjectedCSTypeGeoKey");ke>=1024&&ke<=32766&&(Y={wkid:ke})}}if(pe&&ue&&ue.length>=6?(le=[pe[0],0,ue[3]-ue[0]*pe[0],0,-Math.abs(pe[1]),ue[4]-ue[1]*pe[1]],de&&(le[2]-=.5*le[0]+.5*le[1],le[5]-=.5*le[3]+.5*le[4])):ae&&16===ae.length&&(le=de?[ae[0],ae[1],ae[3]-.5*ae[0],ae[4],ae[5],ae[7]-.5*ae[5]]:[ae[0],ae[1],ae[3],ae[4],ae[5],ae[7]]),le){const Me=[{x:0,y:T},{x:0,y:0},{x:b,y:T},{x:b,y:0}];let ke,Oe=Number.POSITIVE_INFINITY,Ue=Number.POSITIVE_INFINITY,Re=Number.NEGATIVE_INFINITY,Le=Number.NEGATIVE_INFINITY;for(let Be=0;Be<Me.length;Be++)ke=Q(Me[Be],le),Oe=ke.x>Oe?Oe:ke.x,Re=ke.x<Re?Re:ke.x,Ue=ke.y>Ue?Ue:ke.y,Le=ke.y<Le?Le:ke.y;ye={xmin:Oe,xmax:Re,ymin:Ue,ymax:Le,spatialReference:Y}}else ye={xmin:-.5,ymin:.5-T,xmax:b-.5,ymax:.5,spatialReference:Y};const be=i.filter(Me=>1===X(Me,"NEWSUBFILETYPE"));let Te,we,ve,Ee,Se;if(be.length>0){ve=Math.round(Math.log(b/K(be[0],"IMAGEWIDTH"))/Math.LN2);const Me=be[be.length-1];Ee=Math.round(Math.log(b/K(Me,"IMAGEWIDTH"))/Math.LN2),Te=K(Me,"TILEWIDTH"),we=K(Me,"TILELENGTH")}Te=null!=Ee&&Ee>0?Te||m:null,we=null!=Ee&&Ee>0?we||c:null,m&&(Se=[{maxCol:Math.ceil(b/m)-1,maxRow:Math.ceil(T/c)-1,minRow:0,minCol:0}],be.forEach(Me=>{Se.push({maxCol:Math.ceil(K(Me,"IMAGEWIDTH")/K(Me,"TILEWIDTH"))-1,maxRow:Math.ceil(K(Me,"IMAGELENGTH")/K(Me,"TILELENGTH"))-1,minRow:0,minCol:0})}));const De=(i=>{if(!i)return null;const h=i.match(/<Item(.*?)Item>/gi);if(!h||0===h.length)return null;const m=new Map;let c,b,T,E,M;for(let re=0;re<h.length;re++)c=h[re],b=c.slice(6,c.indexOf(">")),E=c.indexOf("sample="),E>-1&&(M=c.slice(E+8,c.indexOf('"',E+8))),E=c.indexOf("name="),E>-1&&(b=c.slice(E+6,c.indexOf('"',E+6))),b&&(T=c.slice(c.indexOf(">")+1,c.indexOf("</Item>")).trim(),null!=M?m.has(b)?m.get(b)[M]=T:m.set(b,[T]):m.set(b,T)),M=null;const _=m.get("STATISTICS_MINIMUM"),F=m.get("STATISTICS_MAXIMUM"),P=m.get("STATISTICS_MEAN"),V=m.get("STATISTICS_STDDEV");let j=null;if(_&&F){j=[];for(let re=0;re<_.length;re++)j.push({min:parseFloat(_[re]),max:parseFloat(F[re]),avg:P&&parseFloat(P[re]),stddev:V&&parseFloat(V[re])})}const J=m.get("BandName"),Z=m.get("WavelengthMin"),q=m.get("WavelengthMax");let $=null;if(J){$=[];for(let re=0;re<J.length;re++)$.push({BandName:J[re],WavelengthMin:Z&&parseFloat(Z[re]),WavelengthMax:q&&parseFloat(q[re])})}return{statistics:j,bandProperties:$,dataType:m.get("DataType"),rawMetadata:m}})(X(i[0],"GDAL_METADATA"));return $+=" "+g({width:b,height:T,tileWidth:m,tileHeight:c,planes:M,ifds:i}),{width:b,height:T,tileWidth:m,tileHeight:c,planes:M,isBSQ:P,pixelType:F,compression:Z,noData:j,isSupported:q,message:$,extent:ye,affine:pe?null:le,firstPyramidLevel:ve,maximumPyramidLevel:Ee,pyramidBlockWidth:Te,pyramidBlockHeight:we,tileBoundary:Se,metadata:De}}function D(i,h){const m=H(i,"PLANARCONFIGURATION");return m?2===m[0]:!!h&&h.isBSQ}function f(i){const{littleEndian:h,isBigTiff:m,firstIFDPos:c}=t(i);let b=c;const T=[];do{const E=u(i,h,b,0,ce.Z.TIFF_TAGS,m?8:4);if(!E.success)break;T.push(E.ifd),b=E.nextIFD}while(b>0);return{...B(T),littleEndian:h,isBigTiff:m,ifds:T}}function O(i,h,m){const c=i.getUint32(h,m),b=i.getUint32(h+4,m);return m?b*z+c:c*z+b}function R(i,h,m){let c=m?i.getInt32(h,m):i.getUint32(h,m),b=m?i.getUint32(h+4,m):i.getInt32(h+4,m);const T=(m?c:b)>=0?1:-1;return m?c*=T:b*=T,T*(m?b*z+c:c*z+b)}function G(i,h,m,c){return c?O(i,h,m):i.getUint32(h,m)}function t(i){const h=new DataView(i,0,16),m=h.getUint16(0,!1);let c=null;if(18761===m)c=!0;else{if(19789!==m)throw"unexpected endianess byte";c=!1}const b=h.getUint16(2,c);if(42!==b&&43!==b)throw"unexpected tiff identifier";let T=4;const E=43===b;if(E){const M=h.getUint16(T,c);if(T+=2,8!==M||0!==h.getUint16(T,c))throw"unsupported bigtiff version";T+=2}return{littleEndian:c,isBigTiff:E,firstIFDPos:G(h,T,c,E)}}function u(i,h,m,c=0,b=ce.Z.TIFF_TAGS,T=4){const E=N(i,h,m,c,b,T);let M;const _=E.ifd;if(_){if(ce.Z.ifdTags.forEach((F,P)=>{_.has(P)&&(M=_.get(P),M.data=N(i,h,M.valueOffset-c,c,F).ifd)}),_.has("GEOKEYDIRECTORY")){M=_.get("GEOKEYDIRECTORY");const F=M.values;if(F&&F.length>4){const P=F[0]+"."+F[1]+"."+F[2];M.data=N(i,h,M.valueOffset+6-c,c,ce.Z.GEO_KEYS,2).ifd,M.data&&M.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[P]})}}if(_.has("XMP")){M=_.get("XMP");const F=M.values;"number"==typeof F[0]&&7===M.type&&(M.values=[(0,xe.f)(new Uint8Array(F))])}}return E}function g(i){const{width:h,height:m,tileHeight:c,tileWidth:b}=i,T=i.planes,E=b?b*c:h*m,M=K(i.ifds[0],"BITSPERSAMPLE");let _="";return E*T>2**30/(M>8?M/8:1)&&(_=b?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),_}function p(i,h){return S.apply(this,arguments)}function S(){return(S=(0,ie.Z)(function*(i,h){const{headerInfo:m,ifd:c,offsets:b,sizes:T}=h,E=[];for(let de=0;de<b.length;de++){const be=yield L(i,m.littleEndian,c,b[de],T[de]||i.byteLength);E.push(be)}const M=D(c,m),{pixelType:_,planes:F}=m,P=W(_),V=K(c,"TILEWIDTH"),j=K(c,"TILELENGTH"),J=K(c,"COMPRESSION")??1,Z=V*j;let q;const $=[];let re=E[0];const Y=34887===J;for(let de=0;de<F;de++){if(q=new P(Z),M&&Y){if(re=E[de],re.length)for(let be=0;be<Z;be++)q[be]=re[de][be+de]}else if(re.length)if(M||Y&&!M)q=re.slice(Z*de,Z*(de+1));else for(let be=0;be<Z;be++)q[be]=re[be*F+de];$.push(q)}const ue=m.noData?m.noData[0]:h.noDataValue,pe=m.metadata?m.metadata.statistics:null,ae=pe?pe.map(de=>de.min):null,te=pe?pe.map(de=>de.max):null;let le,ye=null;if(null!=ue)if(ye=new Uint8Array(Z),Math.abs(ue)>1e24)for(le=0;le<Z;le++)ye[le]=Math.abs(($[0][le]-ue)/ue)<1e-6?0:1;else for(le=0;le<Z;le++)ye[le]=$[0][le]===ue?0:1;else ae&&te&&h.applyMinMaxConstraint&&(ye=y($,ae,te));return{pixelType:_,width:V,height:j,pixels:$,mask:ye,noDataValue:ue}})).apply(this,arguments)}function d(i){return s.apply(this,arguments)}function s(){return(s=(0,ie.Z)(function*(i,h={}){const m=h.pyramidLevel||0,c=h.headerInfo||f(i),{ifds:b,noData:T}=c;if(0===b.length)throw"no valid image file directory";const E=g(c);if(E)throw E;let M,_=null;const F=-1===m?b[b.length-1]:b[m],P=T?T[0]:h.noDataValue;if(_=c.tileWidth?yield C(i,c,F):yield I(i,c,F),null!=P){if((0,ge.O3)(_),_.mask=new Uint8Array(_.width*_.height),Math.abs(P)>1e24)for(M=0;M<_.width*_.height;M++)_.mask[M]=Math.abs((_.pixels[0][M]-P)/P)<1e-6?0:1;else for(M=0;M<_.width*_.height;M++)_.mask[M]=_.pixels[0][M]===P?0:1;_.noDataValue=P}return _})).apply(this,arguments)}},635:(Pe,Ae,se)=>{se.d(Ae,{Z:()=>ce});const ie=(()=>{const U=[];return U[254]="NEWSUBFILETYPE",U[255]="SUBFILETYPE",U[256]="IMAGEWIDTH",U[257]="IMAGELENGTH",U[258]="BITSPERSAMPLE",U[259]="COMPRESSION",U[262]="PHOTOMETRICINTERPRETATION",U[263]="THRESHHOLDING",U[264]="CELLWIDTH",U[265]="CELLLENGTH",U[266]="FILLORDER",U[269]="DOCUMENTNAME",U[270]="IMAGEDESCRIPTION",U[271]="MAKE",U[272]="MODEL",U[273]="STRIPOFFSETS",U[274]="ORIENTATION",U[277]="SAMPLESPERPIXEL",U[278]="ROWSPERSTRIP",U[279]="STRIPBYTECOUNTS",U[280]="MINSAMPLEVALUE",U[281]="MAXSAMPLEVALUE",U[282]="XRESOLUTION",U[283]="YRESOLUTION",U[284]="PLANARCONFIGURATION",U[285]="PAGENAME",U[286]="XPOSITION",U[287]="YPOSITION",U[288]="FREEOFFSETS",U[289]="FREEBYTECOUNTS",U[290]="GRAYRESPONSEUNIT",U[291]="GRAYRESPONSECURVE",U[292]="T4OPTIONS",U[293]="T6OPTIONS",U[296]="RESOLUTIONUNIT",U[297]="PAGENUMBER",U[300]="COLORRESPONSEUNIT",U[301]="TRANSFERFUNCTION",U[305]="SOFTWARE",U[306]="DATETIME",U[315]="ARTIST",U[316]="HOSTCOMPUTER",U[317]="PREDICTOR",U[318]="WHITEPOINT",U[319]="PRIMARYCHROMATICITIES",U[320]="COLORMAP",U[321]="HALFTONEHINTS",U[322]="TILEWIDTH",U[323]="TILELENGTH",U[324]="TILEOFFSETS",U[325]="TILEBYTECOUNTS",U[326]="BADFAXLINES",U[327]="CLEANFAXDATA",U[328]="CONSECUTIVEBADFAXLINES",U[330]="SUBIFD",U[332]="INKSET",U[333]="INKNAMES",U[334]="NUMBEROFINKS",U[336]="DOTRANGE",U[337]="TARGETPRINTER",U[338]="EXTRASAMPLES",U[339]="SAMPLEFORMAT",U[340]="SMINSAMPLEVALUE",U[341]="SMAXSAMPLEVALUE",U[342]="TRANSFERRANGE",U[347]="JPEGTABLES",U[512]="JPEGPROC",U[513]="JPEGIFOFFSET",U[514]="JPEGIFBYTECOUNT",U[515]="JPEGRESTARTINTERVAL",U[517]="JPEGLOSSLESSPREDICTORS",U[518]="JPEGPOINTTRANSFORM",U[519]="JPEGQTABLES",U[520]="JPEGDCTABLES",U[521]="JPEGACTABLES",U[529]="YCBCRCOEFFICIENTS",U[530]="YCBCRSUBSAMPLING",U[531]="YCBCRPOSITIONING",U[532]="REFERENCEBLACKWHITE",U[700]="XMP",U[33550]="GEOPIXELSCALE",U[33922]="GEOTIEPOINTS",U[33432]="COPYRIGHT",U[42112]="GDAL_METADATA",U[42113]="GDAL_NODATA",U[50844]="RPCCOEFFICIENT",U[34264]="GEOTRANSMATRIX",U[34735]="GEOKEYDIRECTORY",U[34736]="GEODOUBLEPARAMS",U[34737]="GEOASCIIPARAMS",U[34665]="EXIFIFD",U[34853]="GPSIFD",U[40965]="INTEROPERABILITYIFD",U})(),ge=(()=>{const U=ie.slice();return U[36864]="ExifVersion",U[40960]="FlashpixVersion",U[40961]="ColorSpace",U[42240]="Gamma",U[37121]="ComponentsConfiguration",U[37122]="CompressedBitsPerPixel",U[40962]="PixelXDimension",U[40963]="PixelYDimension",U[37500]="MakerNote",U[37510]="UserComment",U[40964]="RelatedSoundFile",U[36867]="DateTimeOriginal",U[36868]="DateTimeDigitized",U[36880]="OffsetTime",U[36881]="OffsetTimeOriginal",U[36882]="OffsetTimeDigitized",U[37520]="SubSecTime",U[37521]="SubSecTimeOriginal",U[37522]="SubSecTimeDigitized",U[37888]="Temperature",U[37889]="Humidity",U[37890]="Pressure",U[37891]="WaterDepth",U[37892]="Acceleration",U[37893]="CameraElevationAngle",U[42016]="ImageUniqueID",U[42032]="CameraOwnerName",U[42033]="BodySerialNumber",U[42034]="LensSpecification",U[42035]="LensMake",U[42036]="LensModel",U[42037]="LensSerialNumber",U[33434]="ExposureTime",U[33437]="FNumber",U[34850]="ExposureProgram",U[34852]="SpectralSensitivity",U[34855]="PhotographicSensitivity",U[34856]="OECF",U[34864]="SensitivityType",U[34865]="StandardOutputSensitivity",U[34866]="RecommendedExposureIndex",U[34867]="ISOSpeed",U[34868]="ISOSpeedLatitudeyyy",U[34869]="ISOSpeedLatitudezzz",U[37377]="ShutterSpeedValue",U[37378]="ApertureValue",U[37379]="BrightnessValue",U[37380]="ExposureBiasValue",U[37381]="MaxApertureValue",U[37382]="SubjectDistance",U[37383]="MeteringMode",U[37384]="LightSource",U[37385]="Flash",U[37386]="FocalLength",U[37396]="SubjectArea",U[41483]="FlashEnergy",U[41484]="SpatialFrequencyResponse",U[41486]="FocalPlaneXResolution",U[41487]="FocalPlaneYResolution",U[41488]="FocalPlaneResolutionUnit",U[41492]="SubjectLocation",U[41493]="ExposureIndex",U[41495]="SensingMethod",U[41728]="FileSource",U[41729]="SceneType",U[41730]="CFAPattern",U[41985]="CustomRendered",U[41986]="ExposureMode",U[41987]="WhiteBalance",U[41988]="DigitalZoomRatio",U[41989]="FocalLengthIn35mmFilm",U[41990]="SceneCaptureType",U[41991]="GainControl",U[41992]="Contrast",U[41993]="Saturation",U[41994]="Sharpness",U[41995]="DeviceSettingDescription",U[41996]="SubjectDistanceRange",U})(),_e=(()=>{const U=[];return U[1024]="GTModelTypeGeoKey",U[1025]="GTRasterTypeGeoKey",U[1026]="GTCitationGeoKey",U[2048]="GeographicTypeGeoKey",U[2049]="GeogCitationGeoKey",U[2050]="GeogGeodeticDatumGeoKey",U[2051]="GeogPrimeMeridianGeoKey",U[2052]="GeogLinearUnitsGeoKey",U[2053]="GeogLinearUnitSizeGeoKey",U[2054]="GeogAngularUnitsGeoKey",U[2055]="GeogAngularUnitSizeGeoKey",U[2056]="GeogEllipsoidGeoKey",U[2057]="GeogSemiMajorAxisGeoKey",U[2058]="GeogSemiMinorAxisGeoKey",U[2059]="GeogInvFlatteningGeoKey",U[2061]="GeogPrimeMeridianLongGeoKey",U[2060]="GeogAzimuthUnitsGeoKey",U[3072]="ProjectedCSTypeGeoKey",U[3073]="PCSCitationGeoKey",U[3074]="ProjectionGeoKey",U[3075]="ProjCoordTransGeoKey",U[3076]="ProjLinearUnitsGeoKey",U[3077]="ProjLinearUnitSizeGeoKey",U[3078]="ProjStdParallel1GeoKey",U[3079]="ProjStdParallel2GeoKey",U[3080]="ProjNatOriginLongGeoKey",U[3081]="ProjNatOriginLatGeoKey",U[3082]="ProjFalseEastingGeoKey",U[3083]="ProjFalseNorthingGeoKey",U[3084]="ProjFalseOriginLongGeoKey",U[3085]="ProjFalseOriginLatGeoKey",U[3086]="ProjFalseOriginEastingGeoKey",U[3087]="ProjFalseOriginNorthingGeoKey",U[3088]="ProjCenterLongGeoKey",U[3090]="ProjCenterEastingGeoKey",U[3091]="ProjCenterNorthingGeoKey",U[3092]="ProjScaleAtNatOriginGeoKey",U[3093]="ProjScaleAtCenterGeoKey",U[3094]="ProjAzimuthAngleGeoKey",U[3095]="ProjStraightVertPoleLongGeoKey",U[4096]="VerticalCSTypeGeoKey",U[4097]="VerticalCitationGeoKey",U[4098]="VerticalDatumGeoKey",U[4099]="VerticalUnitsGeoKey",U})(),Ce=new Map;Ce.set("EXIFIFD",ge),Ce.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const ce={TIFF_TAGS:ie,ifdTags:Ce,GEO_KEYS:_e,getTagName:(U,fe)=>{let me=(fe||ie)[U];return void 0===me&&(me="unknown"+String(U)),me}}},44853:(Pe,Ae,se)=>{se.d(Ae,{f:()=>ie});const ie=(()=>{const ge=new ArrayBuffer(4),xe=new Uint8Array(ge);return new Uint32Array(ge)[0]=1,1===xe[0]})()},79751:(Pe,Ae,se)=>{se.d(Ae,{CD:()=>_e,DX:()=>xe,Gd:()=>ce,Pz:()=>U,Qh:()=>R,SJ:()=>fe,Uk:()=>G,Vl:()=>f,XV:()=>me,a2:()=>ne,nA:()=>K,nk:()=>he,oB:()=>X,pW:()=>A,qF:()=>Ce,sS:()=>ee,us:()=>w,zp:()=>oe});var xe,_e,t,ie=se(62208),ge=se(25688);function he(t){return(0,ie.pC)(t)&&"esri.layers.support.PixelBlock"===t.declaredClass&&t.pixels&&t.pixels.length>0}function Ce(t,u){if(!u?.length||!he(t))return t;const g=t.pixels.length;return u&&u.some(p=>p>=g)||1===g&&1===u.length&&0===u[0]?t:g!==u.length||u.some((p,S)=>p!==S)?new ge.Z({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:u.map(p=>t.pixels[p]),statistics:t.statistics&&u.map(p=>t.statistics[p])}):t}function ce(t){if(!t?.length||t.some(c=>!he(c)))return null;if(1===t.length)return(0,ie.pC)(t[0])?t[0].clone():null;const u=t,{width:g,height:p,pixelType:S}=u[0];if(u.some(c=>c.width!==g||c.height!==p))return null;const d=u.map(({mask:c})=>c).filter(c=>null!=c);let s=null;d.length&&(s=new Uint8Array(g*p),s.set(d[0]),d.length>1&&H(d.slice(1),s));const i=[];u.forEach(({pixels:c})=>i.push(...c));const h=u.map(({statistics:c})=>c).filter(c=>c?.length),m=[];return h.forEach(c=>m.push(...c)),new ge.Z({pixelType:S,width:g,height:p,mask:s,pixels:i,statistics:m.length?m:null})}function U(t){if(!t)return;const u=t.colormap;if(!u||0===u.length)return;const g=u.sort((b,T)=>b[0]-T[0]);let p=0;g[0][0]<0&&(p=g[0][0]);const S=Math.max(256,g[g.length-1][0]-p+1),d=new Uint8Array(4*S),s=[];let i,h=0,m=0;const c=5===g[0].length;if(S>65536)return g.forEach(b=>{s[b[0]-p]=c?b.slice(1):b.slice(1).concat([255])}),{indexed2DColormap:s,offset:p,alphaSpecified:c};if(t.fillUnspecified)for(i=g[m],h=i[0]-p;h<S;h++)d[4*h]=i[1],d[4*h+1]=i[2],d[4*h+2]=i[3],d[4*h+3]=c?i[4]:255,h===i[0]-p&&(i=m===g.length-1?i:g[++m]);else for(h=0;h<g.length;h++)i=g[h],m=4*(i[0]-p),d[m]=i[1],d[m+1]=i[2],d[m+2]=i[3],d[m+3]=c?i[4]:255;return{indexedColormap:d,offset:p,alphaSpecified:c}}function fe(t,u){if(!he(t)||!u||!u.indexedColormap&&!u.indexed2DColormap)return t;const g=t.clone(),p=g.pixels;let S=g.mask;const d=g.width*g.height;if(1!==p.length)return t;const{indexedColormap:s,indexed2DColormap:i,offset:h,alphaSpecified:m}=u;let c=0;const b=p[0],T=new Uint8Array(b.length),E=new Uint8Array(b.length),M=new Uint8Array(b.length);let _,F=0;if(s){const P=s.length-1;if((0,ie.pC)(S))for(c=0;c<d;c++)S[c]&&(F=4*(b[c]-h),F<h||F>P?S[c]=0:(T[c]=s[F],E[c]=s[F+1],M[c]=s[F+2],S[c]=s[F+3]));else{for(S=new Uint8Array(d),c=0;c<d;c++)F=4*(b[c]-h),F<h||F>P?S[c]=0:(T[c]=s[F],E[c]=s[F+1],M[c]=s[F+2],S[c]=s[F+3]);g.mask=S}}else if(i)if((0,ie.pC)(S))for(c=0;c<d;c++)S[c]&&(_=i[b[c]],T[c]=_[0],E[c]=_[1],M[c]=_[2],S[c]=_[3]);else{for(S=new Uint8Array(d),c=0;c<d;c++)_=i[b[c]],T[c]=_[0],E[c]=_[1],M[c]=_[2],S[c]=_[3];g.mask=S}return g.pixels=[T,E,M],g.statistics=null,g.pixelType="u8",g.maskIsAlpha=m,g}function me(t,u){if(!he(t))return null;const{pixels:g,mask:p}=t,S=g.length;let d=u.lut;const{offset:s}=u;d&&1===d[0].length&&(d=g.map(()=>d));const i=[],h=u.outputPixelType||"u8";for(let c=0;c<S;c++){const b=z(g[c],p,d[c],s||0,h);i.push(b)}const m=new ge.Z({width:t.width,height:t.height,pixels:i,mask:p,pixelType:h});return m.updateStatistics(),m}function z(t,u,g,p,S){const d=t.length,s=ge.Z.createEmptyBand(S,d);if(u)for(let i=0;i<d;i++)u[i]&&(s[i]=g[t[i]-p]);else for(let i=0;i<d;i++)s[i]=g[t[i]-p];return s}function oe(t,u){if(!he(t))return null;const g=t.clone(),{pixels:p}=g,S=g.width*g.height,d=u.length,s=Math.floor(d/2),i=u[Math.floor(s)],h=p[0];let m,c,b,T,E,M,_=!1;const F=new Uint8Array(S),P=new Uint8Array(S),V=new Uint8Array(S);let j=g.mask;const J=4===u[0].mappedColor.length;for(j||(j=new Uint8Array(S),j.fill(J?255:1),g.mask=j),E=0;E<S;E++)if(j[E]){for(m=h[E],_=!1,M=s,c=i,b=0,T=d-1;T-b>1;){if(m===c.value){_=!0;break}m>c.value?b=M:T=M,M=Math.floor((b+T)/2),c=u[Math.floor(M)]}_||(m===u[b].value?(c=u[b],_=!0):m===u[T].value?(c=u[T],_=!0):m<u[b].value?(_=!1,c=null):m>u[b].value&&(m<u[T].value?(c=u[b],_=!0):T===d-1?(_=!1,c=null):(c=u[T],_=!0))),_?(F[E]=c.mappedColor[0],P[E]=c.mappedColor[1],V[E]=c.mappedColor[2],j[E]=c.mappedColor[3]):F[E]=P[E]=V[E]=j[E]=0}return g.pixels=[F,P,V],g.mask=j,g.pixelType="u8",g.maskIsAlpha=J,g}function ne(t,u){if(!he(t))return null;const{width:g,height:p}=t,{inputRanges:S,outputValues:d,outputPixelType:s,noDataRanges:i,allowUnmatched:h}=u,m=t.pixels[0],c=ge.Z.createEmptyBand(s,m.length);h&&c.set(m);const b=t.mask,T=S.length/2;for(let M=0;M<p;M++)for(let _=0;_<g;_++){const F=M*g+_;if(!b||b[F]){const P=m[F];for(let V=T-1;V>=0;V--)if(P>=S[2*V]&&P<=S[2*V+1]){c[F]=d[V];break}}}let E=b;if(i?.length){E=new Uint8Array(g*p),b&&E.set(b);for(let M=0;M<p;M++)for(let _=0;_<g;_++){const F=M*g+_;if(!b||b[F]){const P=m[F];for(let V=0;V<T;V+=2)if(P>=i[V]&&P<=i[V+1]){c[F]=0,E[F]=0;break}}}}return new ge.Z({width:g,height:p,pixelType:s,pixels:[c],mask:E})}function W(t,u,g,p){const S=null!=g&&g.length>=2?new Set(g):null,d=1===g?.length?g[0]:null,s=!!u?.length;for(let i=0;i<t.length;i++)if(p[i]){const h=t[i];if(s){let m=!1;for(let c=0;c<u.length;c+=2)if(h>=u[c]&&h<=u[c+1]){m=!0;break}m||(p[i]=0)}p[i]&&(h===d||S?.has(h))&&(p[i]=0)}}function Q(t,u){const g=t[0].length;for(let p=0;p<g;p++)if(u[p]){let S=!1;for(let d=0;d<t.length;d++)if(t[d][p]){S=!0;break}S||(u[p]=0)}}function H(t,u){const g=t[0].length;for(let p=0;p<g;p++)if(u[p]){let S=!1;for(let d=0;d<t.length;d++)if(0===t[d][p]){S=!0;break}S&&(u[p]=0)}}function ee(t,u){if(!he(t))return null;const{width:g,height:p,pixels:S}=t,d=g*p,s=new Uint8Array(d);t.mask?s.set(t.mask):s.fill(255);const i=S.length,{includedRanges:h,noDataValues:m,outputPixelType:c,matchAll:b,lookup:T}=u;if(T){const E=[];for(let M=0;M<i;M++){const _=z(S[M],s,T.lut,T.offset||0,"u8");E.push(_)}1===E.length?s.set(E[0]):b?Q(E,s):H(E,s)}else if(b){const E=[];for(let M=0;M<i;M++){const _=new Uint8Array(d);_.set(s),W(S[M],h,m,_),E.push(_)}1===E.length?s.set(E[0]):Q(E,s)}else for(let E=0;E<i;E++)W(S[E],h,m,s);return new ge.Z({width:g,height:p,pixelType:c,pixels:S,mask:s})}function X(t,u,g){if("u8"!==t&&"s8"!==t&&"u16"!==t&&"s16"!==t)return null;const p=t.includes("16")?65536:256,S=t.includes("s")?-p/2:0,d=ge.Z.createEmptyBand(t,p);for(let s=0;s<u.length;s++){const i=g[s],h=Math.ceil(u[2*s]-S),m=Math.floor(u[2*s+1]-S);for(let c=h;c<=m;c++)d[c]=i}return{lut:d,offset:S}}function K(t,u,g){if("u8"!==t&&"s8"!==t&&"u16"!==t&&"s16"!==t)return null;const p=t.includes("16")?65536:256,S=t.includes("s")?-p/2:0,d=new Uint8Array(p);if(u)for(let s=0;s<u.length;s++){const i=Math.ceil(u[2*s]-S),h=Math.floor(u[2*s+1]-S);for(let m=i;m<=h;m++)d[m]=255}if(g)for(let s=0;s<g.length;s++)d[g[s]-S]=0;return{lut:d,offset:S}}function L(t,u,g,p,S,d){const{width:s,height:i}=g.block,{x:h,y:m}=g.offset,{width:c,height:b}=g.mosaic,T=function N(t,u,g,p,S,d,s,i){return{xmin:S<=g*t?0:S<g*t+t?S-g*t:t,ymin:d<=p*u?0:d<p*u+u?d-p*u:u,xmax:S+s<=g*t?0:S+s<g*t+t?S+s-g*t:t,ymax:d+i<=p*u?0:d+i<p*u+u?d+i-p*u:u}}(s,i,p,S,h,m,c,b);let E=0,M=0;if(d){const _=d.hasGCSSShiftTransform?360:d.halfWorldWidth??0,F=s*d.resolutionX,P=d.startX+p*F,V=P+F;P<_&&V>_?M=d.rightPadding:P>=_&&(E=d.leftMargin-d.rightPadding,M=0)}if(T.xmax-=M,"number"!=typeof u)for(let _=T.ymin;_<T.ymax;_++){const F=(S*i+_-m)*c+(p*s-h)+E,P=_*s;for(let V=T.xmin;V<T.xmax;V++)t[F+V]=u[P+V]}else for(let _=T.ymin;_<T.ymax;_++){const F=(S*i+_-m)*c+(p*s-h)+E;for(let P=T.xmin;P<T.xmax;P++)t[F+P]=u}}function w(t,u,g={}){const{clipOffset:p,clipSize:S,alignmentInfo:d,blockWidths:s}=g;if(s)return function C(t,u,g){const p=t.find(E=>(0,ie.pC)(E));if((0,ie.Wi)(p))return null;const S=t.some(E=>!(0,ie.pC)(E)||!!E.mask),{width:d,height:s}=u,i=S?new Uint8Array(d*s):null,{blockWidths:h}=g,m=[],c=p.getPlaneCount(),b=ge.Z.getPixelArrayConstructor(p.pixelType);if(S)for(let E=0,M=0;E<t.length;M+=h[E],E++){const _=t[E];if(!he(_))continue;const F=(0,ie.Wg)(_.mask);for(let P=0;P<s;P++)for(let V=0;V<h[E];V++)i[P*d+V+M]=null==F?255:F[P*_.width+V]}for(let E=0;E<c;E++){const M=new b(d*s);for(let _=0,F=0;_<t.length;F+=h[_],_++){const P=t[_];if(!he(P))continue;const V=P.pixels[E];if(null!=V)for(let j=0;j<s;j++)for(let J=0;J<h[_];J++)M[j*d+J+F]=V[j*P.width+J]}m.push(M)}const T=new ge.Z({width:d,height:s,mask:i,pixels:m,pixelType:p.pixelType});return T.updateStatistics(),T}(t,u,{blockWidths:s});const i=t.find($=>he($));if((0,ie.Wi)(i))return null;const h=S?S.width:u.width,m=S?S.height:u.height,c=i.width,b=i.height,T=u.width/c,E=u.height/b,M={offset:p||{x:0,y:0},mosaic:S||u,block:{width:c,height:b}},_=i.pixelType,F=ge.Z.getPixelArrayConstructor(_),P=i.pixels.length,V=[];let j,J,Z;for(let $=0;$<P;$++){J=new F(h*m);for(let re=0;re<E;re++)for(let Y=0;Y<T;Y++){const ue=t[re*T+Y];he(ue)&&(j=ue.pixels[$],L(J,j,M,Y,re,d))}V.push(J)}if(t.some($=>(0,ie.Wi)($)||(0,ie.pC)($.mask)&&$.mask.length>0)){Z=new Uint8Array(h*m);for(let $=0;$<E;$++)for(let re=0;re<T;re++){const Y=t[$*T+re],ue=(0,ie.pC)(Y)?Y.mask:null;(0,ie.pC)(ue)?L(Z,ue,M,re,$,d):L(Z,Y?1:0,M,re,$,d)}}const q=new ge.Z({width:h,height:m,pixels:V,pixelType:_,mask:Z});return q.updateStatistics(),q}function A(t,u,g){if(!he(t))return null;const{width:p,height:S}=t,d=u.x,s=u.y,i=g.width+d,h=g.height+s;if(d<0||s<0||i>p||h>S||0===d&&0===s&&i===p&&h===S)return t;t.mask||(t.mask=new Uint8Array(p*S));const m=t.mask;for(let c=0;c<S;c++){const b=c*p;for(let T=0;T<p;T++)m[b+T]=c<s||c>=h||T<d||T>=i?0:1}return t.updateStatistics(),t}function y(t){if(0===t.size)return 0;let u=0,g=-1,p=0;const S=t.keys();let d=S.next();for(;!d.done;)p=t.get(d.value),p>u&&(g=d.value,u=p),d=S.next();return g}function v(t,u,g){if(0===g)return;const p=t.get(u);1===p?t.delete(u):t.set(u,p-1)}function k(t,u,g){0!==g&&t.set(u,t.has(u)?t.get(u)+1:1)}function B(t,u,g){let{x:p,y:S}=u;const{width:d,height:s}=g;if(0===p&&0===S&&s===t.height&&d===t.width)return t;const{width:i,height:h}=t,m=Math.max(0,S),c=Math.max(0,p),b=Math.min(p+d,i),T=Math.min(S+s,h);if(b<0||T<0||!he(t))return null;p=Math.max(0,-p),S=Math.max(0,-S);const{pixels:E}=t,M=d*s,_=E.length,F=[];for(let J=0;J<_;J++){const Z=E[J],q=ge.Z.createEmptyBand(t.pixelType,M);for(let $=m;$<T;$++){const re=$*i;let Y=($+S-m)*d+p;for(let ue=c;ue<b;ue++)q[Y++]=Z[re+ue]}F.push(q)}const P=new Uint8Array(M),V=(0,ie.Wg)(t.mask);for(let J=m;J<T;J++){const Z=J*i;let q=(J+S-m)*d+p;for(let $=c;$<b;$++)P[q++]=V?V[Z+$]:1}const j=new ge.Z({width:g.width,height:g.height,pixelType:t.pixelType,pixels:F,mask:P});return j.updateStatistics(),j}function D(t,u=!0){if(!he(t))return null;const{pixels:g,width:p,height:S,mask:d,pixelType:s}=t,i=[],h=Math.round(p/2),m=Math.round(S/2),c=S-1,b=p-1;for(let E=0;E<g.length;E++){const M=g[E],_=ge.Z.createEmptyBand(s,h*m);let F=0;for(let P=0;P<S;P+=2)for(let V=0;V<p;V+=2){const j=M[P*p+V];if(u){const J=V===b?j:M[P*p+V+1],Z=P===c?j:M[P*p+V+p];_[F++]=(j+J+Z+(V===b?Z:P===c?J:M[P*p+V+p+1]))/4}else _[F++]=j}i.push(_)}let T=null;if((0,ie.pC)(d)){T=new Uint8Array(h*m);let E=0;for(let M=0;M<S;M+=2)for(let _=0;_<p;_+=2){const F=d[M*p+_];if(u){const P=_===b?F:d[M*p+_+1],V=M===c?F:d[M*p+_+p];T[E++]=F*P*V*(_===b?V:M===c?P:d[M*p+_+p+1])?1:0}else T[E++]=F}}return new ge.Z({width:h,height:m,pixelType:s,pixels:i,mask:T})}function f(t,u,g){if(!he(t))return null;const{width:p,height:S}=u;let{width:d,height:s}=t;const i=new Map,h={x:0,y:0},m=null==g?1:1+g;let c=t;for(let b=0;b<m;b++){const T=Math.ceil(d/p),E=Math.ceil(s/S);for(let M=0;M<E;M++){h.y=M*S;for(let _=0;_<T;_++){h.x=_*p;const F=B(c,h,u);i.set(`${b}/${M}/${_}`,F)}}b<m-1&&(c=D(c)),d=Math.round(d/2),s=Math.round(s/2)}return i}function O(t,u,g,p,S=.5){const{width:d,height:s}=t,{width:i,height:h}=u,m=p.cols,c=p.rows,b=Math.ceil(i/m-.1/m),T=Math.ceil(h/c-.1/c);let E,M,_,F,P,V,j;const J=b*m,Z=J*T*c,q=new Float32Array(Z),$=new Float32Array(Z),re=new Uint32Array(Z),Y=new Uint32Array(Z);let ue,pe,ae=0;for(let te=0;te<T;te++)for(let le=0;le<b;le++){E=12*(te*b+le),M=g[E],_=g[E+1],F=g[E+2],P=g[E+3],V=g[E+4],j=g[E+5];for(let ye=0;ye<c;ye++){ae=(te*c+ye)*J+le*m,pe=(ye+.5)/c;for(let de=0;de<ye;de++)ue=(de+.5)/m,q[ae+de]=(M*ue+_*pe+F)*d-S,$[ae+de]=(P*ue+V*pe+j)*s-S,re[ae+de]=Math.round(q[ae+de]),Y[ae+de]=Math.round($[ae+de])}E+=6,M=g[E],_=g[E+1],F=g[E+2],P=g[E+3],V=g[E+4],j=g[E+5];for(let ye=0;ye<c;ye++){ae=(te*c+ye)*J+le*m,pe=(ye+.5)/c;for(let de=ye;de<m;de++)ue=(de+.5)/m,q[ae+de]=(M*ue+_*pe+F)*d-S,$[ae+de]=(P*ue+V*pe+j)*s-S,re[ae+de]=Math.round(q[ae+de]),Y[ae+de]=Math.round($[ae+de])}}return{offsets_x:q,offsets_y:$,offsets_xi:re,offsets_yi:Y,gridWidth:J}}function R(t,u){const{coefficients:g,spacing:p}=u,{offsets_x:S,offsets_y:d,gridWidth:s}=O(t,t,g,{rows:p[0],cols:p[1]},.5),{width:i,height:h}=t,m=new Float32Array(i*h),c=180/Math.PI;for(let b=0;b<h;b++)for(let T=0;T<i;T++){const E=b*s+T,M=0===b?E:E-s,_=b===h-1?E:E+s,F=S[M]-S[_],P=d[_]-d[M];if(isNaN(F)||isNaN(P))m[b*i+T]=90;else{let V=Math.atan2(P,F)*c;V=(360+V)%360,m[b*i+T]=V}}return m}function G(t,u,g,p,S="nearest"){if(!he(t))return null;"majority"===S&&(t=function I(t){if(!he(t))return null;const u=t.clone(),{width:g,height:p,pixels:S}=t,d=S[0],s=u.pixels[0],i=(0,ie.Wg)(t.mask);for(let h=2;h<p-1;h++){const m=new Map;for(let b=h-2;b<h+2;b++)for(let T=0;T<4;T++){const E=b*g+T;k(m,d[E],i?i[E]:1)}s[h*g]=y(m),s[h*g+1]=s[h*g+2]=s[h*g];let c=3;for(;c<g-1;c++){let b=(h-2)*g+c+1;k(m,d[b],i?i[b]:1),b=(h-1)*g+c+1,k(m,d[b],i?i[b]:1),b=h*g+c+1,k(m,d[b],i?i[b]:1),b=(h+1)*g+c+1,k(m,d[b],i?i[b]:1),b=(h-2)*g+c-3,v(m,d[b],i?i[b]:1),b=(h-1)*g+c-3,v(m,d[b],i?i[b]:1),b=h*g+c-3,v(m,d[b],i?i[b]:1),b=(h+1)*g+c-3,v(m,d[b],i?i[b]:1),s[h*g+c]=y(m)}s[h*g+c+1]=s[h*g+c]}for(let h=0;h<g;h++)s[h]=s[g+h]=s[2*g+h],s[(p-1)*g+h]=s[(p-2)*g+h];return u.updateStatistics(),u}(t));const{pixels:d,mask:s,pixelType:i}=t,h=t.width,m=t.height,c=ge.Z.getPixelArrayConstructor(i),b=d.length,{width:T,height:E}=u;let M=!1;for(let Y=0;Y<g.length;Y+=3)-1===g[Y]&&-1===g[Y+1]&&-1===g[Y+2]&&(M=!0);const{offsets_x:_,offsets_y:F,offsets_xi:P,offsets_yi:V,gridWidth:j}=O({width:h,height:m},u,g,p,"majority"===S?0:.5);let J;const Z=(Y,ue,pe)=>{const ae=Y instanceof Float32Array||Y instanceof Float64Array?0:.5;for(let te=0;te<E;te++){J=te*j;for(let le=0;le<T;le++){if(_[J]<0||F[J]<0)Y[te*T+le]=0;else if(pe)Y[te*T+le]=ue[P[J]+V[J]*h];else{const ye=Math.floor(_[J]),de=Math.floor(F[J]),be=Math.ceil(_[J]),Te=Math.ceil(F[J]),we=_[J]-ye,ve=F[J]-de;Y[te*T+le]=!s||s[ye+de*h]&&s[ye+de*h]&&s[ye+Te*h]&&s[be+Te*h]?(1-ve)*((1-we)*ue[ye+de*h]+we*ue[be+de*h])+ve*((1-we)*ue[ye+Te*h]+we*ue[be+Te*h])+ae:ue[P[J]+V[J]*h]}J++}}},q=[];let $;for(let Y=0;Y<b;Y++)$=new c(T*E),Z($,d[Y],"nearest"===S||"majority"===S),q.push($);const re=new ge.Z({width:T,height:E,pixelType:i,pixels:q});if((0,ie.pC)(s))re.mask=new Uint8Array(T*E),Z(re.mask,s,!0);else if(M){re.mask=new Uint8Array(T*E);for(let Y=0;Y<T*E;Y++)re.mask[Y]=_[Y]<0||F[Y]<0?0:1}return re.updateStatistics(),re}(t=xe||(xe={}))[t.matchAny=0]="matchAny",t[t.matchAll=1]="matchAll",function(t){t[t.bestMatch=0]="bestMatch",t[t.fail=1]="fail"}(_e||(_e={}))},17057:(Pe,Ae,se)=>{se.d(Ae,{AV:()=>W,Hv:()=>oe,Oh:()=>ne,ZF:()=>me,dy:()=>H,hE:()=>U,oc:()=>ce});var ie=se(62208),ge=se(25688),xe=se(65468);const _e={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Ce=[.299,.587,.114];function ce(ee,X=256){X=Math.min(X,256);const{size:K,counts:N}=ee,x=new Uint8Array(K),L=N.reduce((y,v)=>y+v/X,0);let w=0,C=0,A=0,I=L;for(let y=0;y<K;y++)if(A+=N[y],!(y<K-1&&A+N[y+1]<I)){for(;w<X-1&&I<A;)w++,I+=L;for(let v=C;v<=y;v++)x[v]=w;C=y+1}for(let y=C;y<K;y++)x[y]=X-1;return x}function U(ee){const{minCutOff:X,maxCutOff:K,gamma:N,pixelType:x}=ee,L=ee.outMin||0,w=ee.outMax||255;if(!["u8","u16","s8","s16"].includes(x))return null;const C=X.length;let A,I,y=0;"s8"===x?y=-127:"s16"===x&&(y=-32767);let v=256;["u16","s16"].includes(x)&&(v=65536);const k=[],B=w-L;for(A=0;A<C;A++)k[A]=K[A]-X[A];const D=N&&N.length>=C,f=[];if(D)for(A=0;A<C;A++)f[A]=N[A]>1?N[A]>2?6.5+(N[A]-2)**2.5:6.5+100*(2-N[A])**4:1;let O;const R=[];let G,t,u;if(D)for(A=0;A<C;A++){for(u=[],I=0;I<v;I++)G=I+y,O=(G-X[A])/k[A],t=1,N[A]>1&&(t-=(1/B)**(O*f[A])),u[I]=G<K[A]&&G>X[A]?Math.floor(t*B*O**(1/N[A]))+L:G>=K[A]?w:L;R[A]=u}else for(A=0;A<C;A++){for(u=[],I=0;I<v;I++)G=I+y,u[I]=G<=X[A]?L:G>=K[A]?w:Math.floor((G-X[A])/k[A]*B)+L;R[A]=u}if(null!=ee.contrastOffset){const g=function fe(ee,X){const K=Math.min(Math.max(ee,-100),100),N=Math.min(Math.max(X??0,-100),100),x=255;let w=0,C=0;const A=new Uint8Array(256);for(w=0;w<256;w++)K>0&&K<100?C=(200*w-25500+510*N)/(2*(100-K))+128:K<=0&&K>-100?C=(200*w-25500+510*N)*(100+K)/2e4+128:100===K?(C=200*w-25500+256*(100-K)+510*N,C=C>0?x:0):-100===K&&(C=128),A[w]=C>x?x:C<0?0:C;return A}(ee.contrastOffset,ee.brightnessOffset);for(A=0;A<C;A++)for(u=R[A],I=0;I<v;I++)u[I]=g[u[I]]}return{lut:R,offset:y}}function me(ee,X,K){const N=[];for(let x=0;x<X.length;x++){let L=0,w=0,C=0;"min"in X[x]?({min:L,max:w,avg:C}=X[x]):[L,w,C]=X[x];let A=C??0;"u8"!==ee&&(A=255*(A-L)/(w-L)),K&&(A*=Ce[x]),N.push(z(A))}return N}function z(ee){if(ee<=0||ee>=255)return 1;let X=0;150!==ee&&(X=ee<=150?45*Math.cos(.01047*ee):17*Math.sin(.021*ee));const N=ee+X,x=Math.log(ee/255),L=Math.log(N/255);if(0===L)return 1;const w=x/L;return isNaN(w)?1:Math.min(9.9,Math.max(.01,w))}function oe(ee){if((0,ie.Wi)(ee)||!ee.pixels?.length)return null;ee.statistics||ee.updateStatistics();const{pixels:X,mask:K,pixelType:N,statistics:x}=ee,L=ee.width*ee.height,w=X.length;let C,A,I,y,v;const k=[],B=[];let D,f,O,R,G,t,u,g,p,S;const d=256;for(y=0;y<w;y++){if(D=new Uint32Array(d),O=X[y],"u8"===N)if(C=-.5,A=255.5,K)for(v=0;v<L;v++)K[v]&&D[O[v]]++;else for(v=0;v<L;v++)D[O[v]]++;else{if((0,ie.O3)(x),C=x[y].minValue,A=x[y].maxValue,I=(A-C)/d,f=new Uint32Array(257),K)for(v=0;v<L;v++)K[v]&&f[Math.floor((O[v]-C)/I)]++;else for(v=0;v<L;v++)f[Math.floor((O[v]-C)/I)]++;for(v=0;v<255;v++)D[v]=f[v];D[255]=f[255]+f[256]}for(k.push({min:C,max:A,size:d,counts:D}),R=0,G=0,g=0,v=0;v<d;v++)R+=D[v],G+=v*D[v];for(p=G/R,v=0;v<d;v++)g+=D[v]*(v-p)**2;S=Math.sqrt(g/(R-1)),I=(A-C)/d,t=(p+.5)*I+C,u=S*I,B.push({min:C,max:A,avg:t,stddev:u})}return{statistics:B,histograms:k}}function ne(ee){const X=[];for(let K=0;K<ee.length;K++){const{min:N,max:x,size:L,counts:w}=ee[K];let C=0,A=0;for(let D=0;D<L;D++)C+=w[D],A+=D*w[D];const I=A/C;let y=0;for(let D=0;D<L;D++)y+=w[D]*(D-I)**2;const v=(x-N)/L,k=(I+.5)*v+N,B=Math.sqrt(y/(C-1))*v;X.push({min:N,max:x,avg:k,stddev:B})}return X}function W(ee,X){const{pixelBlock:K,bandIds:N,returnHistogramLut:x,rasterInfo:L}=X;let w=null,C=null,A=ee.stretchType;if("number"==typeof A&&(A=xe.J[A]),ee.dra)if("minMax"===A&&(0,ie.pC)(K)&&K.statistics)w=K.statistics.map(d=>[d.minValue,d.maxValue,0,0]);else{const d=oe(K);w=(0,ie.pC)(d)?d.statistics:null,C=(0,ie.pC)(d)?d.histograms:null}else w=ee.statistics?.length>0?ee.statistics:(0,ie.Wg)(L.statistics),C=ee.histograms||(0,ie.Wg)(L.histograms);"percentClip"!==A&&"histogramEqualization"!==A||C?.length||(A="minMax");const I=w?.length||C?.length||L.bandCount,y=[],v=[];let k,B,D,f,O,R,G,t,u,g,p,S;switch(w&&!Array.isArray(w[0])&&(w=w.map(d=>[d.min,d.max,d.avg,d.stddev])),A){case"none":{const d=_e[L.pixelType]||_e.f32;for(t=0;t<I;t++)y[t]=d[0],v[t]=d[1]}break;case"minMax":for((0,ie.O3)(w),t=0;t<I;t++)y[t]=w[t][0],v[t]=w[t][1];break;case"standardDeviation":for((0,ie.O3)(w),t=0;t<I;t++)y[t]=w[t][2]-ee.numberOfStandardDeviations*w[t][3],v[t]=w[t][2]+ee.numberOfStandardDeviations*w[t][3],y[t]<w[t][0]&&(y[t]=w[t][0]),v[t]>w[t][1]&&(v[t]=w[t][1]);break;case"histogramEqualization":for((0,ie.O3)(C),t=0;t<I;t++)y[t]=C[t].min,v[t]=C[t].max;break;case"percentClip":for((0,ie.O3)(C),t=0;t<C.length;t++){for(k=C[t],O=new Uint32Array(k.size),f=[...k.counts],f.length>=20&&(f[0]=f[1]=f[2]=f[f.length-1]=f[f.length-2]=0),D=0,B=(k.max-k.min)/k.size,G=-.5===k.min&&1===B?.5:0,u=0;u<k.size;u++)D+=f[u],O[u]=D;for(R=(ee.minPercent||0)*D/100,u=0;u<k.size;u++)if(O[u]>R){y[t]=k.min+B*(u+G);break}for(R=(1-(ee.maxPercent||0)/100)*D,u=k.size-2;u>=0;u--)if(O[u]<R){v[t]=k.min+B*(u+2-G);break}}break;default:for((0,ie.O3)(w),t=0;t<I;t++)y[t]=w[t][0],v[t]=w[t][1]}return"histogramEqualization"===A?((0,ie.O3)(C),p=C[0].size||256,g=0,x&&(S=C.map(d=>ce(d)))):(p=ee.max||255,g=ee.min||0),function Q(ee,X){if(null==X||0===X.length)return ee;const K=Math.max.apply(null,X),{minCutOff:N,maxCutOff:x,outMin:L,outMax:w,histogramLut:C}=ee;return N.length===X.length||N.length<=K?ee:{minCutOff:X.map(A=>N[A]),maxCutOff:X.map(A=>x[A]),histogramLut:C?X.map(A=>C[A]):null,outMin:L,outMax:w}}({minCutOff:y,maxCutOff:v,outMax:p,outMin:g,histogramLut:S},N)}function H(ee,X){if((0,ie.Wi)(ee)||!ee.pixels?.length)return ee;const{mask:K,width:N,height:x,pixels:L}=ee,{minCutOff:w,maxCutOff:C,gamma:A}=X,I=X.outMin||0,y=X.outMax||255,v=N*x,k=X.outputPixelType||"u8",B=ee.pixels.map(()=>ge.Z.createEmptyBand(k,v)),D=B.length;let f,O,R,G,t;const u=y-I,g=[];for(f=0;f<D;f++)g[f]=C[f]-w[f];const p=A&&A.length>=D,S=[];if(p)for(f=0;f<D;f++)S[f]=A[f]>1?A[f]>2?6.5+(A[f]-2)**2.5:6.5+100*(2-A[f])**4:1;if(p)if(null!=K){for(O=0;O<v;O++)if(K[O])for(f=0;f<D;f++)R=L[f][O],t=(R-w[f])/g[f],G=1,A[f]>1&&(G-=(1/u)**(t*S[f])),B[f][O]=R<C[f]&&R>w[f]?Math.floor(G*u*t**(1/A[f]))+I:R>=C[f]?y:I}else for(O=0;O<v;O++)for(f=0;f<D;f++)R=L[f][O],t=(R-w[f])/g[f],G=1,A[f]>1&&(G-=(1/u)**(t*S[f])),B[f][O]=R<C[f]&&R>w[f]?Math.floor(G*u*t**(1/A[f]))+I:R>=C[f]?y:I;else if(null!=K){for(O=0;O<v;O++)if(K[O])for(f=0;f<D;f++)R=L[f][O],B[f][O]=R<C[f]&&R>w[f]?Math.floor((R-w[f])/g[f]*u)+I:R>=C[f]?y:I}else for(O=0;O<v;O++)for(f=0;f<D;f++)R=L[f][O],B[f][O]=R<C[f]&&R>w[f]?Math.floor((R-w[f])/g[f]*u)+I:R>=C[f]?y:I;const d=new ge.Z({width:N,height:x,mask:K,pixels:B,pixelType:k});return d.updateStatistics(),d}},67845:(Pe,Ae,se)=>{se.d(Ae,{M_:()=>U,TK:()=>_e,Ub:()=>Ce,vC:()=>he,yg:()=>ce});var ie=se(62208),ge=se(25688),xe=se(79751);function _e(fe){let{altitude:me,azimuth:z}=fe;const{hillshadeType:oe,pixelSizePower:ne=1,pixelSizeFactor:W=1,scalingType:Q,isGCS:H,resolution:ee}=fe,X="multi-directional"===oe?2*fe.zFactor:fe.zFactor,{x:K,y:N}=ee;let x=X/(8*K),L=X/(8*N);if(H&&X>.001&&(x/=111e3,L/=111e3),"adjusted"===Q)if(H){const u=111e3*K,g=111e3*N;x=(X+u**ne*W)/(8*u),L=(X+g**ne*W)/(8*g)}else x=(X+K**ne*W)/(8*K),L=(X+N**ne*W)/(8*N);let w=(90-me)*Math.PI/180,C=Math.cos(w),A=(360-z+90)*Math.PI/180,I=Math.sin(w)*Math.cos(A),y=Math.sin(w)*Math.sin(A);const v=[315,270,225,360,180,0],k=[60,60,60,60,60,90],B=new Float32Array([3,5,3,2,1,4]),D=B.reduce((u,g)=>u+g),f=B.map(u=>u/D),O="multi-directional"===oe?v.length:1,R=new Float32Array(6),G=new Float32Array(6),t=new Float32Array(6);if("multi-directional"===oe)for(let u=0;u<O;u++)me=k[u],z=v[u],w=(90-me)*Math.PI/180,C=Math.cos(w),A=(360-z+90)*Math.PI/180,I=Math.sin(w)*Math.cos(A),y=Math.sin(w)*Math.sin(A),R[u]=C,G[u]=I,t[u]=y;else R.fill(C),G.fill(I),t.fill(y);return{resolution:ee,factor:[x,L],sinZcosA:I,sinZsinA:y,cosZ:C,sinZcosAs:G,sinZsinAs:t,cosZs:R,weights:f,hillshadeType:["traditional","multi-directional"].indexOf(oe)}}function he(fe,me){if(!(0,xe.nk)(fe))return fe;const{width:z,height:oe,mask:ne}=fe,W=new Uint8Array(z*oe);let Q=1;if((0,ie.pC)(ne)){for(let p=0;p<ne.length;p++)if(ne[p]){Q=ne[p];break}W.set(ne)}const{factor:H,sinZcosA:ee,sinZsinA:X,cosZ:K,sinZcosAs:N,sinZsinAs:x,cosZs:L,weights:w}=_e(me),[C,A]=H,{hillshadeType:I}=me,y=fe.pixels[0],v=new Uint8Array(z*oe);let k,B,D,f,O,R,G,t;const g=(0,ie.pC)(ne);for(let p=1;p<oe-1;p++){const S=p*z;for(let d=1;d<z-1;d++){if(ne&&!ne[S+d]){v[S+d]=0;continue}let s=8;if(g&&(s=(ne[S-z+d-1]+ne[S-z+d]+ne[S-z+d+1]+ne[S+d-1]+ne[S+d+1]+ne[S+z+d-1]+ne[S+z+d]+ne[S+z+d+1])/Q,s<7)){v[S+d]=0,W[S+d]=0;continue}ne&&7===s?(k=ne[S-z+d-1]?y[S-z+d-1]:y[S+d],B=ne[S-z+d]?y[S-z+d]:y[S+d],D=ne[S-z+d+1]?y[S-z+d+1]:y[S+d],f=ne[S+d-1]?y[S+d-1]:y[S+d],O=ne[S+d+1]?y[S+d+1]:y[S+d],R=ne[S+z+d-1]?y[S+z+d-1]:y[S+d],G=ne[S+z+d]?y[S+z+d]:y[S+d],t=ne[S+z+d+1]?y[S+z+d+1]:y[S+d]):(k=y[S-z+d-1],B=y[S-z+d],D=y[S-z+d+1],f=y[S+d-1],O=y[S+d+1],R=y[S+z+d-1],G=y[S+z+d],t=y[S+z+d+1]);const i=(D+O+O+t-(k+f+f+R))*C,h=(R+G+G+t-(k+B+B+D))*A,m=Math.sqrt(1+i*i+h*h);let c=0;if("traditional"===I){let b=255*(K+X*h-ee*i)/m;b<0&&(b=0),c=b}else{const b=x.length;for(let T=0;T<b;T++){let E=255*(L[T]+x[T]*h-N[T]*i)/m;E<0&&(E=0),c+=E*w[T]}}v[S+d]=255&c}}for(let p=0;p<oe;p++)v[p*z]=v[p*z+1],v[(p+1)*z-1]=v[(p+1)*z-2];for(let p=1;p<z-1;p++)v[p]=v[p+z],v[p+(oe-1)*z]=v[p+(oe-2)*z];return new ge.Z({width:z,height:oe,pixels:[v],mask:ne?W:null,pixelType:"u8",validPixelCount:fe.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function Ce(fe,me,z,oe){if(!(0,xe.nk)(fe)||!(0,xe.nk)(me))return;const{min:ne,max:W}=oe,Q=fe.pixels[0],{pixels:H,mask:ee}=me,X=H[0],K=255.00001/(W-ne),N=new Uint8ClampedArray(X.length),x=new Uint8ClampedArray(X.length),L=new Uint8ClampedArray(X.length),w=z.length-1;for(let C=0;C<X.length;C++){if(ee&&0===ee[C])continue;const A=Math.floor((X[C]-ne)*K),[I,y]=z[A<0?0:A>w?w:A],v=Q[C],k=v*y,B=k*(1-Math.abs(I%2-1)),D=v-k;switch(Math.floor(I)){case 0:N[C]=k+D,x[C]=B+D,L[C]=D;break;case 1:N[C]=B+D,x[C]=k+D,L[C]=D;break;case 2:N[C]=D,x[C]=k+D,L[C]=B+D;break;case 3:N[C]=D,x[C]=B+D,L[C]=k+D;break;case 4:N[C]=B+D,x[C]=D,L[C]=k+D;break;case 5:case 6:N[C]=k+D,x[C]=D,L[C]=B+D}}fe.pixels=[N,x,L],fe.updateStatistics()}function ce(fe,me){if(!(0,xe.nk)(fe))return fe;const z=me.zFactor,oe=me.pixelSizePower??1,ne=me.pixelSizeFactor??1,W=me.slopeType,Q=me.isGCS,{width:H,height:ee,mask:X}=fe,K=fe.pixels[0],N=new Uint8Array(H*ee);let x=1;if((0,ie.pC)(X)){for(let u=0;u<X.length;u++)if(X[u]){x=X[u];break}N.set(X)}const L=new Float32Array(H*ee),{x:w,y:C}=me.resolution;let v,k,B,D,f,O,R,G,A=z/(8*w),I=z/(8*C);if(Q&&Math.abs(z-1)<1e-4&&(A/=111e3,I/=111e3),"adjusted"===W)if(Q){const u=111e3*w,g=111e3*C;A=(z+u**oe*ne)/(8*u),I=(z+g**oe*ne)/(8*g)}else A=(z+w**oe*ne)/(8*w),I=(z+C**oe*ne)/(8*C);const t=(0,ie.pC)(X);for(let u=1;u<ee-1;u++){const g=u*H;for(let p=1;p<H-1;p++){if(X&&!X[g+p]){L[g+p]=0;continue}let S=0;if(t&&(S=(X[g-H+p-1]+X[g-H+p]+X[g-H+p+1]+X[g+p-1]+X[g+p+1]+X[g+H+p-1]+X[g+H+p]+X[g+H+p+1])/x,S<7)){L[g+p]=0,N[g+p]=0;continue}X&&7===S?(v=X[g-H+p-1]?K[g-H+p-1]:K[g+p],k=X[g-H+p]?K[g-H+p]:K[g+p],B=X[g-H+p+1]?K[g-H+p+1]:K[g+p],D=X[g+p-1]?K[g+p-1]:K[g+p],f=X[g+p+1]?K[g+p+1]:K[g+p],O=X[g+H+p-1]?K[g+H+p-1]:K[g+p],R=X[g+H+p]?K[g+H+p]:K[g+p],G=X[g+H+p+1]?K[g+H+p+1]:K[g+p]):(v=K[g-H+p-1],k=K[g-H+p],B=K[g-H+p+1],D=K[g+p-1],f=K[g+p+1],O=K[g+H+p-1],R=K[g+H+p],G=K[g+H+p+1]);const d=(B+f+f+G-(v+D+D+O))*A,s=(O+R+R+G-(v+k+k+B))*I,i=Math.sqrt(d*d+s*s);L[g+p]="percent-rise"===W?100*i:57.2957795*Math.atan(i)}}for(let u=0;u<ee;u++)L[u*H]=L[u*H+1],L[(u+1)*H-1]=L[(u+1)*H-2];for(let u=1;u<H-1;u++)L[u]=L[u+H],L[u+(ee-1)*H]=L[u+(ee-2)*H];return new ge.Z({width:H,height:ee,pixels:[L],mask:X?N:null,pixelType:"f32",validPixelCount:fe.validPixelCount,statistics:[{minValue:0,maxValue:"percent-rise"===W?100:360}]})}function U(fe,me={}){if(!(0,xe.nk)(fe))return fe;const{width:z,height:oe,mask:ne}=fe,W=fe.pixels[0],Q=new Uint8Array(z*oe);(0,ie.pC)(ne)&&Q.set(ne);const H=new Float32Array(z*oe),{resolution:ee}=me,X=ee?1/ee.x:1,K=ee?1/ee.y:1;let x,L,w,C,A,I,y,v;const k=(0,ie.pC)(ne);for(let B=1;B<oe-1;B++){const D=B*z;for(let f=1;f<z-1;f++){if(ne&&!ne[D+f]){H[D+f]=0;continue}let O=0;if(k&&(O=ne[D-z+f-1]+ne[D-z+f]+ne[D-z+f+1]+ne[D+f-1]+ne[D+f+1]+ne[D+z+f-1]+ne[D+z+f]+ne[D+z+f+1],O<7)){H[D+f]=0,Q[D+f]=0;continue}ne&&7===O?(x=ne[D-z+f-1]?W[D-z+f-1]:W[D+f],L=ne[D-z+f]?W[D-z+f]:W[D+f],w=ne[D-z+f+1]?W[D-z+f+1]:W[D+f],C=ne[D+f-1]?W[D+f-1]:W[D+f],A=ne[D+f+1]?W[D+f+1]:W[D+f],I=ne[D+z+f-1]?W[D+z+f-1]:W[D+f],y=ne[D+z+f]?W[D+z+f]:W[D+f],v=ne[D+z+f+1]?W[D+z+f+1]:W[D+f]):(x=W[D-z+f-1],L=W[D-z+f],w=W[D-z+f+1],C=W[D+f-1],A=W[D+f+1],I=W[D+z+f-1],y=W[D+z+f],v=W[D+z+f+1]);const R=(w+A+A+v-(x+C+C+I))*X,G=(I+y+y+v-(x+L+L+w))*K;let t=-1;0===R&&0===G||(t=90-57.29578*Math.atan2(G,-R),t<0&&(t+=360),360===t?t=0:t>360&&(t%=360)),H[D+f]=t}}for(let B=0;B<oe;B++)H[B*z]=H[B*z+1],H[(B+1)*z-1]=H[(B+1)*z-2];for(let B=1;B<z-1;B++)H[B]=H[B+z],H[B+(oe-1)*z]=H[B+(oe-2)*z];return new ge.Z({width:z,height:oe,pixels:[H],mask:ne?Q:null,pixelType:"f32",validPixelCount:fe.validPixelCount,statistics:[{minValue:0,maxValue:360}]})}},30994:(Pe,Ae,se)=>{se.d(Ae,{KC:()=>W,NL:()=>U,QI:()=>Q,Tg:()=>z,Yx:()=>fe,xQ:()=>ne});var ie=se(2076),ge=se(62208),xe=se(25688),_e=se(79751);const he=new Map;he.set("meter-per-second",1),he.set("kilometer-per-hour",.277778),he.set("knots",.514444),he.set("feet-per-second",.3048),he.set("mile-per-hour",.44704);const Ce=180/Math.PI,U=new ie.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function fe(f,O){return he.get(f)/he.get(O)||1}function me(f){return(450-f)%360}function z(f,O="geographic"){const[R,G]=f,t=Math.sqrt(R*R+G*G);let u=Math.atan2(G,R)*Ce;return u=(360+u)%360,"geographic"===O&&(u=me(u)),[t,u]}function oe(f,O="geographic"){let R=f[1];"geographic"===O&&(R=me(R)),R%=360;const G=f[0];return[G*Math.cos(R/Ce),G*Math.sin(R/Ce)]}function ne(f,O,R,G="geographic"){if(!(0,_e.nk)(f)||(0,ge.Wi)(R))return f;const t="vector-magdir"===O?f.clone():(0,ge.Wg)(W(f,O)),u=t.pixels[1];for(let g=0;g<u.length;g++)u[g]="geographic"===G?(u[g]+R[g]+270)%360:(u[g]+360-R[g])%360;return"vector-magdir"===O?t:W(t,"vector-magdir")}function W(f,O,R="geographic",G=1){if(!(0,_e.nk)(f))return f;const{pixels:t,width:u,height:g}=f,p=u*g,S=t[0],d=t[1],s=f.pixelType.startsWith("f")?f.pixelType:"f32",i=xe.Z.createEmptyBand(s,p),h=xe.Z.createEmptyBand(s,p);let m=0;for(let b=0;b<g;b++)for(let T=0;T<u;T++)"vector-uv"===O?([i[m],h[m]]=z([S[m],d[m]],R),i[m]*=G):([i[m],h[m]]=oe([S[m],d[m]],R),i[m]*=G,h[m]*=G),m++;const c=new xe.Z({pixelType:s,width:f.width,height:f.height,mask:f.mask,validPixelCount:f.validPixelCount,maskIsAlpha:f.maskIsAlpha,pixels:[i,h]});return c.updateStatistics(),c}function Q(f,O,R=1){if(1===R||!(0,_e.nk)(f))return f;const G=f.clone(),{pixels:t,width:u,height:g}=G,p=t[0],S=t[1];let d=0;for(let s=0;s<g;s++)for(let i=0;i<u;i++)"vector-uv"===O?(p[d]*=R,S[d]*=R):p[d]*=R,d++;return G.updateStatistics(),G}function N(f,O,R,G=1){const t=Math.sqrt(f*f+O*O)/G,u=(2*Math.PI+Math.atan2(O,f))%(2*Math.PI);return[t,(2*Math.PI+u-R)%(2*Math.PI)]}!function X(f=0,O=0,R=Math.PI,G=!0){G&&(R=(2*Math.PI-R)%(2*Math.PI));const t=G?-1:1,u=13*t,g=-7*t,p=-2*t,S=-16*t,d=21.75,[s,i]=N(0,O+u,R,d),[h,m]=N(f-5.5,O+g,R,d),[c,b]=N(f+5.5,O+g,R,d),[T,E]=N(f-1.5,O+p,R,d),[M,_]=N(f+1.5,O+p,R,d),[F,P]=N(f-1.5,O+S,R,d),[V,j]=N(f+1.5,O+S,R,d);return[s,i,h,m,T,E,M,_,c,b,F,P,V,j]}(0,0,0)},99033:(Pe,Ae,se)=>{se.d(Ae,{Z:()=>N});var ie=se(17626),ge=se(78260),xe=se(86810),_e=se(63290),he=se(62208),Ce=se(77712),fe=(se(85931),se(90912),se(76898)),me=se(79645),z=se(79751),oe=se(17057),ne=se(67845),W=se(70208);let X=class extends xe.wq{constructor(x){super(x)}bind(){const{rendererJSON:x}=this;if(!x)return{success:!1};let L;switch(this.lookup={rendererJSON:{}},x.type){case"uniqueValue":L=this._updateUVRenderer(x);break;case"rasterColormap":L=this._updateColormapRenderer(x);break;case"rasterStretch":L=this._updateStretchRenderer(x);break;case"classBreaks":L=this._updateClassBreaksRenderer(x);break;case"rasterShadedRelief":L=this._updateShadedReliefRenderer(x);break;case"vectorField":L=this._updateVectorFieldRenderer();break;case"flowRenderer":L=this._updateFlowRenderer()}return L}symbolize(x){let L=x&&x.pixelBlock;if(!K(L))return L;if(x.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(L,x.simpleStretchParams);try{let w;switch(L.pixels.length>3&&(L=(0,z.qF)(L,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":w=this._symbolizeColormap(L);break;case"classBreaks":w=this._symbolizeClassBreaks(L);break;case"rasterStretch":w=this._symbolizeStretch(L,x.bandIds);break;case"rasterShadedRelief":{const C=x.extent;w=this._symbolizeShadedRelief(L,{isGCS:C.spatialReference.isGeographic,resolution:{x:(C.xmax-C.xmin)/L.width,y:(C.ymax-C.ymin)/L.height}});break}}return w}catch(w){return _e.Z.getLogger(this.declaredClass).error("symbolize",w.message),L}}simpleStretch(x,L){if(!K(x))return x;try{return x.pixels.length>3&&(x=(0,z.qF)(x,[0,1,2])),(0,oe.dy)(x,L)}catch(w){return _e.Z.getLogger(this.declaredClass).error("symbolize",w.message),x}}generateWebGLParameters(x){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:y,offset:v}=this.lookup.colormapLut||{};return{colormap:y,colormapOffset:v,type:"lut"}}const{pixelBlock:L,isGCS:w,resolution:C,bandIds:A}=x,{rendererJSON:I}=this;return"rasterStretch"===I.type?this._generateStretchWebGLParams(L,I,A):"rasterShadedRelief"===I.type?this._generateShadedReliefWebGLParams(I,w,C):"vectorField"===I.type?this._generateVectorFieldWebGLParams(I):null}_isLUTChanged(x){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const L=this.rendererJSON.colorRamp;return x?JSON.stringify(L)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(x){return this._isLUTChanged()&&!this.bind().success?x:(0,z.SJ)(x,this.lookup.colormapLut)}_symbolizeClassBreaks(x){const{canUseIndexedLUT:L}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?x:L?(0,z.SJ)(x,this.lookup.colormapLut):(0,z.zp)(x,this.lookup.remapLut??[])}_symbolizeStretch(x,L){const{rasterInfo:w}=this,{pixelType:C,bandCount:A}=w,I=this.rendererJSON,y=["u8","u16","s8","s16"].includes(C);let v,k;const{dra:B}=I,{gamma:D}=this.lookup;if("histogramEqualization"===I.stretchType){const f=B?null:this.lookup?.histogramLut,O=(0,oe.AV)(I,{rasterInfo:w,pixelBlock:x,bandIds:L,returnHistogramLut:!f}),R=(0,oe.dy)(x,{...O,gamma:D});k=(0,z.XV)(R,{lut:B?O.histogramLut:f,offset:0})}else if(y){if(B){const f=(0,oe.AV)(I,{rasterInfo:w,pixelBlock:x,bandIds:L});v=(0,oe.hE)({pixelType:C,...f,gamma:D})}else if(this._isLUTChanged()){if(!this.bind().success)return x;v=this.lookup?this.lookup.stretchLut:null}else v=this.lookup?this.lookup.stretchLut:null;if(!v)return x;A>1&&L?.length===(0,he.Wg)(x)?.pixels.length&&v?.lut.length===A&&(v={lut:L.map(f=>v.lut[f]),offset:v.offset}),k=(0,z.XV)(x,v)}else{const f=(0,oe.AV)(I,{rasterInfo:w,pixelBlock:x,bandIds:L});k=(0,oe.dy)(x,{...f,gamma:D})}if(I.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return x;k=(0,z.SJ)(k,this.lookup?.colormapLut)}return k}_symbolizeShadedRelief(x,L){const w=this.rendererJSON,C={...w,...L},A=(0,ne.vC)(x,C);if(!w.colorRamp)return A;let I;if(this._isLUTChanged(!0)){if(!this.bind().success)return A;I=this.lookup?this.lookup.hsvMap:null}else I=this.lookup?this.lookup.hsvMap:null;if(!I)return A;const y=(0,he.Wg)(this.rasterInfo.statistics)?.[0]??{min:0,max:8e3};return(0,ne.Ub)(A,x,I,y),A}_isVectorFieldData(){const{bandCount:x,dataType:L}=this.rasterInfo;return 2===x&&("vector-magdir"===L||"vector-uv"===L)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(x){const{bandCount:L,attributeTable:w,pixelType:C}=this.rasterInfo,A=x.field1;if(!A)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const I=x.defaultSymbol,y=1===L&&["u8","s8"].includes(C);if(!function Q(x,L){const{attributeTable:w,bandCount:C}=x;return!((0,he.Wi)(w)||C>1||L&&null==w.fields.find(A=>A.name.toLowerCase()===L.toLowerCase()))}(this.rasterInfo,A)&&!y)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const v=[];if((0,he.pC)(w)){const B=w.fields.find(D=>"value"===D.name.toLowerCase());if(!B)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};w.features.forEach(D=>{const f=x.uniqueValueInfos?.find(R=>String(R.value)===String(D.attributes[A])),O=f?.symbol?.color;O?v.push([D.attributes[B.name]].concat(O)):I&&v.push([D.attributes[B.name]].concat(I.color))})}else{if("value"!==A.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};x.uniqueValueInfos?.forEach(B=>{const D=B?.symbol?.color;D?v.push([parseInt(""+B.value,10)].concat(D)):I&&v.push([parseInt(""+B.value,10)].concat(I?.color))})}if(0===v.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const k=(0,z.Pz)({colormap:v});return this.lookup={rendererJSON:x,colormapLut:k},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(x){if(!function ee(x){const{bandCount:L,colormap:w}=x;return(0,he.pC)(w)&&w.length>0&&1===L}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const L=x.colormapInfos.map(C=>[C.value].concat(C.color)).sort((C,A)=>C[0]-A[0]);if(!L||0===L.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const w=(0,z.Pz)({colormap:L});return this.lookup={rendererJSON:x,colormapLut:w},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(x){if(!function H(x){const{bandCount:L,dataType:w,pixelType:C}=x;return"elevation"===w||"generic"===w&&1===L&&("s16"===C||"f32"===C||"f64"===C)}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(x.colorRamp){const L=(0,W.Jw)(x.colorRamp,256,!0),w=(0,z.Pz)({colormap:L}),C=[],A=w.indexedColormap;for(let I=0;I<A.length;I+=4){const y=(0,ge._Y)({r:A[I],g:A[I+1],b:A[I+2]});C.push([y.h/60,y.s/100,255*y.v/100])}this.lookup={rendererJSON:x,colormapLut:w,hsvMap:C}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(x){const{attributeTable:L,pixelType:w}=this.rasterInfo,C=(0,he.pC)(L)?L.fields.find(y=>"value"===y.name.toLowerCase()):null,A=(0,he.pC)(L)?L.fields.find(y=>y.name.toLowerCase()===x.field.toLowerCase()):null,I=null!=C&&null!==A;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(w)||I,tableValueField:C,tableBreakField:A}}_updateClassBreaksRenderer(x){const{attributeTable:L}=this.rasterInfo,{canUseIndexedLUT:w,tableValueField:C,tableBreakField:A}=this._analyzeClassBreaks(x),I=x.classBreakInfos;if(!I?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const y=I.sort((f,O)=>f.classMaxValue-O.classMaxValue),v=y[y.length-1];let k=x.minValue;if(!w){const f=[];for(let O=0;O<y.length;O++)f.push({value:y[O].classMinValue??k,mappedColor:y[O].symbol.color}),k=y[O].classMaxValue;return f.push({value:v.classMaxValue,mappedColor:v.symbol.color}),this.lookup={rendererJSON:x,remapLut:f},this.canRenderInWebGL=!1,{success:!0}}const B=[];if((0,he.pC)(L)&&null!=C&&null!==A&&C!==A){const f=C.name,O=A.name,R=y[y.length-1],{classMaxValue:G}=R;k=x.minValue;for(const t of L.features){const u=t.attributes[f],g=t.attributes[O],p=g===G?R:g<k?null:y.find(({classMaxValue:S})=>S>g);p&&B.push([u].concat(p.symbol.color))}}else{k=Math.floor(x.minValue);for(let f=0;f<y.length;f++){const O=y[f];for(let R=k;R<O.classMaxValue;R++)B.push([R].concat(O.symbol.color));k=Math.ceil(O.classMaxValue)}v.classMaxValue===k&&B.push([v.classMaxValue].concat(v.symbol.color))}const D=(0,z.Pz)({colormap:B,fillUnspecified:!1});return this.lookup={rendererJSON:x,colormapLut:D},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(x){return"percentClip"===x||"histogramEqualization"===x}_isValidRasterStatistics(x){return(0,he.pC)(x)&&x.length>0&&null!=x[0].min&&null!=x[0].max}_updateStretchRenderer(x){let{stretchType:L,dra:w}=x;if(!("none"===L||x.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||w))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const C=(0,he.Wg)(x.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(x.stretchType)||C?.length||w||(L="minMax");const{computeGamma:A,useGamma:I,colorRamp:y}=x;let{gamma:v}=x;if(I&&A&&!v?.length){const D=x.statistics?.length?x.statistics:(0,he.Wg)(this.rasterInfo.statistics);v=(0,oe.ZF)(this.rasterInfo.pixelType,D)}const k=this.rasterInfo.pixelType,B=!w&&["u8","u16","s8","s16"].includes(k);if("histogramEqualization"===L){const D=C.map(f=>(0,oe.oc)(f));this.lookup={rendererJSON:x,histogramLut:D}}else if(B){const D=(0,oe.AV)(x,{rasterInfo:this.rasterInfo}),f=(0,oe.hE)({pixelType:k,...D,gamma:I?v:null});this.lookup={rendererJSON:x,stretchLut:f}}if(y){const D=(0,W.Jw)(y,256,!0);this.lookup||(this.lookup={rendererJSON:x}),this.lookup.colormapLut=(0,z.Pz)({colormap:D}),this.lookup.rendererJSON=x}return this.lookup.gamma=I&&v?.length?v:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(x,L,w){let C=null,A=null;const I=this.lookup&&this.lookup.colormapLut;L.colorRamp&&I&&(C=I.indexedColormap,A=I.offset),"histogramEqualization"===L.stretchType&&(L={...L,stretchType:"minMax"});const{gamma:y}=this.lookup,v=!!(L.useGamma&&y&&y.some(p=>1!==p)),{minCutOff:k,maxCutOff:B,outMin:D,outMax:f}=(0,oe.AV)(L,{rasterInfo:this.rasterInfo,pixelBlock:x,bandIds:w});let O=0;(0,he.pC)(x)&&(O=x.getPlaneCount(),2===O&&((x=x.clone()).statistics=[x.statistics[0]],x.pixels=[x.pixels[0]]));const R=Math.min(3,w?.length||O||this.rasterInfo.bandCount),G=new Float32Array(R),t=C||v?1:255;let u;for(u=0;u<R;u++)G[u]=(f-D)/(B[u]-k[u])/t;const g=new Float32Array(R);if(v)for(u=0;u<R;u++)g[u]=y[u]>1?y[u]>2?6.5+(y[u]-2)**2.5:6.5+100*(2-y[u])**4:1;return{bandCount:R,outMin:D/t,outMax:f/t,minCutOff:k,maxCutOff:B,factor:G,useGamma:v,gamma:v?y:[1,1,1],gammaCorrection:v?g:[1,1,1],colormap:C,colormapOffset:A,stretchType:L.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(x,L=!1,w={x:0,y:0}){let C=null,A=null;const I=this.lookup&&this.lookup.colormapLut;x.colorRamp&&I&&(C=I.indexedColormap,A=I.offset);const y={...x,isGCS:L,resolution:w},v=(0,ne.TK)(y),k=(0,he.Wg)(this.rasterInfo.statistics)?.[0];return{...v,minValue:k?.min??0,maxValue:k?.max??8e3,hillshadeType:"traditional"===x.hillshadeType?0:1,type:"hillshade",colormap:C,colormapOffset:A}}_generateVectorFieldWebGLParams(x){const{style:L,inputUnit:w,outputUnit:C,visualVariables:A,symbolTileSize:I,flowRepresentation:y}=x;let v;const k=this.rasterInfo.statistics?.[0].min??0,B=this.rasterInfo.statistics?.[0].max??50,D=A?.find(g=>"sizeInfo"===g.type)??{type:"sizeInfo",field:"Magnitude",maxDataValue:B,maxSize:.8*I,minDataValue:k,minSize:.2*I},f=D.minDataValue??k,O=D.maxDataValue??B,R=(0,he.pC)(D.maxSize)&&(0,he.pC)(D.minSize)?[D.minSize/I,D.maxSize/I]:[.2,.8];"wind_speed"===L&&(R[0]=R[1]=(R[0]+R[1])/2);const G=(0,he.pC)(f)&&(0,he.pC)(O)?[f,O]:null;if("classified_arrow"===L)if((0,he.pC)(f)&&(0,he.pC)(O)&&(0,he.pC)(D)){v=[];const g=(D.maxDataValue-D.minDataValue)/5;for(let p=0;p<6;p++)v.push(D.minDataValue+g*p)}else v=[0,1e-6,3.5,7,10.5,14];const t="flow_to"===y==("ocean_current_kn"===L||"ocean_current_m"===L)?0:Math.PI,u=A?.find(g=>"rotationInfo"===g.type);return{breakValues:v,dataRange:G,inputUnit:w,outputUnit:C,symbolTileSize:I,symbolPercentRange:R,style:L||"single_arrow",rotation:t,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":u?.rotationType||x.rotationType,type:"vectorField"}}};function K(x){return(0,z.nk)(x)&&0!==x.validPixelCount}(0,ie._)([(0,Ce.Cb)({json:{write:!0}})],X.prototype,"rendererJSON",void 0),(0,ie._)([(0,Ce.Cb)({type:me.Z,json:{write:!0}})],X.prototype,"rasterInfo",void 0),(0,ie._)([(0,Ce.Cb)({json:{write:!0}})],X.prototype,"lookup",void 0),(0,ie._)([(0,Ce.Cb)()],X.prototype,"canRenderInWebGL",void 0),X=(0,ie._)([(0,fe.j)("esri.renderers.support.RasterSymbolizer")],X);const N=X},70208:(Pe,Ae,se)=>{se.d(Ae,{Jw:()=>Q,Ms:()=>xe,Uh:()=>ce,XL:()=>W,io:()=>K,pM:()=>H});var ie=se(91558),ge=se(78260);const xe=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],_e={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};function he(N,x){if(!N||!x||N.length!==x.length)return!1;for(let L=0;L<N.length;L++)if(N[L]>x[L]+2||N[L]<x[L]-2)return!1;return!0}function ce(N){const x=function Ce(N,x){if(!N)return;const L=x||xe;let w=null;return"algorithmic"===N.type?L.some(C=>{if(he(N.fromColor.toRgb(),C.fromColor)&&he(N.toColor.toRgb(),C.toColor))return w=C.id,!0}):"multipart"===N.type&&L.some(C=>{const A=N.colorRamps,I=C.colorRamps;if(A&&I&&A.length===I.length&&!I.some((y,v)=>{if(!he(A[v].fromColor.toRgb(),new ie.Z(y.fromColor).toRgb())||!he(A[v].toColor.toRgb(),new ie.Z(y.toColor).toRgb()))return!0})){if(w)return!0;w=C.id}}),w}(N);return x?_e[x]:null}function U(N){const x=(N=N||{}).numColors||256,L=N.distanceOffset||0,w=null!=N.isCustomInterval?N.isCustomInterval:null!==N.distanceInterval&&N.distanceInterval!==1/(x-1),C=N.distanceInterval||1/(x-1);return{...N,numColors:x,distanceOffset:L,interpolateAlpha:!!N.interpolateAlpha,distanceInterval:C,isCustomInterval:w,weights:N.weights}}function oe(N,x){let{fromColor:L,toColor:w}=N;3===L.length&&(L=L.concat([255])),3===w.length&&(w=w.concat([255]));const C=N.algorithm||"esriCIELabAlgorithm",{numColors:A,distanceOffset:I,isCustomInterval:y,interpolateAlpha:v}=U(x);if(1===A&&0===I)return[L];if(2===A&&0===I&&!y)return[L,w];const k={r:L[0],g:L[1],b:L[2]},B={r:w[0],g:w[1],b:w[2]},D="esriCIELabAlgorithm"===C?function me(N,x,L){const{numColors:w,distanceOffset:C,distanceInterval:A,isCustomInterval:I}=U(L);let{l:y,a:v,b:k}=N;const B=(x.l-y)*A,D=(x.a-v)*A,f=(x.b-k)*A,O=[];if(C){const R=C/A;y+=R*B,v+=R*D,k+=R*f}for(let R=0;R<w-1;R++)O.push({l:y,a:v,b:k}),y+=B,v+=D,k+=f;return O.push(I?{l:y,a:v,b:k}:x),O}((0,ge.Y3)(k),(0,ge.Y3)(B),x):"esriHSVAlgorithm"===C?function fe(N,x,L){const{numColors:w,distanceOffset:C,distanceInterval:A,isCustomInterval:I}=U(L),y=0===N.s,v=0===x.s;let k=N.h,B=x.h;y&&!v?k=B:v&&!y&&(x={...x,h:k},B=k);let D,f=Math.abs(B-k);const O=360;f<180?D=(B-k)*A:(f=O-f,D=k>B?f*A:-f*A);const R=(x.s-N.s)*A,G=(x.v-N.v)*A;let{s:t,v:u}=N,g=k;if(C){const S=C/A;g=(g+S*D+O)%O,t+=S*R,u+=S*G}const p=[];for(let S=0;S<w-1;S++)p.push({h:g,s:t,v:u}),g=(g+D+O)%O,t+=R,u+=G;return p.push(I?{h:g,s:t,v:u}:x),p}((0,ge._Y)(k),(0,ge._Y)(B),x):function z(N,x,L){const{numColors:w,distanceOffset:C,distanceInterval:A,isCustomInterval:I}=U(L),y=N.h,v=x.h,k=2*Math.PI;let B;if(y<=v){const g=v-y,p=v-y-k;B=Math.abs(p)<Math.abs(g)?p:g}else{const g=v+k-y,p=v-y;B=Math.abs(p)<Math.abs(g)?p:g}const D=B*A,f=(x.l-N.l)*A,O=(x.c-N.c)*A;let{l:R,c:G,h:t}=N;if(C){const g=C/A;R+=g*f,G+=g*O,t=(t+g*D+k)%k}const u=[];for(let g=0;g<w-1;g++)u.push({l:R,c:G,h:t}),R+=f,G+=O,t=(t+D+k)%k;return u.push(I?{l:R,c:G,h:t}:x),u}((0,ge.sJ)(k),(0,ge.sJ)(B),x),f=[],O=L[3]??255,R=((w[3]??255)-O)/(A-1);for(let G=0;G<A;G++){const{r:t,g:u,b:g}=(0,ge.xr)(D[G]),p=v?Math.round(O+R*G):255;f.push([t,u,g,p])}return f}function W(N,x=256,L=!1){const w="toJSON"in N?N.toJSON():N,C={numColors:x,interpolateAlpha:L};return"multipart"===w.type?function ne(N,x){const{numColors:L,interpolateAlpha:w}=U(x);let C=x?.weights;const{colorRamps:A}=N;if(C){const f=C.reduce((O,R)=>O+R);C=C.map(O=>O/f)}else{C=[];for(let f=0;f<A.length;f++)C[f]=1/A.length}const I=[];let y=0,v=0;const k=1/(L-1);let B=!1;for(let f=0;f<A.length;f++){let O=B?0:y*k-v,R=f===A.length-1?L-1-y:(C[f]-O)/k;if(B=Math.ceil(R)===R,R=Math.ceil(R),0===R)continue;O/=C[f];const G=oe(A[f],{numColors:R,interpolateAlpha:w,distanceOffset:O,distanceInterval:k/C[f]});y+=G.length,I.push(...G),v+=C[f]}const D=[...A[A.length-1].toColor];return 3===D.length&&D.push(255),I.push(D),I}(w,C):oe(w,C)}function Q(N,x=256,L=!1){const w=W(N,x,L);return w.forEach((C,A)=>{C.unshift(A),L||C.pop()}),w}function H(N){const x=ce(N);if(N){if("algorithmic"===N.type)return{...ee(N),Name:x};if(N.colorRamps){const L=N.colorRamps.map(ee);return{type:"MultiPartColorRamp",NumColorRamps:L.length,ArrayOfColorRamp:L,Name:x}}}}function ee(N){if(N)return{Algorithm:N.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:X(N.fromColor),ToColor:X(N.toColor)}}function X(N){const x=(0,ge._Y)(N);return{type:"HsvColor",Hue:x.h,Saturation:x.s,Value:x.v,AlphaValue:255}}function K(N){const x=N.reverse().map(L=>{const w=L.toString(16);return w.length<2?"0"+w:w});return 4294967295&Number.parseInt(x.join(""),16)}},65468:(Pe,Ae,se)=>{se.d(Ae,{J:()=>xe,v:()=>ge});const ge=new(se(2076).X)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),xe={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}},37084:(Pe,Ae,se)=>{se.d(Ae,{GE:()=>oe});var ie=se(15861),xe=(se(29132),se(8314)),_e=se(63290),Ce=(se(21286),se(10699)),ce=se(4619);se(37053),se(2004);const me=_e.Z.getLogger("esri.views.2d.engine.flow.dataUtils");function oe(I,y,v,k){return ne.apply(this,arguments)}function ne(){return(ne=(0,ie.Z)(function*(I,y,v,k){const B=performance.now(),D=W(y,v),f=performance.now(),O=H(y,D,v.width,v.height),R=performance.now(),G=X(O,!0),t=performance.now(),u="Streamlines"===I?K(G,10):N(G),g=performance.now();return(0,xe.Z)("esri-2d-profiler")&&(me.info("I.1","_createFlowFieldFromData (ms)",Math.round(f-B)),me.info("I.2","_getStreamlines (ms)",Math.round(R-f)),me.info("I.3","createAnimatedLinesData (ms)",Math.round(t-R)),me.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(g-t)),me.info("I.5","createFlowMesh (ms)",Math.round(g-B)),me.info("I.6","Mesh size (bytes)",u.vertexData.buffer.byteLength+u.indexData.buffer.byteLength)),yield Promise.resolve(),(0,Ce.k_)(k),u})).apply(this,arguments)}function W(I,y){const v=function ee(I,y,v,k){if(0===k)return I;const B=Math.round(3*k),D=new Array(2*B+1);let f=0;for(let G=-B;G<=B;G++){const t=Math.exp(-G*G/(k*k));D[G+B]=t,f+=t}for(let G=-B;G<=B;G++)D[G+B]/=f;const O=new Float32Array(I.length);for(let G=0;G<v;G++)for(let t=0;t<y;t++){let u=0,g=0;for(let p=-B;p<=B;p++){if(t+p<0||t+p>=y)continue;const S=D[p+B];u+=S*I[2*(G*y+(t+p))+0],g+=S*I[2*(G*y+(t+p))+1]}O[2*(G*y+t)+0]=u,O[2*(G*y+t)+1]=g}const R=new Float32Array(I.length);for(let G=0;G<y;G++)for(let t=0;t<v;t++){let u=0,g=0;for(let p=-B;p<=B;p++){if(t+p<0||t+p>=v)continue;const S=D[p+B];u+=S*O[2*((t+p)*y+G)+0],g+=S*O[2*((t+p)*y+G)+1]}R[2*(t*y+G)+0]=u,R[2*(t*y+G)+1]=g}return R}(y.data,y.width,y.height,I.smoothing);return I.interpolate?(k,B)=>{const D=Math.floor(k),f=Math.floor(B);if(D<0||D>=y.width)return[0,0];if(f<0||f>=y.height)return[0,0];const O=k-D,R=B-f,u=D<y.width-1?D+1:D,g=f<y.height-1?f+1:f;return[(v[2*(f*y.width+D)]*(1-R)+v[2*(g*y.width+D)]*R)*(1-O)+(v[2*(f*y.width+u)]*(1-R)+v[2*(g*y.width+u)]*R)*O,(v[2*(f*y.width+D)+1]*(1-R)+v[2*(g*y.width+D)+1]*R)*(1-O)+(v[2*(f*y.width+u)+1]*(1-R)+v[2*(g*y.width+u)+1]*R)*O]}:(k,B)=>{const D=Math.round(k),f=Math.round(B);return D<0||D>=y.width||f<0||f>=y.height?[0,0]:[v[2*(f*y.width+D)+0],v[2*(f*y.width+D)+1]]}}function Q(I,y,v,k,B,D,f,O,R){const G=[];let t=v,u=k,g=0,[p,S]=y(t,u);p*=I.velocityScale,S*=I.velocityScale;const d=Math.sqrt(p*p+S*S);let s,i;G.push({x:t,y:u,t:g,speed:d});for(let h=0;h<I.verticesPerLine;h++){let[m,c]=y(t,u);m*=I.velocityScale,c*=I.velocityScale;const b=Math.sqrt(m*m+c*c);if(b<I.minSpeedThreshold)return G;const T=m/b,E=c/b;if(t+=T*I.segmentLength,u+=E*I.segmentLength,g+=I.segmentLength/b,Math.acos(T*s+E*i)>I.maxTurnAngle)return G;if(I.collisions){const M=Math.round(t*R),_=Math.round(u*R);if(M<0||M>f-1||_<0||_>O-1)return G;const F=D[_*f+M];if(-1!==F&&F!==B)return G;D[_*f+M]=B}G.push({x:t,y:u,t:g,speed:b}),s=T,i=E}return G}function H(I,y,v,k){const B=[],D=new ce.Z,f=1/Math.max(I.lineCollisionWidth,1),O=Math.round(v*f),R=Math.round(k*f),G=new Int32Array(O*R);for(let u=0;u<G.length;u++)G[u]=-1;const t=[];for(let u=0;u<k;u+=I.lineSpacing)for(let g=0;g<v;g+=I.lineSpacing)t.push({x:g,y:u,sort:D.getFloat()});t.sort((u,g)=>u.sort-g.sort);for(const{x:u,y:g}of t)if(D.getFloat()<I.density){const p=Q(I,y,u,g,B.length,G,O,R,f);if(p.length<2)continue;B.push(p)}return B}function X(I,y){const v=new ce.Z,k=I.reduce((R,G)=>R+G.length,0),B=new Float32Array(4*k),D=new Array(I.length);let f=0,O=0;for(const R of I){const G=f;for(const t of R)B[4*f+0]=t.x,B[4*f+1]=t.y,B[4*f+2]=t.t,B[4*f+3]=t.speed,f++;D[O++]={startVertex:G,numberOfVertices:R.length,totalTime:R[R.length-1].t,timeSeed:y?v.getFloat():0}}return{lineVertices:B,lineDescriptors:D}}function K(I,y){const{lineVertices:k,lineDescriptors:B}=I;let D=0,f=0;for(const p of B)D+=2*p.numberOfVertices,f+=6*(p.numberOfVertices-1);const O=new Float32Array(9*D),R=new Uint32Array(f);let G=0,t=0;function g(p,S,d,s,i,h,m,c){const b=9*G;let T=0;O[b+T++]=p,O[b+T++]=S,O[b+T++]=1,O[b+T++]=d,O[b+T++]=h,O[b+T++]=m,O[b+T++]=s/2,O[b+T++]=i/2,O[b+T++]=c,G++,O[b+T++]=p,O[b+T++]=S,O[b+T++]=-1,O[b+T++]=d,O[b+T++]=h,O[b+T++]=m,O[b+T++]=-s/2,O[b+T++]=-i/2,O[b+T++]=c,G++}for(const p of B){const{totalTime:S,timeSeed:d}=p;let s=null,i=null,h=null,m=null,c=null,b=null;for(let T=0;T<p.numberOfVertices;T++){const E=k[4*(p.startVertex+T)+0],M=k[4*(p.startVertex+T)+1],_=k[4*(p.startVertex+T)+2],F=k[4*(p.startVertex+T)+3];let P=null,V=null,j=null,J=null;if(T>0){P=E-s,V=M-i;const Z=Math.sqrt(P*P+V*V);if(P/=Z,V/=Z,T>1){let q=P+c,$=V+b;const re=Math.sqrt(q*q+$*$);q/=re,$/=re;const Y=Math.min(1/(q*P+$*V),y);q*=Y,$*=Y,j=-$,J=q}else j=-V,J=P;null!==j&&null!==J&&(g(s,i,h,j,J,S,d,F),R[t++]=G-2,R[t++]=G,R[t++]=G-1,R[t++]=G,R[t++]=G+1,R[t++]=G-1)}s=E,i=M,h=_,c=P,b=V,m=F}g(s,i,h,-b,c,S,d,m)}return{vertexData:O,indexData:R}}function N(I){const{lineVertices:B,lineDescriptors:D}=I;let f=0,O=0;for(const Z of D){const q=Z.numberOfVertices-1;f+=4*q*2,O+=6*q*2}const R=new Float32Array(16*f),G=new Uint32Array(O);let t,u,g,p,S,d,s,i,h,m,c,b,T,E,M=0,_=0;function V(Z,q){let $=h+c,re=m+b;const Y=Math.sqrt($*$+re*re);$/=Y,re/=Y;const ue=h*$+m*re;$/=ue,re/=ue;let pe=c+T,ae=b+E;const te=Math.sqrt(pe*pe+ae*ae);pe/=te,ae/=te;const le=c*pe+b*ae;pe/=le,ae/=le,function P(Z,q,$,re,Y,ue,pe,ae,te,le,ye,de,be,Te){const we=16*M;let ve=0;for(const Ee of[1,2])for(const Se of[1,2,3,4])R[we+ve++]=Z,R[we+ve++]=q,R[we+ve++]=$,R[we+ve++]=re,R[we+ve++]=pe,R[we+ve++]=ae,R[we+ve++]=te,R[we+ve++]=le,R[we+ve++]=Ee,R[we+ve++]=Se,R[we+ve++]=be,R[we+ve++]=Te,R[we+ve++]=Y/2,R[we+ve++]=ue/2,R[we+ve++]=ye/2,R[we+ve++]=de/2,M++}(t,u,g,p,-re,$,S,d,s,i,-ae,pe,Z,q),function F(){G[_++]=M-8,G[_++]=M-7,G[_++]=M-6,G[_++]=M-7,G[_++]=M-5,G[_++]=M-6,G[_++]=M-4,G[_++]=M-3,G[_++]=M-2,G[_++]=M-3,G[_++]=M-1,G[_++]=M-2}()}function j(Z,q,$,re,Y,ue){if(h=c,m=b,c=T,b=E,null==h&&null==m&&(h=c,m=b),null!=S&&null!=d){T=Z-S,E=q-d;const pe=Math.sqrt(T*T+E*E);T/=pe,E/=pe}null!=h&&null!=m&&V(Y,ue),t=S,u=d,g=s,p=i,S=Z,d=q,s=$,i=re}function J(Z,q){h=c,m=b,c=T,b=E,null==h&&null==m&&(h=c,m=b),null!=h&&null!=m&&V(Z,q)}for(const Z of D){t=null,u=null,g=null,p=null,S=null,d=null,s=null,i=null,h=null,m=null,c=null,b=null,T=null,E=null;const{totalTime:q,timeSeed:$}=Z;for(let re=0;re<Z.numberOfVertices;re++)j(B[4*(Z.startVertex+re)+0],B[4*(Z.startVertex+re)+1],B[4*(Z.startVertex+re)+2],B[4*(Z.startVertex+re)+3],q,$);J(q,$)}return{vertexData:R,indexData:G}}}}]);