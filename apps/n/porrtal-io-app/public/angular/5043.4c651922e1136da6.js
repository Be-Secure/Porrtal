"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[5043],{84600:(rt,q,w)=>{w.d(q,{Rd:()=>K,Ud:()=>G,VG:()=>Y,Wv:()=>J,Zv:()=>tt});var A=w(15572),X=w(90466);function Y(_,m,g,x=2,k="abbr"){return(0,X.VG)(_,(0,A.nn)(m,g).value,g,x,k)}function K(_,m,g=2,x="abbr"){return(0,X.Rd)(_,m.value,m.unit,g,x)}function J(_,m,g=2,x="abbr"){return(0,X.Wv)(_,m.value,m.unit,g,x)}function G(_,m,g=2,x="abbr"){return(0,X.Ud)(_,m.value,m.unit,g,x)}function tt(_,m,g=2,x="abbr"){return(0,X.Zv)(_,m.value,m.unit,g,x)}},15572:(rt,q,w)=>{w.d(q,{EV:()=>X,ne:()=>F,nn:()=>Z,yG:()=>Y});var A=w(16730);function X(S,T){return{type:(0,A.UF)(T),value:S,unit:T}}function Y(S,T){return{type:(0,A.UF)(T),value:S,unit:T}}function F(S,T){return{type:(0,A.UF)(T),value:S,unit:T}}function Z(S,T){return X((0,A.En)(S.value,S.unit,T),T)}Y(0,"meters"),F(0,"square-meters"),function z(S,T,$="arithmetic"){(0,A.UF)(T)}(0,"radians")},68063:(rt,q,w)=>{w.d(q,{Kc:()=>ft,jB:()=>mt});var A=w(91558),X=w(72392),Y=w(62208),F=w(32917),K=w(23841),z=w(67831),J=w(84161),Z=w(28093),H=w(68604),G=w(25858),I=w(17626),tt=w(14517),C=w(77712),S=(w(85931),w(90912),w(76898));w(50645);let $=d=>({vnodeSelector:"",properties:void 0,children:void 0,text:d.toString(),domNode:null}),B=(d,l,y)=>{for(let P=0,E=l.length;P<E;P++){let R=l[P];Array.isArray(R)?B(d,R,y):null!=R&&!1!==R&&("string"==typeof R&&(R=$(R)),y.push(R))}};function O(d,l,y){if(Array.isArray(l))y=l,l=void 0;else if(l&&("string"==typeof l||l.hasOwnProperty("vnodeSelector"))||y&&("string"==typeof y||y.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let P,E;return y&&1===y.length&&"string"==typeof y[0]?P=y[0]:y&&(E=[],B(d,y,E),0===E.length&&(E=void 0)),{vnodeSelector:d,properties:l,children:E,text:""===P?void 0:P,domNode:null}}w(62996);let D=class extends tt.Z{constructor(d){super(d),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(d){this._set("startX",d[0]),this._set("startY",d[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(d){this._set("endX",d[0]),this._set("endY",d[1])}get _strokeStyle(){const d=this.color;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}get _lineCap(){return"round"}render(){const{height:d,left:l,top:y,width:P,x1:E,x2:R,y1:V,y2:N}=this._calculateCoordinates(_);return O("div",{classes:{"esri-line-overlay-item":!0},styles:{left:l+"px",top:y+"px",width:P+"px",height:d+"px",visibility:this.visible?"visible":"hidden"}},[O("svg",{width:P,height:d},[O("line",{x1:E,y1:V,x2:R,y2:N,style:`stroke: ${this._strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this._lineCap};`})])])}renderCanvas(d){if(!this.visible)return;d.strokeStyle=this._strokeStyle,d.lineWidth=this.width,d.lineCap=this._lineCap;const l=this._calculateCoordinates(_);d.beginPath(),d.moveTo(l.left+l.x1,l.top+l.y1),d.lineTo(l.left+l.x2,l.top+l.y2),d.stroke()}_calculateCoordinates(d){const l=Math.min(this.startX,this.endX),y=Math.max(this.startX,this.endX),P=Math.min(this.startY,this.endY),E=Math.max(this.startY,this.endY),R=this.width;return d.left=l-R,d.top=P-R,d.width=y-l+2*R,d.height=Math.max(20,E-P+2*R),d.x1=this.startX-l+R,d.y1=this.startY-P+R,d.x2=this.endX-l+R,d.y2=this.endY-P+R,d}};(0,I._)([(0,C.Cb)()],D.prototype,"startX",void 0),(0,I._)([(0,C.Cb)()],D.prototype,"startY",void 0),(0,I._)([(0,C.Cb)()],D.prototype,"endX",void 0),(0,I._)([(0,C.Cb)()],D.prototype,"endY",void 0),(0,I._)([(0,C.Cb)()],D.prototype,"startPosition",null),(0,I._)([(0,C.Cb)()],D.prototype,"endPosition",null),(0,I._)([(0,C.Cb)()],D.prototype,"width",void 0),(0,I._)([(0,C.Cb)()],D.prototype,"color",void 0),(0,I._)([(0,C.Cb)()],D.prototype,"visible",void 0),(0,I._)([(0,C.Cb)({readOnly:!0})],D.prototype,"_strokeStyle",null),D=(0,I._)([(0,S.j)("esri.views.overlay.LineOverlayItem")],D);const _={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},m=D,g={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let x=class extends tt.Z{constructor(d){super(d),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.backgroundColor=new A.Z([0,0,0,.6]),this.textColor=new A.Z([255,255,255]),this._textShadowSize=1}get position(){return[this.x,this.y]}set position(d){this._set("x",d[0]),this._set("y",d[1])}get _textShadowColor(){return this.backgroundColor}get _textShadow(){const d=this._textShadowColor.toCss(!1);return`0 0 ${this._textShadowSize}px ${d}`}get _padding(){return.5*this.fontSize}get _borderRadius(){return this._padding}render(){return O("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this._padding+"px",borderRadius:this._borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(d){if(!this.visible)return;const l=d.font.replace(/^(.*?)px/,"");d.font=`${this.fontSize}px ${l}`;const y=this._padding,P=this._borderRadius,E=d.measureText(this.text).width,R=this.fontSize,V=k[this.anchor];d.textAlign="center",d.textBaseline="middle";const N=E+2*y,Q=R+2*y;this._roundedRect(d,this.x+V.x*N,this.y+V.y*Q,N,Q,P),d.fillStyle=this.backgroundColor.toCss(!0),d.fill();const vt=this.x+(V.x+.5)*N,xt=this.y+(V.y+.5)*Q;this._renderTextShadow(d,this.text,vt,xt),d.fillStyle=this.textColor.toCss(!0),d.fillText(this.text,vt,xt)}_renderTextShadow(d,l,y,P){d.lineJoin="miter",d.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/it.length})`;const E=this._textShadowSize;for(const[R,V]of it)d.fillText(l,y+E*R,P+E*V)}_roundedRect(d,l,y,P,E,R){d.beginPath(),d.moveTo(l,y+R),d.arcTo(l,y,l+R,y,R),d.lineTo(l+P-R,y),d.arcTo(l+P,y,l+P,y+R,R),d.lineTo(l+P,y+E-R),d.arcTo(l+P,y+E,l+P-R,y+E,R),d.lineTo(l+R,y+E),d.arcTo(l,y+E,l,y+E-R,R),d.closePath()}_cssClasses(){const d={"esri-text-overlay-item":!0};for(const l in g)d[g[l]]=this.anchor===l;return d}};(0,I._)([(0,C.Cb)()],x.prototype,"x",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"y",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"position",null),(0,I._)([(0,C.Cb)()],x.prototype,"text",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"fontSize",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"anchor",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"visible",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"backgroundColor",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"textColor",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"_textShadowSize",void 0),(0,I._)([(0,C.Cb)()],x.prototype,"_textShadowColor",null),(0,I._)([(0,C.Cb)()],x.prototype,"_textShadow",null),(0,I._)([(0,C.Cb)()],x.prototype,"_padding",null),(0,I._)([(0,C.Cb)()],x.prototype,"_borderRadius",null),x=(0,I._)([(0,S.j)("esri.views.overlay.TextOverlayItem")],x);const k={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},it=[];for(let l=0;l<360;l+=22.5)it.push([Math.cos(Math.PI*l/180),Math.sin(Math.PI*l/180)]);const nt=x;class ft extends H.l{constructor(l){super(l.view),this._handles=new X.Z,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text="-",this._fontSize=14,this._backgroundColor=new A.Z([0,0,0,.6]),this._textColor=new A.Z([255,255,255]),this._distance=25,this._anchor="right",this.updatePositionOnCameraMove=!0,this.applyProps(l)}get geometry(){return this._geometry}set geometry(l){this._geometry=l,this.updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(l){this._text=l,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(l){this._fontSize=l,this.attached&&(this._textItem.fontSize=this._fontSize)}get backgroundColor(){return this._backgroundColor}set backgroundColor(l){this._backgroundColor=l,this.attached&&(this._textItem.backgroundColor=this._backgroundColor)}get textColor(){return this._textColor}set textColor(l){this._textColor=l,this.attached&&(this._textItem.textColor=this._textColor)}get distance(){return this._distance}set distance(l){this._distance!==l&&(this._distance=l,this.updateLabelPosition())}get anchor(){return this._anchor}set anchor(l){this._anchor!==l&&(this._anchor=l,this.updateLabelPosition())}overlaps(l){return!!this.attached&&this.textItem.visible&&l.textItem.visible&&this.view.overlay.overlaps(this._textItem,l.textItem)}updateLabelPosition(){if(!this.attached)return;this._showText=!1,this._showCallout=!1;const{geometry:l,view:y,visible:P}=this;if((0,Y.pC)(l)&&y._stage)switch(l.type){case"point":if(!this._computeLabelPositionFromPoint(l.point,et))break;if(l.callout){const E=y.state.camera,R=l.callout.distance;(0,z.j)(W,W,[0,l.callout.offset]),E.renderToScreen(W,et),(0,z.s)(U,0,1),(0,z.b)(U,U,R*E.pixelRatio),(0,z.j)(U,U,W),E.renderToScreen(U,st),this._showCallout=this._updatePosition(et,st)}else this._textItem.position=[et[0],et[1]],this._textItem.anchor="center";this._showText=!0;break;case"corner":if(!this._computeLabelPositionFromCorner(l,this._distance,et,st))break;this._showCallout=this._updatePosition(et,st),this._showText=!0;break;case"segment":{if(!this._computeLabelPositionFromSegment(l,this._distance,this._anchor,et,st))break;this._showText=!0;const E=this._updatePosition(et,st);this._showCallout=!1!==l.callout&&E,this._showCallout||(this._textItem.anchor="center")}}this.updateVisibility(P)}_computeLabelPositionFromPoint(l,y){const P=this.view.state.camera;return P.projectToRenderScreen(l,W),!(W[2]<0||W[2]>1||(P.renderToScreen(W,y),0))}_computeLabelPositionFromCorner(l,y,P,E){if(!l)return!1;const R=this.view.state.camera;return lt(l.left,1,R,ot),(0,z.n)(ot,ot),lt(l.right,0,R,dt),(0,z.j)(U,ot,dt),(0,z.n)(U,U),(0,z.f)(U,U),R.projectToRenderScreen(l.left.endRenderSpace,W),!(W[2]<0||W[2]>1||(R.renderToScreen(W,P),(0,z.b)(U,U,y*R.pixelRatio),(0,z.j)(U,U,W),R.renderToScreen(U,E),0))}_computeLabelPositionFromSegment(l,y,P,E,R){if(!l)return!1;const V=l.segment,N=this.view.state.camera;(0,G.CM)(V.startRenderSpace,V.endRenderSpace,N,ot),(0,z.s)(U,-ot[1],ot[0]);let Q=!1;switch(P){case"top":Q=U[1]<0;break;case"bottom":Q=U[1]>0;break;case"left":Q=U[0]>0;break;case"right":Q=U[0]<0}if(Q&&(0,z.n)(U,U),0===(0,z.i)(U))switch(P){case"top":U[1]=1;break;case"bottom":U[1]=-1;break;case"left":U[0]=-1;break;case"right":U[0]=1}return V.eval(Ct[l.sampleLocation],ut),N.projectToRenderScreen(ut,W),!(W[2]<0||W[2]>1||(N.renderToScreen(W,E),(0,z.b)(U,U,y*N.pixelRatio),(0,z.j)(U,U,W),N.renderToScreen(U,R),0))}_updatePosition(l,y){if(y){const P=y[0]-l[0],E=y[1]-l[1];return this._textItem.position=[y[0],y[1]],this._textItem.anchor=Math.abs(P)>Math.abs(E)?P>0?"left":"right":E>0?"top":"bottom",this._calloutItem.startPosition=[l[0],l[1]],this._calloutItem.endPosition=[y[0],y[1]],!0}return this._textItem.position=[l[0],l[1]],this._textItem.anchor="center",!1}createResources(){this._textItem=new nt({visible:!0,text:this._text,fontSize:this._fontSize,backgroundColor:this._backgroundColor,textColor:this._textColor}),this._calloutItem=new m({visible:!0,width:2}),this.updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this.updatePositionOnCameraMove&&this._handles.add((0,F.YP)(()=>this.view.state.camera,()=>this.updateLabelPosition()))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(l){this._textItem.visible=this._showText&&l,this._calloutItem.visible=this._showCallout&&l}}function lt(d,l,y,P){d.eval(l,at,ct),(0,J.a)(ht,at,ct),y.projectToRenderScreen(at,pt),y.projectToRenderScreen(ht,_t),(0,z.a)(P,bt,yt),(0,z.f)(P,P)}function mt(d){switch(d){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}const at=(0,Z.c)(),ht=(0,Z.c)(),ct=(0,Z.c)(),ot=(0,K.gX)(),dt=(0,K.gX)(),U=(0,K.gX)(),ut=(0,Z.c)(),W=(0,K.J$)(),et=(0,K.s1)(),st=(0,K.s1)(),pt=(0,K.J$)(),yt=pt,_t=(0,K.J$)(),bt=_t,Ct={start:0,center:.5,end:1}},64770:(rt,q,w)=>{w.d(q,{u:()=>Z,y:()=>J});var A=w(84161),X=w(28093),Y=w(55915),F=w(12080),K=w(26242),z=w(98943);class J{constructor(C=(0,X.c)(),j=(0,X.c)()){this.startRenderSpace=C,this.endRenderSpace=j,this.type="euclidean"}eval(C,j,L){return(0,A.h)(j,this.startRenderSpace,this.endRenderSpace,C),L&&((0,A.b)(L,this.endRenderSpace,this.startRenderSpace),(0,A.n)(L,L)),j}createRenderGeometry(C,j){const L=[],S=[],T=(B,O)=>{const M=G;(0,A.b)(M,B,C),L.push([M[0],M[1],M[2]]),S.push([O[0],O[1],O[2]])},$=j.worldUpAtPosition(this.eval(.5,H),K.WM.get());return T(this.startRenderSpace,$),T(this.endRenderSpace,$),{points:L,normals:S}}static fromPositionAndVector(C,j,L=1){return(0,A.g)(H,j,L),(0,A.a)(H,C,H),new J((0,X.a)(C),(0,X.a)(H))}}class Z{constructor(C,j,L){this.startRenderSpace=C,this.endRenderSpace=j,this.renderSpatialReference=L,this.type="geodesic",this._start=(0,X.c)(),this._end=(0,X.c)(),this._pcpf=(0,F.rS)(L),this._project=(0,Y.Up)(L,this._pcpf),this._projectIn(C,this._start),this._projectIn(j,this._end)}_projectIn(C,j){this._project?(0,Y.SH)(C,this.renderSpatialReference,j,this._pcpf):(0,A.c)(j,C)}eval(C,j,L){if(this._project)if(L){const S=G;(0,z.ek)(this._start,this._end,C,j,S),(0,A.a)(I,j,S),(0,Y.SH)(j,this._pcpf,j,this.renderSpatialReference),(0,Y.SH)(I,this._pcpf,I,this.renderSpatialReference),(0,A.b)(L,I,j),(0,A.n)(L,L)}else(0,z.ZA)(this._start,this._end,C,j),(0,Y.SH)(j,this._pcpf,j,this.renderSpatialReference);else(0,A.h)(j,this._start,this._end,C),L&&((0,A.b)(L,this._end,this._start),(0,A.n)(L,L));return j}createRenderGeometry(C,j){const L=[],S=[],T=(B,O)=>{const M=I;(0,A.b)(M,B,C),L.push([M[0],M[1],M[2]]),S.push([O[0],O[1],O[2]])};for(let B=0;B<128;++B){const M=H,D=G;this.eval(B/127,M),j.worldUpAtPosition(M,D),T(M,D)}return{points:L,normals:S}}}const H=(0,X.c)(),G=(0,X.c)(),I=(0,X.c)()},25858:(rt,q,w)=>{w.d(q,{$r:()=>Z,By:()=>tt,CM:()=>J,Rs:()=>I,a7:()=>G});var A=w(23841),X=w(67831),Y=w(84161),F=w(28093),K=w(72642),z=w(60507);function J($,B,O,M){O.projectToRenderScreen($,L),O.projectToRenderScreen(B,S),(0,X.a)(M,S,L),(0,X.f)(M,M)}function Z($,B,O,M,D=(0,F.c)()){const _=B.toXYZ($);return _[2]=(0,z.zx)(M,_,B.spatialReference,O)||0,M.renderCoordsHelper.toRenderCoords(_,B.spatialReference,D),D}function G($,B,O,M){return I(B.toXYZ($),B.spatialReference,O,M)}function I($,B,O,M){return"2d"===M.type?(C.x=$[0],C.y=$[1],C.spatialReference=B,M.toScreen(C)):(function H($,B,O,M,D=(0,F.c)()){const _=(0,Y.c)(j,$);_[2]=(0,z.zx)(M,_,B,O)||0,M.renderCoordsHelper.toRenderCoords(_,B,D)}($,B,O,M,j),M.state.camera.projectToScreen(j,T),(0,A.vW)(T[0],T[1]))}function tt($,B,O,M,D,_,m){if("absolute-height"===M.mode)return Z($,O,M,D,_),void Z(B,O,M,D,m);const g=O.toXYZ($),x=O.toXYZ(B),k=(0,z.zx)(D,g,O.spatialReference,M),it=(0,z.zx)(D,x,O.spatialReference,M),nt=(null==k?it:null==it?k:Math.min(k,it))||0;g[2]=nt,x[2]=nt,D.renderCoordsHelper.toRenderCoords(g,O.spatialReference,_),D.renderCoordsHelper.toRenderCoords(x,O.spatialReference,m)}const C=new K.Z,j=(0,F.c)(),L=(0,A.J$)(),S=(0,A.J$)(),T=(0,A.s1)()}}]);