"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[591],{7591:(Z,m,n)=>{n.r(m),n.d(m,{ShellStateDashboardComponent:()=>M});var C=n(6814),f=n(5861),e=n(5879),v=n(9276);let p=(()=>{var o;class i extends v.x{constructor(){super(),this.set({cards:[]})}addCard(t){this.set({cards:[...this.get("cards"),t]})}}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),i})();const S=["cardPlaceholder"];let g=(()=>{var o;class i{set containerRef(t){this._containerRef=t}get containerRef(){return this._containerRef}constructor(t){var a=this;this.cardContainerService=t,t.select("cards").subscribe(r=>{r.filter(c=>!c.componentInstance).forEach(function(){var c=(0,f.Z)(function*(s){const d=yield s.componentModule();if(console.log("Retrieve Card - View Component Function",s,d),s.componentInstance=d[s.componentName],s.componentInstance){const h=a.containerRef.createComponent(s.componentInstance);h.setInput("data",s.data),h.changeDetectorRef.markForCheck(),h.changeDetectorRef.detectChanges()}});return function(s){return c.apply(this,arguments)}}())})}}return(o=i).\u0275fac=function(t){return new(t||o)(e.Y36(p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["porrtal-card-container"]],viewQuery:function(t,a){if(1&t&&e.Gf(S,7,e.s_b),2&t){let r;e.iGM(r=e.CRH())&&(a.containerRef=r.first)}},standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[[1,"container"],[1,"card-container"],["cardPlaceholder",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.GkF(2,null,2),e.qZA()())},dependencies:[C.ez],styles:["[_nghost-%COMP%]{display:grid;width:100%;height:100%}.container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:auto}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,auto));grid-auto-rows:300px;gap:10px;padding:10px}"],changeDetection:0}),i})();var u=n(7871),y=n(605);let M=(()=>{var o;class i{constructor(t,a,r,c){this.cardContainerService=t,this.authN=a,this.authZService=r,this.shellStateService=c,this.addMockCards()}addMockCards(){const t=[],a=Object.keys(this.authZService.authZProviders);t.push({type:"authN",componentName:"AuthNCardComponent",componentModule:()=>n.e(351).then(n.bind(n,3351)),data:this.authN}),console.log("auth z provider keys",a),a.map(r=>{t.push({type:"authZ",componentName:"AuthZCardComponent",componentModule:()=>n.e(960).then(n.bind(n,3960)),data:this.authZService.authZProviders[r]})}),t.push({type:"views",componentName:"ViewsCardComponent",componentModule:()=>n.e(620).then(n.bind(n,1620)),data:{}}),t.push({type:"panes",componentName:"PaneCardComponent",componentModule:()=>n.e(507).then(n.bind(n,4507)),data:{}}),this.cardContainerService.connect("cards",this.shellStateService.select("authZs"),(r,c)=>{const s=[...Object.keys(c).filter(d=>!(c[d].ready||c[d].checkPermission||a.some(h=>h===d)||t.some(h=>h.data===d))).map(d=>({type:"orphanAuthZ",componentName:"OrphanAuthZCardComponent",componentModule:()=>n.e(484).then(n.bind(n,3484)),data:d}))];return t.push(...s),t})}}return(o=i).\u0275fac=function(t){return new(t||o)(e.Y36(p),e.Y36(u._),e.Y36(u.Q),e.Y36(y.vv))},o.\u0275cmp=e.Xpm({type:o,selectors:[["porrtal-shell-state-dashboard"]],standalone:!0,features:[e._Bn([p]),e.jDz],decls:1,vars:0,template:function(t,a){1&t&&e._UZ(0,"porrtal-card-container")},dependencies:[C.ez,g],changeDetection:0}),i})()}}]);