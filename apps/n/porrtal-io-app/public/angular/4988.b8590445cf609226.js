"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[4988],{78778:(Ve,De,Z)=>{Z.d(De,{P:()=>M});class M{constructor(R){this.source=R}}},9288:(Ve,De,Z)=>{Z.d(De,{s:()=>M});class M{constructor(R,E){this._moduleSingletons=R,this._syntaxModules=E}loadLibrary(R){if(null==this._syntaxModules)return null;const E=this._syntaxModules[R.toLowerCase()];return E?{syntax:E.script,uri:E.uri}:null}}},37780:(Ve,De,Z)=>{Z.d(De,{Z:()=>z});var M=Z(6729);class z extends M.Z{constructor(E){super(),this.declaredClass="esri.arcade.Portal",this.immutable=!1,this.setField("url",E),this.immutable=!0}}},22386:(Ve,De,Z)=>{Z.d(De,{Z:()=>z});var M=Z(6729);class z extends M.Z{constructor(E,f,K,Q,b,F){super(),this.attachmentUrl=b,this.declaredClass="esri.arcade.Attachment",this.immutable=!1,this.setField("id",E),this.setField("name",f),this.setField("contenttype",K),this.setField("size",Q),this.setField("exifinfo",F),this.immutable=!0}}},6729:(Ve,De,Z)=>{Z.d(De,{Z:()=>Q});var M=Z(15861),z=Z(25919),R=Z(98362),E=Z(47562),f=Z(21674);function K(b,F=!1){if(null==b)return null;if((0,E.b)(b))return(0,E.g)(b);if((0,E.a)(b))return(0,E.h)(b);if((0,E.c)(b))return(0,E.j)(b);if((0,E.k)(b))return(0,E.l)(b);if((0,E.m)(b)){const $=[];for(const A of b)$.push(K(A,F));return $}const W=new Q;W.immutable=!1;for(const $ of Object.keys(b)){const A=b[$];void 0!==A&&W.setField($,K(A,F))}return W.immutable=F,W}class Q{constructor(F){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=F instanceof Q?F.attributes:F??{}}field(F){const W=F.toLowerCase(),$=this.attributes[F];if(void 0!==$)return $;for(const A in this.attributes)if(A.toLowerCase()===W)return this.attributes[A];throw new z.aV(null,z.rH.FieldNotFound,null,{key:F})}setField(F,W){if(this.immutable)throw new z.aV(null,z.rH.Immutable,null);if((0,E.i)(W))throw new z.aV(null,z.rH.NoFunctionInDictionary,null);const $=F.toLowerCase();if(void 0===this.attributes[F]){for(const A in this.attributes)if(A.toLowerCase()===$)return void(this.attributes[A]=W);this.attributes[F]=W}else this.attributes[F]=W}hasField(F){const W=F.toLowerCase();if(void 0!==this.attributes[F])return!0;for(const $ in this.attributes)if($.toLowerCase()===W)return!0;return!1}keys(){let F=[];for(const W in this.attributes)F.push(W);return F=F.sort(),F}castToText(F=!1){let W="";for(const $ in this.attributes){""!==W&&(W+=",");const A=this.attributes[$];null==A?W+=JSON.stringify($)+":null":(0,E.a)(A)||(0,E.b)(A)||(0,E.c)(A)?W+=JSON.stringify($)+":"+JSON.stringify(A):A instanceof f.Z?W+=JSON.stringify($)+":"+(0,E.t)(A):A instanceof R.Z||A instanceof Array?W+=JSON.stringify($)+":"+(0,E.t)(A,null,F):A instanceof Date?W+=F?JSON.stringify($)+":"+JSON.stringify(A.getTime()):JSON.stringify($)+":"+JSON.stringify(A):null!==A&&"object"==typeof A&&void 0!==A.castToText&&(W+=JSON.stringify($)+":"+A.castToText(F))}return"{"+W+"}"}static convertObjectToArcadeDictionary(F,W=!0){const $=new Q;$.immutable=!1;for(const A in F){const k=F[A];void 0!==k&&$.setField(A.toString(),K(k))}return $.immutable=W,$}static convertJsonToArcade(F,W=!1){return K(F,W)}castAsJson(F=null){const W={};for(let $ in this.attributes){const A=this.attributes[$];void 0!==A&&(F?.keyTranslate&&($=F.keyTranslate($)),W[$]=(0,E.d)(A,F))}return W}castDictionaryValueAsJsonAsync(F,W,$,A=null,k){return(0,M.Z)(function*(){const B=yield(0,E.e)($,A,k);return F[W]=B,B})()}castAsJsonAsync(F=null,W=null){var $=this;return(0,M.Z)(function*(){const A={},k=[];for(let B in $.attributes){const G=$.attributes[B];W?.keyTranslate&&(B=W.keyTranslate(B)),void 0!==G&&((0,E.f)(G)||G instanceof f.Z||G instanceof Date?A[B]=(0,E.d)(G,W):k.push($.castDictionaryValueAsJsonAsync(A,B,G,F,W)))}return k.length>0&&(yield Promise.all(k)),A})()}}},42275:(Ve,De,Z)=>{Z.d(De,{Z:()=>$});var M=Z(15861),z=Z(6729),R=Z(98362),E=Z(47562),f=Z(21674),K=Z(72642),Q=Z(91179),b=Z(82054),F=Z(62208),W=Z(25919);class ${constructor(){this.arcadeDeclaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._datesfixed=!0,this.immutable=!0,this._datefields=null,this.immutable=!0}static createFromGraphic(k){const B=new $;return B._geometry=(0,F.pC)(k.geometry)?k.geometry:null,B.attributes=k.attributes??{},k._sourceLayer?(B._layer=k._sourceLayer,B._datesfixed=!1):k._layer?(B._layer=k._layer,B._datesfixed=!1):k.layer&&"fields"in k.layer?(B._layer=k.layer,B._datesfixed=!1):k.sourceLayer&&"fields"in k.sourceLayer&&(B._layer=k.sourceLayer,B._datesfixed=!1),B}static createFromArcadeFeature(k){const B=new $;return B._datesfixed=k._datesfixed,B.attributes=k.attributes,B._geometry=k._geometry,B._optimizedGeomDefinition=k._optimizedGeomDefinition,k._layer&&(B._layer=k._layer),B}static createFromOptimisedFeature(k,B,G){const H=new $;return H._geometry=k.geometry?{geometry:k.geometry}:null,H._optimizedGeomDefinition=G,H.attributes=k.attributes||{},H._layer=B,H._datesfixed=!1,H}static createFromArcadeDictionary(k){const B=new $;return B.attributes=k.field("attributes"),null!==B.attributes&&B.attributes instanceof z.Z?(B.attributes=B.attributes.attributes,null===B.attributes&&(B.attributes={})):B.attributes={},B._geometry=k.field("geometry"),null!==B._geometry&&(B._geometry instanceof z.Z?B._geometry=$.parseGeometryFromDictionary(B._geometry):B._geometry instanceof f.Z||(B._geometry=null)),B}static createFromGraphicLikeObject(k,B,G=null){const H=new $;return null===B&&(B={}),H.attributes=B,H._geometry=(0,F.pC)(k)?k:null,H._layer=G,H._layer&&(H._datesfixed=!1),H}repurposeFromGraphicLikeObject(k,B,G=null){null===B&&(B={}),this.attributes=B,this._geometry=k||null,this._layer=G,this._datesfixed=!this._layer}castToText(k=!1){let B="";!1===this._datesfixed&&this._fixDates();for(const G in this.attributes){""!==B&&(B+=",");const H=this.attributes[G];null==H?B+=JSON.stringify(G)+":null":(0,E.a)(H)||(0,E.b)(H)||(0,E.c)(H)?B+=JSON.stringify(G)+":"+JSON.stringify(H):H instanceof f.Z?B+=JSON.stringify(G)+":"+(0,E.t)(H):H instanceof R.Z||H instanceof Array?B+=JSON.stringify(G)+":"+(0,E.t)(H,null,k):H instanceof Date?B+=k?JSON.stringify(G)+":"+JSON.stringify(H.getTime()):JSON.stringify(G)+":"+JSON.stringify(H):null!==H&&"object"==typeof H&&void 0!==H.castToText&&(B+=JSON.stringify(G)+":"+H.castToText(k))}return'{"geometry":'+(null===this.geometry()?"null":(0,E.t)(this.geometry()))+',"attributes":{'+B+"}}"}_fixDates(){if(null!==this._datefields)return this._datefields.length>0&&this._fixDateFields(this._datefields),void(this._datesfixed=!0);const k=[],B=this._layer.fields;for(let G=0;G<B.length;G++){const H=B[G],C=H.type;"date"!==C&&"esriFieldTypeDate"!==C||k.push(H.name)}this._datefields=k,k.length>0&&this._fixDateFields(k),this._datesfixed=!0}_fixDateFields(k){this.attributes={...this.attributes};for(let B=0;B<k.length;B++){let G=this.attributes[k[B]];if(null!==G)if(void 0===G){for(const H in this.attributes)if(H.toLowerCase()===k[B].toLowerCase()){G=this.attributes[H],null!==G&&(G instanceof Date||(this.attributes[H]=new Date(G)));break}}else G instanceof Date||(this.attributes[k[B]]=new Date(G))}}geometry(){return null===this._geometry||this._geometry instanceof f.Z||(this._optimizedGeomDefinition?(this._geometry=(0,F.Wg)((0,Q.im)((0,b.di)(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=(0,F.Wg)((0,Q.im)(this._geometry))),this._geometry}field(k){!1===this._datesfixed&&this._fixDates();const B=this.attributes[k];if(void 0!==B)return B;const G=k.toLowerCase();for(const H in this.attributes)if(H.toLowerCase()===G)return this.attributes[H];if(this._hasFieldDefinition(G))return null;throw new W.aV(null,W.rH.FieldNotFound,null,{key:k})}_hasFieldDefinition(k){if(null===this._layer)return!1;for(let B=0;B<this._layer.fields.length;B++)if(this._layer.fields[B].name.toLowerCase()===k)return!0;return!1}setField(k,B){if(this.immutable)throw new W.aV(null,W.rH.Immutable,null);if(!1===(0,E.f)(B))throw new W.aV(null,W.rH.TypeNotAllowedInFeature,null);const G=k.toLowerCase();if(void 0===this.attributes[k]){for(const H in this.attributes)if(H.toLowerCase()===G)return void(this.attributes[H]=B);this.attributes[k]=B}else this.attributes[k]=B}hasField(k){const B=k.toLowerCase();if(void 0!==this.attributes[k])return!0;for(const G in this.attributes)if(G.toLowerCase()===B)return!0;return!!this._hasFieldDefinition(B)}keys(){let k=[];const B={};for(const G in this.attributes)k.push(G),B[G.toLowerCase()]=1;if(null!==this._layer)for(let G=0;G<this._layer.fields.length;G++){const H=this._layer.fields[G];1!==B[H.name.toLowerCase()]&&k.push(H.name)}return k=k.sort(),k}static parseGeometryFromDictionary(k){const B=$._convertDictionaryToJson(k,!0);return void 0!==B.hasm&&(B.hasM=B.hasm,delete B.hasm),void 0!==B.hasz&&(B.hasZ=B.hasz,delete B.hasz),void 0!==B.spatialreference&&(B.spatialReference=B.spatialreference,delete B.spatialreference),void 0!==B.rings&&(B.rings=this._fixPathArrays(B.rings,!0===B.hasZ,!0===B.hasZ)),void 0!==B.paths&&(B.paths=this._fixPathArrays(B.paths,!0===B.hasZ,!0===B.hasM)),void 0!==B.points&&(B.points=this._fixPointArrays(B.points,!0===B.hasZ,!0===B.hasM)),(0,Q.im)(B)}static _fixPathArrays(k,B,G){const H=[];if(k instanceof Array)for(let C=0;C<k.length;C++)H.push(this._fixPointArrays(k[C],B,G));else if(k instanceof R.Z)for(let C=0;C<k.length();C++)H.push(this._fixPointArrays(k.get(C),B,G));return H}static _fixPointArrays(k,B,G){const H=[];if(k instanceof Array)for(let C=0;C<k.length;C++){const L=k[C];H.push(L instanceof K.Z?B&&G?[L.x,L.y,L.z,L.m]:B?[L.x,L.y,L.z]:G?[L.x,L.y,L.m]:[L.x,L.y]:L instanceof R.Z?L.toArray():L)}else if(k instanceof R.Z)for(let C=0;C<k.length();C++){const L=k.get(C);H.push(L instanceof K.Z?B&&G?[L.x,L.y,L.z,L.m]:B?[L.x,L.y,L.z]:G?[L.x,L.y,L.m]:[L.x,L.y]:L instanceof R.Z?L.toArray():L)}return H}static _convertDictionaryToJson(k,B=!1){const G={};for(const H in k.attributes){let C=k.attributes[H];C instanceof z.Z&&(C=$._convertDictionaryToJson(C)),B?G[H.toLowerCase()]=C:G[H]=C}return G}static parseAttributesFromDictionary(k){const B={};for(const G in k.attributes){const H=k.attributes[G];if(!(0,E.f)(H))throw new W.aV(null,W.rH.InvalidParameter,null);B[G]=H}return B}static fromJson(k){let B=null;null!=k.geometry&&(B=(0,Q.im)(k.geometry));const G={};if(null!=k.attributes)for(const H in k.attributes){const C=k.attributes[H];if(null===C)G[H]=C;else{if(!((0,E.c)(C)||(0,E.b)(C)||(0,E.a)(C)||(0,E.k)(C)))throw new W.aV(null,W.rH.InvalidParameter,null);G[H]=C}}return $.createFromGraphicLikeObject(B,G,null)}fullSchema(){return this._layer}gdbVersion(){if(null===this._layer)return"";const k=this._layer.gdbVersion;return void 0===k?"":""===k&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":k}castAsJson(k){const B={attributes:{},geometry:!0===k?.keepGeometryType?this.geometry():this.geometry().toJSON()};for(const G in this.attributes){const H=this.attributes[G];void 0!==H&&(B.attributes[G]=(0,E.d)(H,k))}return B}castAsJsonAsync(k=null,B){var G=this;return(0,M.Z)(function*(){return G.castAsJson(B)})()}}},7652:(Ve,De,Z)=>{Z.d(De,{Bx:()=>E,Rm:()=>z,Vg:()=>f,aq:()=>R});var M=Z(10699);class z{constructor(){}}function R(K,Q,b){if(K instanceof z&&!(K instanceof f)){const F=new f;return F.fn=K,F.parameterEvaluator=b,F.context=Q,F}return K}class E extends z{constructor(Q){super(),this.fn=Q}createFunction(Q){return(...b)=>this.fn(Q,{preparsed:!0,arguments:b})}call(Q,b){return this.fn(Q,b)}marshalledCall(Q,b,F,W){return W(Q,b,($,A,k)=>{k=k.map(G=>G instanceof z&&!(G instanceof f)?R(G,Q,W):G);const B=this.call(F,{args:k});return(0,M.y8)(B)?B.then(G=>R(G,F,W)):B})}}class f extends z{constructor(){super(...arguments),this.fn=null,this.context=null}createFunction(Q){return this.fn.createFunction(this.context)}call(Q,b){return this.fn.marshalledCall(Q,b,this.context,this.parameterEvaluator)}marshalledCall(Q,b,F){return this.fn.marshalledCall(Q,b,this.context,this.parameterEvaluator)}}},98362:(Ve,De,Z)=>{Z.d(De,{Z:()=>M});class M{constructor(R=[]){this._elements=R}length(){return this._elements.length}get(R){return this._elements[R]}toArray(){const R=[];for(let E=0;E<this.length();E++)R.push(this.get(E));return R}}},5371:(Ve,De,Z)=>{Z.d(De,{Z:()=>R});var M=Z(98362),z=Z(26685);class R extends M.Z{constructor(f,K,Q,b,F){super(f),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=Q,this._hasM=b,this._spRef=K,this._cacheId=F}get(f){if(void 0===this._lazyPath[f]){const K=this._elements[f];if(void 0===K)return;this._lazyPath[f]=new z.Z(K,this._spRef,this._hasZ,this._hasM,this._cacheId,f)}return this._lazyPath[f]}equalityTest(f){return f===this||null!==f&&f instanceof R&&f.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},26685:(Ve,De,Z)=>{Z.d(De,{Z:()=>R});var M=Z(98362),z=Z(72642);class R extends M.Z{constructor(f,K,Q,b,F,W){super(f),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=K,this._hasZ=Q,this._hasM=b,this._cacheId=F,this._partId=W}get(f){if(void 0===this._lazyPt[f]){const K=this._elements[f];if(void 0===K)return;const Q=this._hasZ,b=this._hasM;let F=null;F=Q&&!b?new z.Z(K[0],K[1],K[2],void 0,this._spRef):b&&!Q?new z.Z(K[0],K[1],void 0,K[2],this._spRef):Q&&b?new z.Z(K[0],K[1],K[2],K[3],this._spRef):new z.Z(K[0],K[1],this._spRef),F.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+f.toString(),this._lazyPt[f]=F}return this._lazyPt[f]}equalityTest(f){return f===this||null!==f&&f instanceof R&&f.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},25919:(Ve,De,Z)=>{var M,G;Z.d(De,{Hy:()=>F,OF:()=>Q,TD:()=>$,Tu:()=>k,VO:()=>W,aV:()=>f,kq:()=>b,rH:()=>M}),(G=M||(M={})).AsyncNotEnabled="AsyncNotEnabled",G.ModulesNotSupported="ModulesNotSupported",G.CircularModules="CircularModules",G.NeverReach="NeverReach",G.UnsupportedHashType="UnsupportedHashType",G.InvalidParameter="InvalidParameter",G.UnexpectedToken="UnexpectedToken",G.Unrecognised="Unrecognised",G.UnrecognisedType="UnrecognisedType",G.MaximumCallDepth="MaximumCallDepth",G.BooleanConditionRequired="BooleanConditionRequired",G.TypeNotAllowedInFeature="TypeNotAllowedInFeature",G.KeyMustBeString="KeyMustBeString",G.WrongNumberOfParameters="WrongNumberOfParameters",G.CallNonFunction="CallNonFunction",G.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",G.NoFunctionInDictionary="NoFunctionInDictionary",G.NoFunctionInArray="NoFunctionInArray",G.AssignModuleFunction="AssignModuleFunction",G.LogicExpressionOrAnd="LogicExpressionOrAnd",G.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",G.FuncionNotFound="FunctionNotFound",G.InvalidMemberAccessKey="InvalidMemberAccessKey",G.UnsupportedUnaryOperator="UnsupportUnaryOperator",G.InvalidIdentifier="InvalidIdentifier",G.MemberOfNull="MemberOfNull",G.UnsupportedOperator="UnsupportedOperator",G.Cancelled="Cancelled",G.ModuleAccessorMustBeString="ModuleAccessorMustBeString",G.ModuleExportNotFound="ModuleExportNotFound",G.Immutable="Immutable",G.OutOfBounds="OutOfBounds",G.IllegalResult="IllegalResult",G.FieldNotFound="FieldNotFound",G.PortalRequired="PortalRequired",G.LogicError="LogicError",G.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",G.KeyAccessorMustBeString="KeyAccessorMustBeString",G.WrongSpatialReference="WrongSpatialReference";const z={[M.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[M.LogicError]:"Logic error - {reason}",[M.NeverReach]:"Encountered unreachable logic",[M.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[M.ModuleAccessorMustBeString]:"Module accessor must be a string",[M.ModuleExportNotFound]:"Module has no export with provided identifier",[M.ModulesNotSupported]:"Current profile does not support modules",[M.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[M.FuncionNotFound]:"Function not found",[M.FieldNotFound]:"Key not found - {key}",[M.CircularModules]:"Circular module dependencies are not allowed",[M.Cancelled]:"Execution cancelled",[M.UnsupportedHashType]:"Type not supported in hash function",[M.IllegalResult]:"Value is not a supported return type",[M.PortalRequired]:"Portal is required",[M.InvalidParameter]:"Invalid parameter",[M.WrongNumberOfParameters]:"Call with wrong number of parameters",[M.Unrecognised]:"Unrecognised code structure",[M.UnrecognisedType]:"Unrecognised type",[M.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[M.BooleanConditionRequired]:"Conditions must use booleans",[M.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[M.NoFunctionInArray]:"Arrays cannot contain functions.",[M.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[M.KeyAccessorMustBeString]:"Accessor must be a string",[M.KeyMustBeString]:"Object keys must be a string",[M.Immutable]:"Object is immutable",[M.InvalidParameter]:"Invalid parameter",[M.UnexpectedToken]:"Unexpected token",[M.MemberOfNull]:"Cannot access property of null object",[M.MaximumCallDepth]:"Exceeded maximum function depth",[M.OutOfBounds]:"Out of bounds",[M.InvalidIdentifier]:"Identifier not recognised",[M.FuncionNotFound]:"Function not found",[M.CallNonFunction]:"Expression is not a function",[M.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[M.AssignModuleFunction]:"Cannot assign function to module variable",[M.UnsupportedUnaryOperator]:"Unsupported unary operator",[M.UnsupportedOperator]:"Unsupported operator",[M.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[M.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&"};class R extends Error{constructor(...H){super(...H)}}class E extends R{constructor(H,C){super(K(C)+H.message,{cause:H}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,E),C&&C.loc&&(this.loc=C.loc)}}class f extends Error{constructor(H,C,L,S){super("Execution error - "+K(L)+F(z[C],S)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,f),L&&L.loc&&(this.loc=L.loc)}}function K(G){return G&&G.loc?`Line : ${G.loc.start?.line}, ${G.loc.start?.column}: `:""}class Q extends Error{constructor(H,C,L,S){super("Compilation error - "+K(L)+F(z[C],S)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,Q),L&&L.loc&&(this.loc=L.loc)}}class b extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,b)}}function F(G,H){try{if(!H)return G;for(const C in H){let L=H[C];L||(L=""),G=G.replace("{"+C+"}",H[C])}}catch{}return G}function W(G,H,C){return"esri.arcade.arcadeexecutionerror"===C.declaredRootClass||"esri.arcade.arcadecompilationerror"===C.declaredRootClass?null===C.loc&&H&&H.loc?new E(C,{cause:C}):C:H&&H.loc?new E(C,{cause:C}):C}var $;!function(G){G.UnrecognisedUri="UnrecognisedUri",G.UnsupportedUriProtocol="UnsupportedUriProtocol"}($||($={}));const A={[$.UnrecognisedUri]:"Unrecognised uri - {uri}",[$.UnsupportedUriProtocol]:"Unrecognised uri protocol"};class k extends Error{constructor(H,C){super(F(A[H],C)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,k)}}},77132:(Ve,De,Z)=>{Z.d(De,{Bj:()=>R,EI:()=>B,HD:()=>Q,JW:()=>f,Lz:()=>H,Qk:()=>g,SV:()=>G,Sh:()=>K,US:()=>V,dj:()=>E,hd:()=>l,hj:()=>F,q2:()=>y,tI:()=>L,tt:()=>A,yE:()=>w});var R,E,x,M=Z(2004),z=Z(36255);function f(x){return z.Z.fromJSON(x.toJSON())}function K(x){return x.toJSON?x.toJSON():x}function Q(x){return"string"==typeof x||x instanceof String}function F(x){return"number"==typeof x}function $(x){return x instanceof Date}function A(x,j){return x===j||!(!$(x)||!$(j))&&x.getTime()===j.getTime()}function B(x){if(null==x)return null;if("number"==typeof x)return x;switch(x.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109439;case"kilometers":case"kilometer":case"km":return 109414}return null}function G(x){if(null==x)return null;switch(x.type){case"polygon":case"multipoint":case"polyline":return x.extent;case"point":return new M.Z({xmin:x.x,ymin:x.y,xmax:x.x,ymax:x.y,spatialReference:x.spatialReference});case"extent":return x}return null}function H(x){if(null==x)return null;if("number"==typeof x||"number"==typeof x)return x;switch(x.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9093;case"kilometers":case"kilometer":case"km":return 9036}return null}(x=R||(R={}))[x.Standardised=0]="Standardised",x[x.StandardisedNoInterval=1]="StandardisedNoInterval",x[x.SqlServer=2]="SqlServer",x[x.Oracle=3]="Oracle",x[x.Postgres=4]="Postgres",x[x.PGDB=5]="PGDB",x[x.FILEGDB=6]="FILEGDB",x[x.NotEvaluated=7]="NotEvaluated",function(x){x[x.InFeatureSet=0]="InFeatureSet",x[x.NotInFeatureSet=1]="NotInFeatureSet",x[x.Unknown=2]="Unknown"}(E||(E={}));const L=1e3,g={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},y={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},w={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function V(x){return void 0===x?"":x=(x=(x=x.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function l(x,j){j||(j={}),"function"==typeof j&&(j={cmp:j});const X="boolean"==typeof j.cycles&&j.cycles,oe=j.cmp&&(me=j.cmp,function(Fe){return function(se,de){return me({key:se,value:Fe[se]},{key:de,value:Fe[de]})}});var me;const fe=[];return function Fe(se){if(se&&se.toJSON&&"function"==typeof se.toJSON&&(se=se.toJSON()),void 0===se)return;if("number"==typeof se)return isFinite(se)?""+se:"null";if("object"!=typeof se)return JSON.stringify(se);let de,ie;if(Array.isArray(se)){for(ie="[",de=0;de<se.length;de++)de&&(ie+=","),ie+=Fe(se[de])||"null";return ie+"]"}if(null===se)return"null";if(fe.includes(se)){if(X)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const ge=fe.push(se)-1,ct=Object.keys(se).sort(oe&&oe(se));for(ie="",de=0;de<ct.length;de++){const Be=ct[de],dt=Fe(se[Be]);dt&&(ie&&(ie+=","),ie+=JSON.stringify(Be)+":"+dt)}return fe.splice(ge,1),"{"+ie+"}"}(x)}},85692:(Ve,De,Z)=>{Z.d(De,{AW:()=>R,Ay:()=>k,B9:()=>S,Es:()=>y,RI:()=>L,_R:()=>K,nB:()=>U,s9:()=>A,ws:()=>g});var M=Z(72642),z=Z(11519);function R(V,l,x){return Math.sqrt((V[0]-l[0])**2+(V[1]-l[1])**2+(void 0!==V[2]&&void 0!==l[2]?(V[2]*x-l[2]*x)**2:0))}const E=[];for(const V of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const l=V[0];for(let x=1;x<V.length;x++)E[V[x]]=l}const f=[];function K(V){return V.vcsWkid&&void 0!==E[V.vcsWkid]?f[E[V.vcsWkid]]:V.latestVcsWkid&&void 0!==E[V.latestVcsWkid]?f[E[V.latestVcsWkid]]:1}function Q(V,l,x){const j={x:0,y:0};l&&(j.z=0),x&&(j.m=0);let X=0,oe=V[0];for(let me=0;me<V.length;me++){const fe=V[me];if(!1===$(fe,oe)){const Fe=W(oe,fe,l),se=b(oe,fe,l,x);se.x*=Fe,se.y*=Fe,j.x+=se.x,j.y+=se.y,l&&(se.z*=Fe,j.z+=se.z),x&&(se.m*=Fe,j.m+=se.m),X+=Fe,oe=fe}}return X>0?(j.x/=X,j.y/=X,l&&(j.z/=X),x&&(j.m/=X)):(j.x=V[0][0],j.y=V[0][1],l&&(j.z=V[0][2]),x&&l?j.m=V[0][3]:x&&(j.m=V[0][2])),j}function b(V,l,x,j){const X={x:(V[0]+l[0])/2,y:(V[1]+l[1])/2};return x&&(X.z=(V[2]+l[2])/2),x&&j?X.m=(V[3]+l[3])/2:j&&(X.m=(V[2]+l[2])/2),X}function F(V,l){if(V.length<=1)return 0;let x=0;for(let j=1;j<V.length;j++)x+=W(V[j-1],V[j],l);return x}function W(V,l,x){const j=l[0]-V[0],X=l[1]-V[1];if(x){const oe=l[2]-l[2];return Math.sqrt(j*j+X*X+oe*oe)}return Math.sqrt(j*j+X*X)}function $(V,l){if(V.length!==l.length)return!1;for(let x=0;x<V.length;x++)if(V[x]!==l[x])return!1;return!0}function A(V){const l={x:0,y:0,spatialReference:V.spatialReference.toJSON()},x={x:0,y:0,spatialReference:V.spatialReference.toJSON()};let j=0,X=0;for(let oe=0;oe<V.paths.length;oe++){if(0===V.paths[oe].length)continue;const me=F(V.paths[oe],!0===V.hasZ);if(0===me){const fe=Q(V.paths[oe],!0===V.hasZ,!0===V.hasM);l.x+=fe.x,l.y+=fe.y,!0===V.hasZ&&(l.z+=fe.z),!0===V.hasM&&(l.m+=fe.m),++j}else{const fe=Q(V.paths[oe],!0===V.hasZ,!0===V.hasM);x.x+=fe.x*me,x.y+=fe.y*me,!0===V.hasZ&&(x.z+=fe.z*me),!0===V.hasM&&(x.m+=fe.m*me),X+=me}}return X>0?(x.x/=X,x.y/=X,!0===V.hasZ&&(x.z/=X),!0===V.hasM&&(x.m/=X),new M.Z(x)):j>0?(l.x/=j,l.y/=j,!0===V.hasZ&&(x.z/=j),!0===V.hasM&&(l.m/=j),new M.Z(l)):null}function k(V){if(0===V.points.length)return null;let l=0,x=0,j=0,X=0;for(let me=0;me<V.points.length;me++){const fe=V.getPoint(me);!0===fe.hasZ&&(j+=fe.z),!0===fe.hasM&&(X+=fe.m),l+=fe.x,x+=fe.y,X+=fe.m}const oe={x:l/V.points.length,y:x/V.points.length,spatialReference:null};return oe.spatialReference=V.spatialReference.toJSON(),!0===V.hasZ&&(oe.z=j/V.points.length),!0===V.hasM&&(oe.m=X/V.points.length),new M.Z(oe)}function H(V,l,x=0){for(;V<x;)V+=l;const j=x+l;for(;V>=j;)V-=l;return V}function C(V,l){return Math.atan2(l.y-V.y,l.x-V.x)}function L(V,l){return H(C(V,l),2*Math.PI)*(180/Math.PI)}function S(V,l){return H(Math.PI/2-C(V,l),2*Math.PI)*(180/Math.PI)}function c(V,l,x){const j={x:V.x-l.x,y:V.y-l.y},X={x:x.x-l.x,y:x.y-l.y};return Math.atan2(function G(V,l){return V.x*l.y-l.x*V.y}(j,X),function B(V,l){return V.x*l.x+V.y*l.y}(j,X))}function g(V,l,x){return H(c(V,l,x),2*Math.PI)*(180/Math.PI)}function y(V,l,x){return H(-1*c(V,l,x),2*Math.PI)*(180/Math.PI)}f[9002]=.3048,f[9003]=.3048006096012192,f[9095]=.3048007491;const w=[0,0];function U(V){for(let l=0;l<V.length;l++){const x=V[l];for(let X=0;X<x.length-1;X++){const oe=x[X],me=x[X+1];for(let fe=l+1;fe<V.length;fe++)for(let Fe=0;Fe<V[fe].length-1;Fe++){const se=V[fe][Fe],de=V[fe][Fe+1];if((0,z.UT)(oe,me,se,de,w)&&!(w[0]===oe[0]&&w[1]===oe[1]||w[0]===se[0]&&w[1]===se[1]||w[0]===me[0]&&w[1]===me[1]||w[0]===de[0]&&w[1]===de[1]))return!0}}const j=x.length;if(!(j<3))for(let X=0;X<=j-2;X++){const oe=x[X],me=x[X+1];for(let fe=X+2;fe<=j-2;fe++){const Fe=x[fe],se=x[fe+1];if((0,z.UT)(oe,me,Fe,se,w)&&!(w[0]===oe[0]&&w[1]===oe[1]||w[0]===Fe[0]&&w[1]===Fe[1]||w[0]===me[0]&&w[1]===me[1]||w[0]===se[0]&&w[1]===se[1]))return!0}}}return!1}},84228:(Ve,De,Z)=>{Z.d(De,{r:()=>k});var M=Z(47562),z=Z(25919),R=Z(56683),E=Z(21837);function f(B){const G=new Date(B.getTime()),H=G.getFullYear(),C=new Date(0);C.setFullYear(H+1,0,4),C.setHours(0,0,0,0);const L=K(C),S=new Date(0);S.setFullYear(H,0,4),S.setHours(0,0,0,0);const c=K(S);return G.getTime()>=L.getTime()?H+1:G.getTime()>=c.getTime()?H:H-1}function K(B){const H=new Date(B.getTime()),C=H.getDay(),L=(C<1?7:0)+C-1;return H.setDate(H.getDate()-L),H.setHours(0,0,0,0),H}const W=[0,31,59,90,120,151,181,212,243,273,304,334],$=[0,31,60,91,121,152,182,213,244,274,305,335];function A(B){return null===B?B:isNaN(B.getTime())?null:B}function k(B,G){B.today=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,0,0,H,C);const g=new Date;return g.setHours(0,0,0,0),g})},B.now=function(H,C){return G(H,C,(L,S,c)=>((0,M.y)(c,0,0,H,C),new Date))},B.timestamp=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,0,0,H,C);let g=new Date;return g=new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),g})},B.toutc=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?null:new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds())})},B.tolocal=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?null:E.ou.utc(g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()).toJSDate()})},B.day=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getDate()})},B.month=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getMonth()})},B.year=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getFullYear()})},B.hour=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getHours()})},B.second=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getSeconds()})},B.millisecond=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getMilliseconds()})},B.minute=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getMinutes()})},B.week=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,2,H,C);const g=(0,M.l)(c[0]);if(null===g)return NaN;const y=(0,M.g)((0,M.A)(c[1],0));if(y<0||y>6)throw new z.aV(H,z.rH.InvalidParameter,C);const w=g.getDate(),U=g.getMonth(),V=g.getFullYear(),l=g.getDay(),x=function b(B,G,H){return B+(function F(B){return B%4==0&&(B%100!=0||B%400==0)}(H)?$:W)[G]}(w,U,V)-1,j=Math.floor(x/7);return l-y+(l-y<0?7:0)<x-7*j?j+1:j})},B.weekday=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getDay()})},B.isoweekday=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);if(null===g)return NaN;let y=g.getDay();return 0===y&&(y=7),y})},B.isomonth=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:g.getMonth()+1})},B.isoweek=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);if(null===g)return NaN;const y=K(g).getTime()-function Q(B){const G=f(B),H=new Date(0);return H.setFullYear(G,0,4),H.setHours(0,0,0,0),K(H)}(g).getTime();return Math.round(y/6048e5)+1})},B.isoyear=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,1,1,H,C);const g=(0,M.l)(c[0]);return null===g?NaN:f(g)})},B.date=function(H,C){return G(H,C,(L,S,c)=>{if((0,M.y)(c,0,7,H,C),3===c.length)return A(new Date((0,M.g)(c[0]),(0,M.g)(c[1]),(0,M.g)(c[2]),0,0,0,0));if(4===c.length)return A(new Date((0,M.g)(c[0]),(0,M.g)(c[1]),(0,M.g)(c[2]),(0,M.g)(c[3]),0,0,0));if(5===c.length)return A(new Date((0,M.g)(c[0]),(0,M.g)(c[1]),(0,M.g)(c[2]),(0,M.g)(c[3]),(0,M.g)(c[4]),0,0));if(6===c.length)return A(new Date((0,M.g)(c[0]),(0,M.g)(c[1]),(0,M.g)(c[2]),(0,M.g)(c[3]),(0,M.g)(c[4]),(0,M.g)(c[5]),0));if(7===c.length)return A(new Date((0,M.g)(c[0]),(0,M.g)(c[1]),(0,M.g)(c[2]),(0,M.g)(c[3]),(0,M.g)(c[4]),(0,M.g)(c[5]),(0,M.g)(c[6])));if(2===c.length){let g,y=(0,M.j)(c[1]);return""===y?null:(y=(0,M.C)(y),g="X"===y?E.ou.fromSeconds((0,M.g)(c[0])):"x"===y?E.ou.fromMillis((0,M.g)(c[0])):E.ou.fromFormat((0,M.j)(c[0]),y,{locale:(0,R.Kd)(),numberingSystem:"latn"}),g.isValid?g.toJSDate():null)}if(1===c.length){if((0,M.c)(c[0])){if(""===c[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(c[0]))return(0,M.l)(c[0]+"-01-01")}const g=(0,M.g)(c[0]);return!1===isNaN(g)?A(new Date(g)):(0,M.l)(c[0])}return 0===c.length?new Date:void 0})},B.datediff=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,2,3,H,C);const g=(0,M.D)(c[0]),y=(0,M.D)(c[1]);if(null===g||null===y)return NaN;switch((0,M.j)(c[2]).toLowerCase()){case"days":case"day":case"d":return g.diff(y,"days").days;case"months":case"month":return g.diff(y,"months").months;case"minutes":case"minute":case"m":return"M"===c[2]?g.diff(y,"months").months:g.diff(y,"minutes").minutes;case"seconds":case"second":case"s":return g.diff(y,"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return g.diff(y).milliseconds;case"hours":case"hour":case"h":return g.diff(y,"hours").hours;case"years":case"year":case"y":return g.diff(y,"years").years}})},B.dateadd=function(H,C){return G(H,C,(L,S,c)=>{(0,M.y)(c,2,3,H,C);const g=(0,M.D)(c[0]);if(null===g)return null;let y=(0,M.g)(c[1]);if(isNaN(y))return g.toJSDate();let w="milliseconds";switch((0,M.j)(c[2]).toLowerCase()){case"days":case"day":case"d":w="days",y=(0,M.E)(y);break;case"months":case"month":w="months",y=(0,M.E)(y);break;case"minutes":case"minute":case"m":w="M"===c[2]?"months":"minutes";break;case"seconds":case"second":case"s":w="seconds";break;case"milliseconds":case"millisecond":case"ms":w="milliseconds";break;case"hours":case"hour":case"h":w="hours";break;case"years":case"year":case"y":w="years"}return g.plus({[w]:y}).toJSDate()})}}},50818:(Ve,De,Z)=>{Z.d(De,{t:()=>Q});var M=Z(47562);function z(b){let F=0;for(let W=0;W<b.length;W++)F+=b[W];return F/b.length}function R(b){const F=z(b);let W=0;for(let $=0;$<b.length;$++)W+=(F-b[$])**2;return W/b.length}function Q(b,F,W=1e3){switch(b.toLowerCase()){case"distinct":return function f(b,F){const W=[],$={},A=[];for(let k=0;k<b.length;k++){if(null!=b[k]&&b[k]!==M.v){const B=b[k];if((0,M.b)(B)||(0,M.c)(B))void 0===$[B]&&(W.push(B),$[B]=1);else{let G=!1;for(let H=0;H<A.length;H++)!0===(0,M.s)(A[H],B)&&(G=!0);!1===G&&(A.push(B),W.push(B))}}if(W.length>=F&&-1!==F)return W}return W}(F,W);case"avg":case"mean":return z((0,M.V)(F));case"min":return Math.min.apply(Math,(0,M.V)(F));case"sum":return function E(b){let F=0;for(let W=0;W<b.length;W++)F+=b[W];return F}((0,M.V)(F));case"max":return Math.max.apply(Math,(0,M.V)(F));case"stdev":case"stddev":return Math.sqrt(R((0,M.V)(F)));case"var":case"variance":return R((0,M.V)(F));case"count":return F.length}return 0}},24499:(Ve,De,Z)=>{Z.d(De,{Z:()=>S,r:()=>C});var M=Z(6729),z=Z(42275),R=Z(26685),E=Z(47562),f=Z(2004),K=Z(21674),Q=Z(72854),b=Z(72642),F=Z(37118),W=Z(55214),$=Z(85692),A=Z(91179),k=Z(25919),B=Z(5371),G=Z(25748);function H(c){return c&&"esri.arcade.Feature"===c.arcadeDeclaredClass}function C(c,g){c.ringisclockwise=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,1,1,y,w);let x=[],j=!1,X=!1;if(null===l[0])return!1;if((0,E.m)(l[0])){for(const oe of l[0]){if(!(oe instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);x.push(oe.hasZ?oe.hasM?[oe.x,oe.y,oe.z,oe.m]:[oe.x,oe.y,oe.z]:[oe.x,oe.y])}x.length>0&&(j=l[0][0].hasZ,X=l[0][0].hasM)}else if(l[0]instanceof R.Z)x=l[0]._elements,x.length>0&&(j=l[0]._hasZ,X=l[0]._hasM);else{if(!(0,E.x)(l[0]))throw new k.aV(y,k.rH.InvalidParameter,w);for(const oe of l[0].toArray()){if(!(oe instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);x.push(oe.hasZ?oe.hasM?[oe.x,oe.y,oe.z,oe.m]:[oe.x,oe.y,oe.z]:[oe.x,oe.y])}x.length>0&&(j=l[0].get(0).hasZ,X=l[0].get(0).hasM)}return!(x.length<3)&&(0,G.bu)(x,X,j)})},c.polygon=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,1,1,y,w);let x=null;if(l[0]instanceof M.Z){if(x=(0,E.q)(z.Z.parseGeometryFromDictionary(l[0]),y.spatialReference),!(x instanceof F.Z))throw new k.aV(y,k.rH.InvalidParameter,w)}else x=l[0]instanceof F.Z?(0,A.im)(l[0].toJSON()):(0,E.q)(new F.Z(JSON.parse(l[0])),y.spatialReference);if(null!==x&&!1===x.spatialReference.equals(y.spatialReference))throw new k.aV(y,k.rH.WrongSpatialReference,w);return(0,E.F)(x)})},c.polyline=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,1,1,y,w);let x=null;if(l[0]instanceof M.Z){if(x=(0,E.q)(z.Z.parseGeometryFromDictionary(l[0]),y.spatialReference),!(x instanceof W.Z))throw new k.aV(y,k.rH.InvalidParameter,w)}else x=l[0]instanceof W.Z?(0,A.im)(l[0].toJSON()):(0,E.q)(new W.Z(JSON.parse(l[0])),y.spatialReference);if(null!==x&&!1===x.spatialReference.equals(y.spatialReference))throw new k.aV(y,k.rH.WrongSpatialReference,w);return(0,E.F)(x)})},c.point=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,1,1,y,w);let x=null;if(l[0]instanceof M.Z){if(x=(0,E.q)(z.Z.parseGeometryFromDictionary(l[0]),y.spatialReference),!(x instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w)}else x=l[0]instanceof b.Z?(0,A.im)(l[0].toJSON()):(0,E.q)(new b.Z(JSON.parse(l[0])),y.spatialReference);if(null!==x&&!1===x.spatialReference.equals(y.spatialReference))throw new k.aV(y,k.rH.WrongSpatialReference,w);return(0,E.F)(x)})},c.multipoint=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,1,1,y,w);let x=null;if(l[0]instanceof M.Z){if(x=(0,E.q)(z.Z.parseGeometryFromDictionary(l[0]),y.spatialReference),!(x instanceof Q.Z))throw new k.aV(y,k.rH.InvalidParameter,w)}else x=l[0]instanceof Q.Z?(0,A.im)(l[0].toJSON()):(0,E.q)(new Q.Z(JSON.parse(l[0])),y.spatialReference);if(null!==x&&!1===x.spatialReference.equals(y.spatialReference))throw new k.aV(y,k.rH.WrongSpatialReference,w);return(0,E.F)(x)})},c.extent=function(y,w){return g(y,w,(U,V,l)=>{l=(0,E.G)(l),(0,E.y)(l,1,1,y,w);let x=null;if(l[0]instanceof M.Z)x=(0,E.q)(z.Z.parseGeometryFromDictionary(l[0]),y.spatialReference);else if(l[0]instanceof b.Z){const j={xmin:l[0].x,ymin:l[0].y,xmax:l[0].x,ymax:l[0].y,spatialReference:l[0].spatialReference.toJSON()},X=l[0];X.hasZ?(j.zmin=X.z,j.zmax=X.z):X.hasM&&(j.mmin=X.m,j.mmax=X.m),x=(0,A.im)(j)}else x=l[0]instanceof F.Z||l[0]instanceof W.Z||l[0]instanceof Q.Z?(0,A.im)(l[0].extent?.toJSON()):l[0]instanceof f.Z?(0,A.im)(l[0].toJSON()):(0,E.q)(new f.Z(JSON.parse(l[0])),y.spatialReference);if(null!==x&&!1===x.spatialReference.equals(y.spatialReference))throw new k.aV(y,k.rH.WrongSpatialReference,w);return(0,E.F)(x)})},c.geometry=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,1,1,y,w);let x=null;if(null===l[0])return null;if(x=H(l[0])?(0,E.q)(l[0].geometry(),y.spatialReference):(0,E.q)(l[0]instanceof M.Z?z.Z.parseGeometryFromDictionary(l[0]):(0,A.im)(JSON.parse(l[0])),y.spatialReference),null!==x&&!1===x.spatialReference.equals(y.spatialReference))throw new k.aV(y,k.rH.WrongSpatialReference,w);return(0,E.F)(x)})},c.setgeometry=function(y,w){return g(y,w,(U,V,l)=>{if((0,E.y)(l,2,2,y,w),!H(l[0]))throw new k.aV(y,k.rH.InvalidParameter,w);if(!0===l[0].immutable)throw new k.aV(y,k.rH.Immutable,w);if(!(l[1]instanceof K.Z||null===l[1]))throw new k.aV(y,k.rH.InvalidParameter,w);return l[0]._geometry=l[1],E.v})},c.feature=function(y,w){return g(y,w,(U,V,l)=>{if(0===l.length)throw new k.aV(y,k.rH.WrongNumberOfParameters,w);let x=null;if(1===l.length)if((0,E.c)(l[0]))x=z.Z.fromJson(JSON.parse(l[0]));else if(H(l[0]))x=z.Z.createFromArcadeFeature(l[0]);else if(l[0]instanceof K.Z)x=z.Z.createFromGraphicLikeObject(l[0],null,null);else{if(!(l[0]instanceof M.Z))throw new k.aV(y,k.rH.InvalidParameter,w);{let j=l[0].hasField("geometry")?l[0].field("geometry"):null,X=l[0].hasField("attributes")?l[0].field("attributes"):null;null!==j&&j instanceof M.Z&&(j=z.Z.parseGeometryFromDictionary(j)),null!==X&&(X=z.Z.parseAttributesFromDictionary(X)),x=z.Z.createFromGraphicLikeObject(j,X,null)}}else if(2===l.length){let j=null,X=null;if(null!==l[0])if(l[0]instanceof K.Z)j=l[0];else{if(!(j instanceof M.Z))throw new k.aV(y,k.rH.InvalidParameter,w);j=z.Z.parseGeometryFromDictionary(l[0])}if(null!==l[1]){if(!(l[1]instanceof M.Z))throw new k.aV(y,k.rH.InvalidParameter,w);X=z.Z.parseAttributesFromDictionary(l[1])}x=z.Z.createFromGraphicLikeObject(j,X,null)}else{let j=null;const X={};if(null!==l[0])if(l[0]instanceof K.Z)j=l[0];else{if(!(j instanceof M.Z))throw new k.aV(y,k.rH.InvalidParameter,w);j=z.Z.parseGeometryFromDictionary(l[0])}for(let oe=1;oe<l.length;oe+=2){const me=(0,E.j)(l[oe]),fe=l[oe+1];if(!(null==fe||(0,E.c)(fe)||isNaN(fe)||(0,E.k)(fe)||(0,E.b)(fe)||(0,E.a)(fe)))throw new k.aV(y,k.rH.InvalidParameter,w);if((0,E.i)(fe)||!1===(0,E.f)(fe))throw new k.aV(y,k.rH.InvalidParameter,w);X[me]=fe===E.v?null:fe}x=z.Z.createFromGraphicLikeObject(j,X,null)}return x._geometry=(0,E.q)(x.geometry(),y.spatialReference),x.immutable=!1,x})},c.dictionary=function(y,w){return g(y,w,(U,V,l)=>{if(0===l.length){const X=new M.Z;return X.immutable=!1,X}if(1===l.length&&(0,E.c)(l[0]))try{const X=JSON.parse(l[0]),oe=M.Z.convertObjectToArcadeDictionary(X,!1);return oe.immutable=!1,oe}catch{throw new k.aV(y,k.rH.InvalidParameter,w)}if(l.length%2!=0)throw new k.aV(y,k.rH.WrongNumberOfParameters,w);const x={};for(let X=0;X<l.length;X+=2){const oe=(0,E.j)(l[X]),me=l[X+1];if(!(null==me||(0,E.c)(me)||isNaN(me)||(0,E.k)(me)||(0,E.b)(me)||(0,E.a)(me)||(0,E.m)(me)||(0,E.x)(me)))throw new k.aV(y,k.rH.InvalidParameter,w);if((0,E.i)(me))throw new k.aV(y,k.rH.InvalidParameter,w);x[oe]=me===E.v?null:me}const j=new M.Z(x);return j.immutable=!1,j})},c.haskey=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,2,2,y,w);const x=(0,E.j)(l[1]);if(H(l[0])||l[0]instanceof M.Z)return l[0].hasField(x);if(l[0]instanceof K.Z){const j=S(l[0],x,null,null,2);return!j||"notfound"!==j.keystate}throw new k.aV(y,k.rH.InvalidParameter,w)})},c.hasvalue=function(y,w){return g(y,w,(U,V,l)=>{if((0,E.y)(l,2,2,y,w),null===l[0]||null===l[1])return!1;const x=(0,E.j)(l[1]);return(0,E.w)(l[0])||l[0]instanceof M.Z?!!l[0].hasField(x)&&null!==l[0].field(x):l[0]instanceof K.Z&&null!==S(l[0],x,null,null,0)})},c.indexof=function(y,w){return g(y,w,(U,V,l)=>{(0,E.y)(l,2,2,y,w);const x=l[1];if((0,E.m)(l[0])){for(let j=0;j<l[0].length;j++)if((0,E.s)(x,l[0][j]))return j;return-1}if((0,E.x)(l[0])){const j=l[0].length();for(let X=0;X<j;X++)if((0,E.s)(x,l[0].get(X)))return X;return-1}throw new k.aV(y,k.rH.InvalidParameter,w)})},c.angle=function(y,w){return g(y,w,(U,V,l)=>{if(l=(0,E.G)(l),(0,E.y)(l,2,3,y,w),!(l[0]instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);if(!(l[1]instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);if(l.length>2&&!(l[2]instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);return 2===l.length?(0,$.RI)(l[0],l[1]):(0,$.ws)(l[0],l[1],l[2])})},c.bearing=function(y,w){return g(y,w,(U,V,l)=>{if(l=(0,E.G)(l),(0,E.y)(l,2,3,y,w),!(l[0]instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);if(!(l[1]instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);if(l.length>2&&!(l[2]instanceof b.Z))throw new k.aV(y,k.rH.InvalidParameter,w);return 2===l.length?(0,$.B9)(l[0],l[1]):(0,$.Es)(l[0],l[1],l[2])})},c.isselfintersecting=function(y,w){return g(y,w,(U,V,l)=>{l=(0,E.G)(l),(0,E.y)(l,1,1,y,w);let x=l[0];if(x instanceof F.Z)return x.isSelfIntersecting;if(x instanceof W.Z)return x=x.paths,(0,$.nB)(x);if(x instanceof Q.Z){const j=x.points;for(let X=0;X<j.length;X++)for(let oe=0;oe<j.length;oe++)if(oe!==X){let me=!0;for(let fe=0;fe<j[X].length;fe++)if(j[X][fe]!==j[oe][fe]){me=!1;break}if(!0===me)return!0}}return!(!(0,E.m)(x)&&!(0,E.x)(x))&&(x=(0,E.H)(x,y.spatialReference),null!==x&&(x=x.paths),(0,$.nB)(x))})}}let L=0;function S(c,g,y,w,U=1){let V;switch(g=g.toLowerCase()){case"hasz":{const l=c.hasZ;return void 0!==l&&l}case"hasm":{const l=c.hasM;return void 0!==l&&l}case"spatialreference":{let l=c.spatialReference._arcadeCacheId;if(void 0===l){let j=!0;Object.freeze&&Object.isFrozen(c.spatialReference)&&(j=!1),j&&(L++,c.spatialReference._arcadeCacheId=L,l=L)}const x=new M.Z({wkt:c.spatialReference.wkt,wkid:c.spatialReference.wkid});return void 0!==l&&(x._arcadeCacheId="SPREF"+l.toString()),x}}switch(c.type){case"extent":switch(g){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const l=c[g];return void 0!==l?l:null}case"type":return"Extent"}break;case"polygon":switch(g){case"rings":return V=c.cache._arcadeCacheId,void 0===V&&(L++,V=L,c.cache._arcadeCacheId=V),new B.Z(c.rings,c.spatialReference,!0===c.hasZ,!0===c.hasM,V);case"type":return"Polygon"}break;case"point":switch(g){case"x":case"y":case"z":case"m":return void 0!==c[g]?c[g]:null;case"type":return"Point"}break;case"polyline":switch(g){case"paths":return V=c.cache._arcadeCacheId,void 0===V&&(L++,V=L,c.cache._arcadeCacheId=V),new B.Z(c.paths,c.spatialReference,!0===c.hasZ,!0===c.hasM,V);case"type":return"Polyline"}break;case"multipoint":switch(g){case"points":return V=c.cache._arcadeCacheId,void 0===V&&(L++,V=L,c.cache._arcadeCacheId=V),new R.Z(c.points,c.spatialReference,!0===c.hasZ,!0===c.hasM,V,1);case"type":return"Multipoint"}}if(1===U)throw new k.aV(y,k.rH.InvalidIdentifier,w);return 2===U?{keystate:"notfound"}:null}},63461:(Ve,De,Z)=>{Z.r(De),Z.d(De,{registerFunctions:()=>L,setGeometryEngine:()=>H});var M=Z(24263),z=Z(27187),R=Z(47562),E=Z(85692),f=Z(2004),K=Z(21674),Q=Z(72854),b=Z(72642),F=Z(37118),W=Z(55214),$=Z(91179),A=Z(25919),k=Z(16730);let B=null;function G(S){return 0===M.i8.indexOf("4.")?F.Z.fromExtent(S):new F.Z({spatialReference:S.spatialReference,rings:[[[S.xmin,S.ymin],[S.xmin,S.ymax],[S.xmax,S.ymax],[S.xmax,S.ymin],[S.xmin,S.ymin]]]})}function H(S){B=S}function C(S,c){if("polygon"!==S.type&&"polyline"!==S.type&&"extent"!==S.type)return 0;let g=1;(S.spatialReference.vcsWkid||S.spatialReference.latestVcsWkid)&&(g=(0,E._R)(S.spatialReference)/(0,k.c9)(S.spatialReference));let y=0;if("polyline"===S.type)for(const U of S.paths)for(let V=1;V<U.length;V++)y+=(0,E.AW)(U[V],U[V-1],g);else if("polygon"===S.type)for(const U of S.rings){for(let V=1;V<U.length;V++)y+=(0,E.AW)(U[V],U[V-1],g);(U[0][0]!==U[U.length-1][0]||U[0][1]!==U[U.length-1][1]||void 0!==U[0][2]&&U[0][2]!==U[U.length-1][2])&&(y+=(0,E.AW)(U[0],U[U.length-1],g))}else"extent"===S.type&&(y+=2*(0,E.AW)([S.xmin,S.ymin,0],[S.xmax,S.ymin,0],g),y+=2*(0,E.AW)([S.xmin,S.ymin,0],[S.xmin,S.ymax,0],g),y*=2,y+=4*Math.abs((0,R.A)(S.zmax,0)*g-(0,R.A)(S.zmin,0)*g));const w=new W.Z({hasZ:!1,hasM:!1,spatialReference:S.spatialReference,paths:[[0,0],[0,y]]});return B.planarLength(w,c)}function L(S,c){function g(y,w,U){if((0,R.y)(U,2,2,y,w),!(U[0]instanceof K.Z&&U[1]instanceof K.Z||U[0]instanceof K.Z&&null===U[1]||U[1]instanceof K.Z&&null===U[0]||null===U[0]&&null===U[1]))throw new A.aV(y,A.rH.InvalidParameter,w)}S.disjoint=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null===l[0]||null===l[1]||B.disjoint(l[0],l[1])))},S.intersects=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null!==l[1]&&B.intersects(l[0],l[1])))},S.touches=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null!==l[1]&&B.touches(l[0],l[1])))},S.crosses=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null!==l[1]&&B.crosses(l[0],l[1])))},S.within=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null!==l[1]&&B.within(l[0],l[1])))},S.contains=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null!==l[1]&&B.contains(l[0],l[1])))},S.overlaps=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null!==l[1]&&B.overlaps(l[0],l[1])))},S.equals=function(y,w){return c(y,w,(U,V,l)=>((0,R.y)(l,2,2,y,w),l[0]===l[1]||(l[0]instanceof K.Z&&l[1]instanceof K.Z?B.equals(l[0],l[1]):!(!(0,R.k)(l[0])||!(0,R.k)(l[1]))&&l[0].getTime()===l[1].getTime())))},S.relate=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,3,3,y,w),l[0]instanceof K.Z&&l[1]instanceof K.Z)return B.relate(l[0],l[1],(0,R.j)(l[2]));if(l[0]instanceof K.Z&&null===l[1]||l[1]instanceof K.Z&&null===l[0]||null===l[0]&&null===l[1])return!1;throw new A.aV(y,A.rH.InvalidParameter,w)})},S.intersection=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null===l[0]||null===l[1]?null:B.intersect(l[0],l[1])))},S.union=function(y,w){return c(y,w,(U,V,l)=>{const x=[];if(0===(l=(0,R.G)(l)).length)throw new A.aV(y,A.rH.WrongNumberOfParameters,w);if(1===l.length)if((0,R.m)(l[0])){const j=(0,R.G)(l[0]);for(let X=0;X<j.length;X++)if(null!==j[X]){if(!(j[X]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);x.push(j[X])}}else{if(!(0,R.x)(l[0])){if(l[0]instanceof K.Z)return(0,R.q)((0,z.r1)(l[0]),y.spatialReference);if(null===l[0])return null;throw new A.aV(y,A.rH.InvalidParameter,w)}{const j=(0,R.G)(l[0].toArray());for(let X=0;X<j.length;X++)if(null!==j[X]){if(!(j[X]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);x.push(j[X])}}}else for(let j=0;j<l.length;j++)if(null!==l[j]){if(!(l[j]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);x.push(l[j])}return 0===x.length?null:B.union(x)})},S.difference=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null!==l[0]&&null===l[1]?(0,z.r1)(l[0]):null===l[0]?null:B.difference(l[0],l[1])))},S.symmetricdifference=function(y,w){return c(y,w,(U,V,l)=>(l=(0,R.G)(l),g(y,w,l),null===l[0]&&null===l[1]?null:null===l[0]?(0,z.r1)(l[1]):null===l[1]?(0,z.r1)(l[0]):B.symmetricDifference(l[0],l[1])))},S.clip=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,2,y,w),!(l[1]instanceof f.Z)&&null!==l[1])throw new A.aV(y,A.rH.InvalidParameter,w);if(null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return null===l[1]?null:B.clip(l[0],l[1])})},S.cut=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,2,y,w),!(l[1]instanceof W.Z)&&null!==l[1])throw new A.aV(y,A.rH.InvalidParameter,w);if(null===l[0])return[];if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return null===l[1]?[(0,z.r1)(l[0])]:B.cut(l[0],l[1])})},S.area=function(y,w){return c(y,w,(U,V,l)=>{if((0,R.y)(l,1,2,y,w),null===(l=(0,R.G)(l))[0])return 0;if((0,R.m)(l[0])||(0,R.x)(l[0])){const x=(0,R.J)(l[0],y.spatialReference);return null===x?0:B.planarArea(x,(0,z.EI)((0,R.A)(l[1],-1)))}if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.planarArea(l[0],(0,z.EI)((0,R.A)(l[1],-1)))})},S.areageodetic=function(y,w){return c(y,w,(U,V,l)=>{if((0,R.y)(l,1,2,y,w),null===(l=(0,R.G)(l))[0])return 0;if((0,R.m)(l[0])||(0,R.x)(l[0])){const x=(0,R.J)(l[0],y.spatialReference);return null===x?0:B.geodesicArea(x,(0,z.EI)((0,R.A)(l[1],-1)))}if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.geodesicArea(l[0],(0,z.EI)((0,R.A)(l[1],-1)))})},S.length=function(y,w){return c(y,w,(U,V,l)=>{if((0,R.y)(l,1,2,y,w),null===(l=(0,R.G)(l))[0])return 0;if((0,R.m)(l[0])||(0,R.x)(l[0])){const x=(0,R.H)(l[0],y.spatialReference);return null===x?0:B.planarLength(x,(0,z.Lz)((0,R.A)(l[1],-1)))}if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.planarLength(l[0],(0,z.Lz)((0,R.A)(l[1],-1)))})},S.length3d=function(y,w){return c(y,w,(U,V,l)=>{if((0,R.y)(l,1,2,y,w),null===(l=(0,R.G)(l))[0])return 0;if((0,R.m)(l[0])||(0,R.x)(l[0])){const x=(0,R.H)(l[0],y.spatialReference);return null===x?0:!0===x.hasZ?C(x,(0,z.Lz)((0,R.A)(l[1],-1))):B.planarLength(x,(0,z.Lz)((0,R.A)(l[1],-1)))}if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return!0===l[0].hasZ?C(l[0],(0,z.Lz)((0,R.A)(l[1],-1))):B.planarLength(l[0],(0,z.Lz)((0,R.A)(l[1],-1)))})},S.lengthgeodetic=function(y,w){return c(y,w,(U,V,l)=>{if((0,R.y)(l,1,2,y,w),null===(l=(0,R.G)(l))[0])return 0;if((0,R.m)(l[0])||(0,R.x)(l[0])){const x=(0,R.H)(l[0],y.spatialReference);return null===x?0:B.geodesicLength(x,(0,z.Lz)((0,R.A)(l[1],-1)))}if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.geodesicLength(l[0],(0,z.Lz)((0,R.A)(l[1],-1)))})},S.distance=function(y,w){return c(y,w,(U,V,l)=>{l=(0,R.G)(l),(0,R.y)(l,2,3,y,w);let x=l[0];((0,R.m)(l[0])||(0,R.x)(l[0]))&&(x=(0,R.K)(l[0],y.spatialReference));let j=l[1];if(((0,R.m)(l[1])||(0,R.x)(l[1]))&&(j=(0,R.K)(l[1],y.spatialReference)),!(x instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);if(!(j instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.distance(x,j,(0,z.Lz)((0,R.A)(l[2],-1)))})},S.distancegeodetic=function(y,w){return c(y,w,(U,V,l)=>{l=(0,R.G)(l),(0,R.y)(l,2,3,y,w);const x=l[0],j=l[1];if(!(x instanceof b.Z))throw new A.aV(y,A.rH.InvalidParameter,w);if(!(j instanceof b.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const X=new W.Z({paths:[],spatialReference:x.spatialReference});return X.addPath([x,j]),B.geodesicLength(X,(0,z.Lz)((0,R.A)(l[2],-1)))})},S.densify=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,3,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const x=(0,R.g)(l[1]);if(isNaN(x))throw new A.aV(y,A.rH.InvalidParameter,w);if(x<=0)throw new A.aV(y,A.rH.InvalidParameter,w);return l[0]instanceof F.Z||l[0]instanceof W.Z?B.densify(l[0],x,(0,z.Lz)((0,R.A)(l[2],-1))):l[0]instanceof f.Z?B.densify(G(l[0]),x,(0,z.Lz)((0,R.A)(l[2],-1))):l[0]})},S.densifygeodetic=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,3,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const x=(0,R.g)(l[1]);if(isNaN(x))throw new A.aV(y,A.rH.InvalidParameter,w);if(x<=0)throw new A.aV(y,A.rH.InvalidParameter,w);return l[0]instanceof F.Z||l[0]instanceof W.Z?B.geodesicDensify(l[0],x,(0,z.Lz)((0,R.A)(l[2],-1))):l[0]instanceof f.Z?B.geodesicDensify(G(l[0]),x,(0,z.Lz)((0,R.A)(l[2],-1))):l[0]})},S.generalize=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,4,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const x=(0,R.g)(l[1]);if(isNaN(x))throw new A.aV(y,A.rH.InvalidParameter,w);return B.generalize(l[0],x,(0,R.h)((0,R.A)(l[2],!0)),(0,z.Lz)((0,R.A)(l[3],-1)))})},S.buffer=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,3,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const x=(0,R.g)(l[1]);if(isNaN(x))throw new A.aV(y,A.rH.InvalidParameter,w);return 0===x?(0,z.r1)(l[0]):B.buffer(l[0],x,(0,z.Lz)((0,R.A)(l[2],-1)))})},S.buffergeodetic=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,3,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const x=(0,R.g)(l[1]);if(isNaN(x))throw new A.aV(y,A.rH.InvalidParameter,w);return 0===x?(0,z.r1)(l[0]):B.geodesicBuffer(l[0],x,(0,z.Lz)((0,R.A)(l[2],-1)))})},S.offset=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,2,6,y,w),null===l[0])return null;if(!(l[0]instanceof F.Z||l[0]instanceof W.Z))throw new A.aV(y,A.rH.InvalidParameter,w);const x=(0,R.g)(l[1]);if(isNaN(x))throw new A.aV(y,A.rH.InvalidParameter,w);const j=(0,R.g)((0,R.A)(l[4],10));if(isNaN(j))throw new A.aV(y,A.rH.InvalidParameter,w);const X=(0,R.g)((0,R.A)(l[5],0));if(isNaN(X))throw new A.aV(y,A.rH.InvalidParameter,w);return B.offset(l[0],x,(0,z.Lz)((0,R.A)(l[2],-1)),(0,R.j)((0,R.A)(l[3],"round")).toLowerCase(),j,X)})},S.rotate=function(y,w){return c(y,w,(U,V,l)=>{l=(0,R.G)(l),(0,R.y)(l,2,3,y,w);let x=l[0];if(null===x)return null;if(!(x instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);x instanceof f.Z&&(x=F.Z.fromExtent(x));const j=(0,R.g)(l[1]);if(isNaN(j))throw new A.aV(y,A.rH.InvalidParameter,w);const X=(0,R.A)(l[2],null);if(null===X)return B.rotate(x,j);if(X instanceof b.Z)return B.rotate(x,j,X);throw new A.aV(y,A.rH.InvalidParameter,w)})},S.centroid=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,1,1,y,w),null===l[0])return null;let x=l[0];if(((0,R.m)(l[0])||(0,R.x)(l[0]))&&(x=(0,R.K)(l[0],y.spatialReference)),null===x)return null;if(!(x instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return x instanceof b.Z?(0,R.q)((0,z.r1)(l[0]),y.spatialReference):x instanceof F.Z?x.centroid:x instanceof W.Z?(0,E.s9)(x):x instanceof Q.Z?(0,E.Ay)(x):x instanceof f.Z?x.center:null})},S.multiparttosinglepart=function(y,w){return c(y,w,(U,V,l)=>{l=(0,R.G)(l),(0,R.y)(l,1,1,y,w);const x=[];if(null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);if(l[0]instanceof b.Z)return[(0,R.q)((0,z.r1)(l[0]),y.spatialReference)];if(l[0]instanceof f.Z)return[(0,R.q)((0,z.r1)(l[0]),y.spatialReference)];const j=B.simplify(l[0]);if(j instanceof F.Z){const X=[],oe=[];for(let me=0;me<j.rings.length;me++)if(j.isClockwise(j.rings[me])){const fe=(0,$.im)({rings:[j.rings[me]],hasZ:!0===j.hasZ,hasM:!0===j.hasM,spatialReference:j.spatialReference.toJSON()});X.push(fe)}else oe.push({ring:j.rings[me],pt:j.getPoint(me,0)});for(let me=0;me<oe.length;me++)for(let fe=0;fe<X.length;fe++)if(X[fe].contains(oe[me].pt)){X[fe].addRing(oe[me].ring);break}return X}if(j instanceof W.Z){const X=[];for(let oe=0;oe<j.paths.length;oe++){const me=(0,$.im)({paths:[j.paths[oe]],hasZ:!0===j.hasZ,hasM:!0===j.hasM,spatialReference:j.spatialReference.toJSON()});X.push(me)}return X}if(l[0]instanceof Q.Z){const X=(0,R.q)((0,z.r1)(l[0]),y.spatialReference);for(let oe=0;oe<X.points.length;oe++)x.push(X.getPoint(oe));return x}return null})},S.issimple=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,1,1,y,w),null===l[0])return!0;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.isSimple(l[0])})},S.simplify=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,1,1,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.simplify(l[0])})},S.convexhull=function(y,w){return c(y,w,(U,V,l)=>{if(l=(0,R.G)(l),(0,R.y)(l,1,1,y,w),null===l[0])return null;if(!(l[0]instanceof K.Z))throw new A.aV(y,A.rH.InvalidParameter,w);return B.convexHull(l[0])})}}},46668:(Ve,De,Z)=>{Z.d(De,{a:()=>Q});const M=2654435761,z=2246822519,R=3266489917,E=668265263,f=374761393;function K(b){const F=[];for(let W=0,$=b.length;W<$;W++){let A=b.charCodeAt(W);A<128?F.push(A):A<2048?F.push(192|A>>6,128|63&A):A<55296||A>=57344?F.push(224|A>>12,128|A>>6&63,128|63&A):(W++,A=65536+((1023&A)<<10|1023&b.charCodeAt(W)),F.push(240|A>>18,128|A>>12&63,128|A>>6&63,128|63&A))}return new Uint8Array(F)}class Q{constructor(F){this._seed=F,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(F){const W=[];for(const $ of F)isNaN($)?W.push("NaN"):W.push($===1/0?"Infinity":$===-1/0?"-Infinity":0===$?"0":$.toString(16));this.update(K(W.join("")))}updateIntArray(F){const W=Int32Array.from(F);this.update(new Uint8Array(W.buffer))}updateUint8Array(F){this.update(Uint8Array.from(F))}updateWithString(F){return this.update(K(F))}update(F){return this._bufs.push(F),this._totallen+=F.length,this}digest(){const F=new Uint8Array(this._totallen);let W=0;for(const $ of this._bufs)F.set($,W),W+=$.length;return this.init(),this._xxHash32(F,this._seed)}_xxHash32(F,W=0){const $=F;let A=W+f&4294967295,k=0;if($.length>=16){const G=[W+M+z&4294967295,W+z&4294967295,W+0&4294967295,W-M&4294967295],H=F,C=H.length-16;let L=0;for(k=0;(4294967280&k)<=C;k+=4){let w=G[L]+((H[k+0]+(H[k+1]<<8))*z+((H[k+2]+(H[k+3]<<8))*z<<16))&4294967295;w=w<<13|w>>>19,G[L]=(65535&w)*M+((w>>>16)*M<<16)&4294967295,L=L+1&3}A=(G[0]<<1|G[0]>>>31)+(G[1]<<7|G[1]>>>25)+(G[2]<<12|G[2]>>>20)+(G[3]<<18|G[3]>>>14)&4294967295}A=A+F.length&4294967295;const B=F.length-4;for(;k<=B;k+=4)A=A+(($[k+0]+($[k+1]<<8))*R+(($[k+2]+($[k+3]<<8))*R<<16))&4294967295,A=A<<17|A>>>15,A=(65535&A)*E+((A>>>16)*E<<16)&4294967295;for(;k<$.length;++k)A+=$[k]*f,A=A<<11|A>>>21,A=(65535&A)*M+((A>>>16)*M<<16)&4294967295;return A^=A>>>15,A=((65535&A)*z&4294967295)+((A>>>16)*z<<16),A^=A>>>13,A=((65535&A)*R&4294967295)+((A>>>16)*R<<16),A^=A>>>16,A<0?A+4294967296:A}}},53840:(Ve,De,Z)=>{Z.d(De,{r:()=>E});var M=Z(47562),z=Z(75327);function R(f,K,Q){return void 0===Q||0==+Q?Math[f](K):(K=+K,Q=+Q,isNaN(K)||"number"!=typeof Q||Q%1!=0?NaN:(K=K.toString().split("e"),+((K=(K=Math[f](+(K[0]+"e"+(K[1]?+K[1]-Q:-Q)))).toString().split("e"))[0]+"e"+(K[1]?+K[1]+Q:Q))))}function E(f,K){function Q(b,F,W){const $=(0,M.g)(b);return isNaN($)?$:isNaN(F)||isNaN(W)||F>W?NaN:$<F?F:$>W?W:$}f.number=function(b,F){return K(b,F,(W,$,A)=>{(0,M.y)(A,1,2,b,F);const k=A[0];if((0,M.b)(k))return k;if(null===k)return 0;if((0,M.k)(k)||(0,M.a)(k))return Number(k);if((0,M.m)(k))return NaN;if(""===k||void 0===k)return Number(k);if((0,M.c)(k)){if(void 0!==A[1]){let B=(0,M.L)(A[1],"\u2030","");return B=(0,M.L)(B,"\xa4",""),(0,z.Qc)(k,{pattern:B})}return Number(k.trim())}return Number(k)})},f.abs=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.abs((0,M.g)(A[0]))))},f.acos=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.acos((0,M.g)(A[0]))))},f.asin=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.asin((0,M.g)(A[0]))))},f.atan=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.atan((0,M.g)(A[0]))))},f.atan2=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,2,2,b,F),Math.atan2((0,M.g)(A[0]),(0,M.g)(A[1]))))},f.ceil=function(b,F){return K(b,F,(W,$,A)=>{if((0,M.y)(A,1,2,b,F),2===A.length){let k=(0,M.g)(A[1]);return isNaN(k)&&(k=0),R("ceil",(0,M.g)(A[0]),-1*k)}return Math.ceil((0,M.g)(A[0]))})},f.round=function(b,F){return K(b,F,(W,$,A)=>{if((0,M.y)(A,1,2,b,F),2===A.length){let k=(0,M.g)(A[1]);return isNaN(k)&&(k=0),R("round",(0,M.g)(A[0]),-1*k)}return Math.round((0,M.g)(A[0]))})},f.floor=function(b,F){return K(b,F,(W,$,A)=>{if((0,M.y)(A,1,2,b,F),2===A.length){let k=(0,M.g)(A[1]);return isNaN(k)&&(k=0),R("floor",(0,M.g)(A[0]),-1*k)}return Math.floor((0,M.g)(A[0]))})},f.cos=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.cos((0,M.g)(A[0]))))},f.isnan=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),"number"==typeof A[0]&&isNaN(A[0])))},f.exp=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.exp((0,M.g)(A[0]))))},f.log=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.log((0,M.g)(A[0]))))},f.pow=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,2,2,b,F),(0,M.g)(A[0])**(0,M.g)(A[1])))},f.random=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,0,0,b,F),Math.random()))},f.sin=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.sin((0,M.g)(A[0]))))},f.sqrt=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.sqrt((0,M.g)(A[0]))))},f.tan=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),Math.tan((0,M.g)(A[0]))))},f.defaultvalue=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,2,2,b,F),null===A[0]||""===A[0]||void 0===A[0]?A[1]:A[0]))},f.isempty=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),null===A[0]||""===A[0]||void 0===A[0]))},f.boolean=function(b,F){return K(b,F,(W,$,A)=>((0,M.y)(A,1,1,b,F),(0,M.h)(A[0])))},f.constrain=function(b,F){return K(b,F,(W,$,A)=>{(0,M.y)(A,3,3,b,F);const k=(0,M.g)(A[1]),B=(0,M.g)(A[2]);if((0,M.m)(A[0])){const G=[];for(const H of A[0])G.push(Q(H,k,B));return G}if((0,M.x)(A[0])){const G=[];for(let H=0;H<A[0].length();H++)G.push(Q(A[0].get(H),k,B));return G}return Q(A[0],k,B)})}}},97536:(Ve,De,Z)=>{Z.d(De,{r:()=>f});var M=Z(25919),z=Z(47562),R=Z(50818);function E(K,Q,b,F){if(1===F.length){if((0,z.m)(F[0]))return(0,R.t)(K,F[0],-1);if((0,z.x)(F[0]))return(0,R.t)(K,F[0].toArray(),-1)}return(0,R.t)(K,F,-1)}function f(K,Q){K.stdev=function(b,F){return Q(b,F,(W,$,A)=>E("stdev",0,0,A))},K.variance=function(b,F){return Q(b,F,(W,$,A)=>E("variance",0,0,A))},K.average=function(b,F){return Q(b,F,(W,$,A)=>E("mean",0,0,A))},K.mean=function(b,F){return Q(b,F,(W,$,A)=>E("mean",0,0,A))},K.sum=function(b,F){return Q(b,F,(W,$,A)=>E("sum",0,0,A))},K.min=function(b,F){return Q(b,F,(W,$,A)=>E("min",0,0,A))},K.max=function(b,F){return Q(b,F,(W,$,A)=>E("max",0,0,A))},K.distinct=function(b,F){return Q(b,F,(W,$,A)=>E("distinct",0,0,A))},K.count=function(b,F){return Q(b,F,(W,$,A)=>{if((0,z.y)(A,1,1,b,F),(0,z.m)(A[0])||(0,z.c)(A[0]))return A[0].length;if((0,z.x)(A[0]))return A[0].length();throw new M.aV(b,M.rH.InvalidParameter,F)})}}},32576:(Ve,De,Z)=>{Z.d(De,{r:()=>te});var M=Z(37780),z=Z(22386),R=Z(6729),E=Z(25919),f=Z(47562),K=Z(77132),Q=Z(62208);const b=_=>(v,I,N)=>(N=N||14,+_(v,I).toFixed(N)),F=(_,v)=>_+v,$=(_,v)=>_*v,A=(_,v)=>_/v,k=(_,v,I)=>b(F)(_,v,I),G=(_,v,I)=>b($)(_,v,I),H=(_,v,I)=>b(A)(_,v,I),C=360,S=2*Math.PI,c=3600,w=60,U=180*c/Math.PI,V=60*C*w,l=90*c,x=180*c,X=String.fromCharCode(7501);function me(_){if(!1===(0,f.c)(_))throw new E.aV(null,E.rH.InvalidParameter,null);return _}function fe(_,v){const I=10**v;return Math.round(_*I)/I}function se(_){const v=parseFloat(_.toString().replace(Math.trunc(_).toString(),"0"))*Math.sign(_);return _<0?{fraction:v,integer:Math.ceil(_)}:{fraction:v,integer:Math.floor(_)}}var de,ie,ge,ct,_;function Be(_,v){switch(_){case de.north:return"SHORT"===v?"N":"North";case de.east:return"SHORT"===v?"E":"East";case de.south:return"SHORT"===v?"S":"South";case de.west:return"SHORT"===v?"W":"West"}}function dt(_,v,I){for(;_.length<I;)_=v+_;return _}function Ye(_,v){return _-Math.floor(_/v)*v}function He(_){switch(_){case ie.truncated_degrees:case ie.decimal_degrees:return C;case ie.radians:return S;case ie.gradians:return 400;case ie.seconds:return V;case ie.fractional_degree_minutes:return 60;case ie.fractional_minute_seconds:return w;default:throw new E.aV(null,E.rH.LogicError,null,{reason:"unsupported evaluations"})}}function ht(_){switch(_.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return ge.north_azimuth;case"POLAR":return ge.polar;case"QUADRANT":return ge.quadrant;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return ge.south_azimuth}throw new E.aV(null,E.rH.LogicError,null,{reason:"unsupported directionType"})}function Qe(_){switch(_.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return ie.decimal_degrees;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return ie.degrees_minutes_seconds;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return ie.radians;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return ie.gradians}throw new E.aV(null,E.rH.LogicError,null,{reason:"unsupported units"})}(_=de||(de={}))[_.north=0]="north",_[_.east=1]="east",_[_.south=2]="south",_[_.west=3]="west",function(_){_[_.decimal_degrees=1]="decimal_degrees",_[_.seconds=2]="seconds",_[_.degrees_minutes_seconds=3]="degrees_minutes_seconds",_[_.radians=4]="radians",_[_.gradians=5]="gradians",_[_.truncated_degrees=6]="truncated_degrees",_[_.fractional_degree_minutes=7]="fractional_degree_minutes",_[_.fractional_minute_seconds=8]="fractional_minute_seconds"}(ie||(ie={})),function(_){_[_.north_azimuth=1]="north_azimuth",_[_.polar=2]="polar",_[_.quadrant=3]="quadrant",_[_.south_azimuth=4]="south_azimuth"}(ge||(ge={})),function(_){_[_.meridian=0]="meridian",_[_.direction=1]="direction"}(ct||(ct={}));class Xe{constructor(v,I,N){this.m_degrees=v,this.m_minutes=I,this.m_seconds=N}getField(v){switch(v){case ie.decimal_degrees:case ie.truncated_degrees:return this.m_degrees;case ie.fractional_degree_minutes:return this.m_minutes;case ie.seconds:case ie.fractional_minute_seconds:return this.m_seconds;default:throw new E.aV(null,E.rH.LogicError,null,{reason:"unexpected evaluation"})}}static secondsToDMS(v){const I=se(v).fraction;let N=se(v).integer;const ne=Math.floor(N/c);N-=ne*c;const re=Math.floor(N/w);return N-=re*w,new Xe(ne,re,N+I)}static numberToDms(v){const I=se(v).fraction,N=se(v).integer,ne=G(se(100*I).fraction,100),re=se(100*I).integer;return new Xe(N,re,ne)}format(v,I){let N=fe(this.m_seconds,I),ne=this.m_minutes,re=this.m_degrees;if(v===ie.seconds||v===ie.fractional_minute_seconds)w<=N&&(N-=w,++ne),60<=ne&&(ne=0,++re),C<=re&&(re=0);else if(v===ie.fractional_degree_minutes)N=0,ne=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,re=this.m_degrees,60<=ne&&(ne=0,++re),C<=re&&(re=0);else if(v===ie.decimal_degrees||v===ie.truncated_degrees){const O=H(this.m_seconds,c),ee=H(this.m_minutes,60);re=Math.round(this.m_degrees+ee+O),ne=0,N=0}return new Xe(re,ne,N)}static dmsToSeconds(v,I,N){return v*c+I*w+N}}class Le{constructor(v,I,N){this.meridian=v,this.angle=I,this.direction=N}fetchAzimuth(v){return v===ct.meridian?this.meridian:this.direction}}class Me{constructor(v){this._angle=v}static createFromAngleAndDirection(v,I){return new Me(new we(Me._convertDirectionFormat(v.extractAngularUnits(ie.seconds),I,ge.north_azimuth)))}getAngle(v){const I=this._angle.extractAngularUnits(ie.seconds);switch(v){case ge.north_azimuth:case ge.south_azimuth:case ge.polar:return new we(Me._convertDirectionFormat(I,ge.north_azimuth,v));case ge.quadrant:{const N=Me.secondsNorthAzimuthToQuadrant(I);return new we(N.angle)}}}getMeridian(v){const I=this._angle.extractAngularUnits(ie.seconds);switch(v){case ge.north_azimuth:return de.north;case ge.south_azimuth:return de.south;case ge.polar:return de.east;case ge.quadrant:return Me.secondsNorthAzimuthToQuadrant(I).meridian}}getDirection(v){const I=this._angle.extractAngularUnits(ie.seconds);switch(v){case ge.north_azimuth:return de.east;case ge.south_azimuth:return de.west;case ge.polar:return de.north;case ge.quadrant:return Me.secondsNorthAzimuthToQuadrant(I).direction}}static secondsNorthAzimuthToQuadrant(v){const I=v<=l||v>=972e3?de.north:de.south,N=I===de.north?Math.min(V-v,v):Math.abs(v-x);return new Le(I,N,v>x?de.west:de.east)}static createFromAngleMeridianAndDirection(v,I,N){return new Me(new we(Me.secondsQuadrantToNorthAzimuth(v.extractAngularUnits(ie.seconds),I,N)))}static secondsQuadrantToNorthAzimuth(v,I,N){return I===de.north?N===de.east?v:V-v:N===de.east?x-v:x+v}static _convertDirectionFormat(v,I,N){let ne=0;switch(I){case ge.north_azimuth:ne=v;break;case ge.polar:ne=l-v;break;case ge.quadrant:throw new E.aV(null,E.rH.LogicError,null,{reason:"unexpected evaluation"});case ge.south_azimuth:ne=v+x}let re=0;switch(N){case ge.north_azimuth:re=ne;break;case ge.polar:re=l-ne;break;case ge.quadrant:throw new E.aV(null,E.rH.LogicError,null,{reason:"unexpected evaluation"});case ge.south_azimuth:re=ne-x}return re=function Fe(_,v){return _%v}(re,V),re<0?V+re:re}}function rt(_,v,I){let N=null;switch(v){case ie.decimal_degrees:N=G(_,c);break;case ie.seconds:N=_;break;case ie.gradians:N=G(_,3240);break;case ie.radians:N=G(_,U);break;default:throw new E.aV(null,E.rH.LogicError,null,{reason:"unexpected evaluation"})}switch(I){case ie.decimal_degrees:return H(N,c);case ie.seconds:return N;case ie.gradians:return H(N,3240);case ie.radians:return N/U;default:throw new E.aV(null,E.rH.LogicError,null,{reason:"unexpected evaluation"})}}class we{constructor(v){this._seconds=v}static createFromAngleAndUnits(v,I){return new we(rt(v,I,ie.seconds))}extractAngularUnits(v){return rt(this._seconds,ie.seconds,ft(v))}static createFromDegreesMinutesSeconds(v,I,N){return new we(k(k(G(v,c),G(I,w)),N))}}function ft(_){switch((0,Q.O3)(_),_){case ie.decimal_degrees:case ie.truncated_degrees:case ie.degrees_minutes_seconds:return ie.decimal_degrees;case ie.gradians:return ie.gradians;case ie.fractional_degree_minutes:return ie.fractional_degree_minutes;case ie.radians:return ie.radians;case ie.seconds:case ie.fractional_minute_seconds:return ie.seconds}}class at{constructor(v,I,N,ne){this.view=v,this.angle=I,this.merdian=N,this.direction=ne,this._dms=null,this._formattedDms=null}static createFromStringAndBearing(v,I,N){return new at(v,I.getAngle(N),I.getMeridian(N),I.getDirection(N))}fetchAngle(){return this.angle}fetchMeridian(){return this.merdian}fetchDirection(){return this.direction}fetchView(){return this.view}fetchDms(){return null===this._dms&&this._calculateDms(),this._dms}fetchFormattedDms(){return null===this._formattedDms&&this._calculateDms(),this._formattedDms}_calculateDms(){let v=null,I=ie.truncated_degrees,N=0;for(let ne=0;ne<this.view.length;ne++){const re=this.view[ne];switch(re){case"m":v=qe(this.view,ne,re),I=I===ie.truncated_degrees?ie.fractional_degree_minutes:I,ne=v.newpos;continue;case"s":v=qe(this.view,ne,re),I=ie.fractional_minute_seconds,N=N<v.rounding?v.rounding:N,ne=v.newpos;continue;default:continue}}this._dms=Xe.secondsToDMS(this.angle.extractAngularUnits(ie.seconds)),this._formattedDms=Xe.secondsToDMS(this.angle.extractAngularUnits(ie.seconds)).format(I,N)}}function $e(_,v,I,N,ne){let re=null;switch(v){case ie.decimal_degrees:case ie.radians:case ie.gradians:return re=Ye(fe(_.extractAngularUnits(v),N),He(v)),dt(re.toFixed(N),"0",I+N+(N>0?1:0));case ie.truncated_degrees:case ie.fractional_degree_minutes:return re=Ye(ne.fetchFormattedDms().getField(v),He(v)),dt(re.toFixed(N),"0",I+N+(N>0?1:0));case ie.fractional_minute_seconds:return re=Ye(fe(ne.fetchDms().getField(v),N),He(v)),dt(re.toFixed(N),"0",I+N+(N>0?1:0));default:throw new E.aV(null,E.rH.LogicError,null,{reason:"unexpected evaluation"})}}function Ue(_){switch(_.toUpperCase().trim()){case"N":case"NORTH":return de.north;case"E":case"EAST":return de.east;case"S":case"SOUTH":return de.south;case"W":case"WEST":return de.west}return null}function Ce(_){const v=parseFloat(_);if((0,f.b)(v)){if(isNaN(v))throw new E.aV(null,E.rH.LogicError,null,{reason:"invalid conversion"});return v}throw new E.aV(null,E.rH.LogicError,null,{reason:"invalid conversion"})}function it(_,v,I){const N=I===ge.quadrant;let ne=null,re=null,O=0,ee=0,Y=0;if(N){if(_.length<2)throw new E.aV(null,E.rH.LogicError,null,{reason:"conversion error"});Y=1;const he=function ke(_){switch((0,f.g)(_)){case 1:return{first:de.north,second:de.east};case 2:return{first:de.south,second:de.east};case 3:return{first:de.south,second:de.west};case 4:return{first:de.north,second:de.west}}return null}((0,f.j)(_[_.length-1]));if(he?(ne=he.first,re=he.second):(O=1,ne=Ue((0,f.j)(_[0])),re=Ue((0,f.j)(_[_.length-1]))),null===ne||null===re)throw new E.aV(null,E.rH.LogicError,null,{reason:"invalid conversion"})}switch(v){case ie.decimal_degrees:case ie.radians:case ie.gradians:if(0===_.length)throw new E.aV(null,E.rH.LogicError,null,{reason:"invalid conversion"});return N?Me.createFromAngleMeridianAndDirection(we.createFromAngleAndUnits(Ce(_[O]),ft(v)),ne,re):Me.createFromAngleAndDirection(we.createFromAngleAndUnits(Ce(_[O]),ft(v)),I);case ie.degrees_minutes_seconds:if(ee=_.length-Y-O,3===ee){const he=we.createFromDegreesMinutesSeconds(Ce(_[O]),Ce(_[O+1]),Ce(_[O+2]));return N?Me.createFromAngleMeridianAndDirection(he,ne,re):Me.createFromAngleAndDirection(he,I)}if(1===ee){const he=Ce(_[O]),_e=Xe.numberToDms(he),p=we.createFromDegreesMinutesSeconds(_e.m_degrees,_e.m_minutes,_e.m_seconds);return N?Me.createFromAngleMeridianAndDirection(p,ne,re):Me.createFromAngleAndDirection(p,I)}}throw new E.aV(null,E.rH.LogicError,null,{reason:"invalid conversion"})}function qe(_,v,I){const N={padding:0,rounding:0,newpos:v};let ne=!1;for(;v<_.length;){const re=_[v];if(re===I)ne?N.rounding++:N.padding++,v++;else{if("."!==re)break;ne=!0,v++}}return N.newpos=v-1,N}function Ne(_,v,I){const N={escaped:"",newpos:v};for(v++;v<_.length;){const ne=_[v];if(v++,"]"===ne)break;N.escaped+=ne}return N.newpos=v-1,N}function St(_,v,I){if(!(v instanceof R.Z))throw new E.aV(null,E.rH.InvalidParameter,null);if(!1===v.hasField("directionType"))throw new E.aV(null,E.rH.LogicError,null,{reason:"missing directionType"});if(!1===v.hasField("angleType"))throw new E.aV(null,E.rH.LogicError,null,{reason:"missing angleType"});const N=ht(me(v.field("directiontype"))),ne=function At(_,v,I){if((0,f.b)(_))return function Ct(_,v,I){if(I===ge.quadrant)throw new E.aV(null,E.rH.LogicError,null,{reason:"conversion error"});if(v===ie.degrees_minutes_seconds){const N=Xe.numberToDms(_);return Me.createFromAngleAndDirection(we.createFromDegreesMinutesSeconds(N.m_degrees,N.m_minutes,N.m_seconds),I)}return Me.createFromAngleAndDirection(we.createFromAngleAndUnits(_,ft(v)),I)}((0,f.g)(_),v,I);if((0,f.c)(_))return it(function pt(_){const v=[" ","-","/","'",'"',"\\","^","\xb0",X,"\t","\r","\n","*"];let I="";for(let N=0;N<_.length;N++){const ne=_.charAt(N);v.includes(ne)?I+="RRSPLITRRSPLITRR":I+=ne}return I.split("RRSPLITRRSPLITRR").filter(N=>""!==N)}(_),v,I);if((0,f.m)(_))return it(_,v,I);if((0,f.x)(_))return it(_.toArray(),v,I);throw new E.aV(null,E.rH.LogicError,null,{reason:"conversion error"})}(_,Qe(me(v.field("angletype"))),N);if(!(I instanceof R.Z))throw new E.aV(null,E.rH.InvalidParameter,null);if(!1===I.hasField("directionType"))throw new E.aV(null,E.rH.LogicError,null,{reason:"missing directionType"});if(!1===I.hasField("outputType"))throw new E.aV(null,E.rH.LogicError,null,{reason:"missing angleType"});const re=ht(me(I.field("directiontype"))),O=I.hasField("angleType")?Qe(me(I.field("angletype"))):null,ee=me(I.field("outputType")).toUpperCase().trim();if(!re||!ee)throw new E.aV(null,E.rH.LogicError,null,{reason:"conversion error"});if(!(O||"TEXT"===ee&&I.hasField("format")))throw new E.aV(null,E.rH.LogicError,null,{reason:"invalid unit"});switch(ee){case"VALUE":return re===ge.quadrant||O===ie.degrees_minutes_seconds?function yt(_,v,I){const N=_.getAngle(v);if(v===ge.quadrant&&I===ie.degrees_minutes_seconds){const ne=Xe.secondsToDMS(N.extractAngularUnits(ie.seconds));return[Be(_.getMeridian(v),"SHORT"),ne.m_degrees,ne.m_minutes,ne.m_seconds,Be(_.getDirection(v),"SHORT")]}if(I===ie.degrees_minutes_seconds){const ne=Xe.secondsToDMS(N.extractAngularUnits(ie.seconds));return[ne.m_degrees,ne.m_minutes,ne.m_seconds]}return v===ge.quadrant?[Be(_.getMeridian(v),"SHORT"),N.extractAngularUnits(I),Be(_.getDirection(v),"SHORT")]:[N.extractAngularUnits(I)]}(ne,re,O):function Dt(_,v,I){const N=ft(I);if(N&&I!==ie.degrees_minutes_seconds)return _.getAngle(v).extractAngularUnits(N);throw new E.aV(null,E.rH.LogicError,null,{reason:"conversion error"})}(ne,re,O);case"TEXT":{let Y="";return I.hasField("format")&&(Y=(0,f.j)(I.field("format"))),null!==Y&&""!==Y||(Y=function It(_,v){let I="";switch(_){case ie.decimal_degrees:I=v===ge.quadrant?"DD.DD\xb0":"DDD.DD\xb0";break;case ie.degrees_minutes_seconds:I=v===ge.quadrant?"dd\xb0 mm' ss\"":"ddd\xb0 mm' ss.ss\"";break;case ie.radians:I="R.RR";break;case ie.gradians:I="GGG.GG"+X;break;default:throw new E.aV(null,E.rH.LogicError,null,{reason:"conversion error"})}return v===ge.quadrant&&(I="p "+I+" b"),I}(O,re)),function vt(_,v,I){let N="",ne=null,re=null;const O=at.createFromStringAndBearing(v,_,I),ee={D:ie.decimal_degrees,d:ie.truncated_degrees,m:ie.fractional_degree_minutes,s:ie.fractional_minute_seconds,R:ie.radians,G:ie.gradians};for(let Y=0;Y<v.length;Y++){const he=v[Y];switch(he){case"[":ne=Ne(v,Y),N+=ne.escaped,Y=ne.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":ne=qe(v,Y,he),re=_.getAngle(I),N+=$e(re,ee[he],ne.padding,ne.rounding,O),Y=ne.newpos;continue;case"P":case"p":N+=Be(O.fetchMeridian(),"p"===he?"SHORT":"LONG");continue;case"B":case"b":N+=Be(O.fetchDirection(),"b"===he?"SHORT":"LONG");continue;default:N+=he}}return N}(ne,Y,re)}default:throw new E.aV(null,E.rH.InvalidParameter,null)}}var _t=Z(46668),xt=Z(2004),mt=Z(72854),Bt=Z(72642),Tt=Z(37118),gt=Z(55214),Nt=Z(65234);function Mt(_,v){if(!_||!v)return _===v;if(_.x===v.x&&_.y===v.y){if(_.hasZ){if(_.z!==v.z)return!1}else if(v.hasZ)return!1;if(_.hasM){if(_.m!==v.m)return!1}else if(v.hasM)return!1;return!0}return!1}function We(_,v,I){if(null!==_)if((0,f.m)(_)){if(v.updateUint8Array([61]),I.map.has(_)){const N=I.map.get(_);v.updateIntArray([61237541^N])}else{I.map.set(_,I.currentLength++);for(const N of _)We(N,v,I);I.map.delete(_),I.currentLength--}v.updateUint8Array([199])}else if((0,f.x)(_)){if(v.updateUint8Array([61]),I.map.has(_)){const N=I.map.get(_);v.updateIntArray([61237541^N])}else{I.map.set(_,I.currentLength++);for(const N of _.toArray())We(N,v,I);I.map.delete(_),I.currentLength--}v.updateUint8Array([199])}else{if((0,f.k)(_))return v.updateIntArray([_.getTime()]),void v.updateUint8Array([241]);if((0,f.c)(_))return v.updateIntArray([_.length]),v.updateWithString(_),void v.updateUint8Array([41]);if((0,f.a)(_))v.updateUint8Array([!0===_?1:0,113]);else{if((0,f.b)(_))return v.updateFloatArray([_]),void v.updateUint8Array([173]);if(_ instanceof z.Z)throw new E.aV(I.context,E.rH.UnsupportedHashType,I.node);if(_ instanceof M.Z)throw new E.aV(I.context,E.rH.UnsupportedHashType,I.node);if(!(_ instanceof R.Z)){if((0,f.w)(_))throw new E.aV(I.context,E.rH.UnsupportedHashType,I.node);if(_ instanceof Bt.Z)return v.updateIntArray([3833836621]),v.updateIntArray([0]),v.updateFloatArray([_.x]),v.updateIntArray([1]),v.updateFloatArray([_.y]),_.hasZ&&(v.updateIntArray([2]),v.updateFloatArray([_.z])),_.hasM&&(v.updateIntArray([3]),v.updateFloatArray([_.m])),v.updateIntArray([3765347959]),void We(_.spatialReference.wkid,v,I);if(_ instanceof Tt.Z){v.updateIntArray([1266616829]);for(let N=0;N<_.rings.length;N++){const ne=_.rings[N],re=[];let O=null,ee=null;for(let Y=0;Y<ne.length;Y++){const he=_.getPoint(N,Y);if(0===Y)O=he;else if(Mt(ee,he))continue;ee=he,Y===ne.length-1&&Mt(O,he)||re.push(he)}v.updateIntArray([1397116793,re.length]);for(let Y=0;Y<re.length;Y++){const he=re[Y];v.updateIntArray([3962308117,Y]),We(he,v,I),v.updateIntArray([2716288009])}v.updateIntArray([2278822459])}return v.updateIntArray([3878477243]),void We(_.spatialReference.wkid,v,I)}if(_ instanceof gt.Z){v.updateIntArray([4106883559]);for(let N=0;N<_.paths.length;N++){const ne=_.paths[N];v.updateIntArray([1397116793,ne.length]);for(let re=0;re<ne.length;re++)v.updateIntArray([3962308117,re]),We(_.getPoint(N,re),v,I),v.updateIntArray([2716288009]);v.updateIntArray([2278822459])}return v.updateIntArray([2568784753]),void We(_.spatialReference.wkid,v,I)}if(_ instanceof mt.Z){v.updateIntArray([588535921,_.points.length]);for(let N=0;N<_.points.length;N++){const ne=_.getPoint(N);v.updateIntArray([N]),We(ne,v,I)}return v.updateIntArray([1700171621]),void We(_.spatialReference.wkid,v,I)}if(_ instanceof xt.Z)return v.updateIntArray([3483648373]),v.updateIntArray([0]),v.updateFloatArray([_.xmax]),v.updateIntArray([1]),v.updateFloatArray([_.xmin]),v.updateIntArray([2]),v.updateFloatArray([_.ymax]),v.updateIntArray([3]),v.updateFloatArray([_.ymin]),_.hasZ&&(v.updateIntArray([4]),v.updateFloatArray([_.zmax]),v.updateIntArray([5]),v.updateFloatArray([_.zmin])),_.hasM&&(v.updateIntArray([6]),v.updateFloatArray([_.mmax]),v.updateIntArray([7]),v.updateFloatArray([_.mmin])),v.updateIntArray([3622027469]),void We(_.spatialReference.wkid,v,I);if(_ instanceof Nt.Z)return v.updateIntArray([14]),null!=_.wkid&&v.updateIntArray([_.wkid]),void(_.wkt&&v.updateWithString(_.wkt));throw(0,f.i)(_)||(0,f.T)(_)||(0,f.U)(_),new E.aV(I.context,E.rH.UnsupportedHashType,I.node)}if(v.updateUint8Array([223]),I.map.has(_)){const N=I.map.get(_);v.updateIntArray([61237541^N])}else{I.map.set(_,I.currentLength++);for(const N of _.keys())v.updateIntArray([N.length]),v.updateWithString(N),v.updateUint8Array([251]),We(_.field(N),v,I),v.updateUint8Array([239]);I.map.delete(_),I.currentLength--}v.updateUint8Array([73])}}else v.updateUint8Array([0,139])}function te(_,v){_.portal=function(I,N){return v(I,N,(ne,re,O)=>((0,f.y)(O,1,1,I,N),new M.Z((0,f.j)(O[0]))))},_.typeof=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,1,1,I,N);const ee=(0,f.B)(O[0]);if("Unrecognised Type"===ee)throw new E.aV(I,E.rH.UnrecognisedType,N);return ee})},_.trim=function(I,N){return v(I,N,(ne,re,O)=>((0,f.y)(O,1,1,I,N),(0,f.j)(O[0]).trim()))},_.tohex=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,1,1,I,N);const ee=(0,f.g)(O[0]);return isNaN(ee)?ee:ee.toString(16)})},_.upper=function(I,N){return v(I,N,(ne,re,O)=>((0,f.y)(O,1,1,I,N),(0,f.j)(O[0]).toUpperCase()))},_.proper=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,1,2,I,N);let ee=1;2===O.length&&"firstword"===(0,f.j)(O[1]).toLowerCase()&&(ee=2);const Y=/\s/,he=(0,f.j)(O[0]);let _e="",p=!0;for(let T=0;T<he.length;T++){let J=he[T];Y.test(J)?1===ee&&(p=!0):J.toUpperCase()!==J.toLowerCase()&&(p?(J=J.toUpperCase(),p=!1):J=J.toLowerCase()),_e+=J}return _e})},_.lower=function(I,N){return v(I,N,(ne,re,O)=>((0,f.y)(O,1,1,I,N),(0,f.j)(O[0]).toLowerCase()))},_.guid=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,0,1,I,N),O.length>0)switch((0,f.j)(O[0]).toLowerCase()){case"digits":return(0,f.M)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,f.M)();case"digits-hyphen-braces":return"{"+(0,f.M)()+"}";case"digits-hyphen-parentheses":return"("+(0,f.M)()+")"}return"{"+(0,f.M)()+"}"})},_.standardizeguid=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,2,2,I,N);let ee=(0,f.j)(O[0]);if(""===ee||null===ee)return"";const Y=/^(\{|\()?(?<partA>[0-9a-z]{8})(\-?)(?<partB>[0-9a-z]{4})(\-?)(?<partC>[0-9a-z]{4})(\-?)(?<partD>[0-9a-z]{4})(\-?)(?<partE>[0-9a-z]{12})(\}|\))?$/gim.exec(ee);if(!Y)return"";const he=Y.groups;switch(ee=he.partA+"-"+he.partB+"-"+he.partC+"-"+he.partD+"-"+he.partE,(0,f.j)(O[1]).toLowerCase()){case"digits":return ee.replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return ee;case"digits-hyphen-braces":return"{"+ee+"}";case"digits-hyphen-parentheses":return"("+ee+")"}return"{"+ee+"}"})},_.console=function(I,N){return v(I,N,(ne,re,O)=>(0===O.length||I.console((0,f.j)(1===O.length?O[0]:O)),f.v))},_.mid=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,2,3,I,N);let ee=(0,f.g)(O[1]);if(isNaN(ee))return"";if(ee<0&&(ee=0),2===O.length)return(0,f.j)(O[0]).substr(ee);let Y=(0,f.g)(O[2]);return isNaN(Y)?"":(Y<0&&(Y=0),(0,f.j)(O[0]).substr(ee,Y))})},_.find=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,2,3,I,N);let ee=0;if(O.length>2){if(ee=(0,f.g)((0,f.A)(O[2],0)),isNaN(ee))return-1;ee<0&&(ee=0)}return(0,f.j)(O[1]).indexOf((0,f.j)(O[0]),ee)})},_.left=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,2,2,I,N);let ee=(0,f.g)(O[1]);return isNaN(ee)?"":(ee<0&&(ee=0),(0,f.j)(O[0]).substr(0,ee))})},_.right=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,2,2,I,N);let ee=(0,f.g)(O[1]);return isNaN(ee)?"":(ee<0&&(ee=0),(0,f.j)(O[0]).substr(-1*ee,ee))})},_.split=function(I,N){return v(I,N,(ne,re,O)=>{let ee;(0,f.y)(O,2,4,I,N);let Y=(0,f.g)((0,f.A)(O[2],-1));const he=(0,f.h)((0,f.A)(O[3],!1));if(-1===Y||null===Y||!0===he?ee=(0,f.j)(O[0]).split((0,f.j)(O[1])):(isNaN(Y)&&(Y=-1),Y<-1&&(Y=-1),ee=(0,f.j)(O[0]).split((0,f.j)(O[1]),Y)),!1===he)return ee;const _e=[];for(let p=0;p<ee.length&&!(-1!==Y&&_e.length>=Y);p++)""!==ee[p]&&void 0!==ee[p]&&_e.push(ee[p]);return _e})},_.text=function(I,N){return v(I,N,(ne,re,O)=>((0,f.y)(O,1,2,I,N),(0,f.t)(O[0],O[1])))},_.concatenate=function(I,N){return v(I,N,(ne,re,O)=>{const ee=[];if(O.length<1)return"";if((0,f.m)(O[0])){const Y=(0,f.A)(O[2],"");for(let he=0;he<O[0].length;he++)ee[he]=(0,f.t)(O[0][he],Y);return ee.join(O.length>1?O[1]:"")}if((0,f.x)(O[0])){const Y=(0,f.A)(O[2],"");for(let he=0;he<O[0].length();he++)ee[he]=(0,f.t)(O[0].get(he),Y);return ee.join(O.length>1?O[1]:"")}for(let Y=0;Y<O.length;Y++)ee[Y]=(0,f.t)(O[Y]);return ee.join("")})},_.reverse=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),(0,f.m)(O[0])){const ee=O[0].slice(0);return ee.reverse(),ee}if((0,f.x)(O[0])){const ee=O[0].toArray().slice(0);return ee.reverse(),ee}throw new E.aV(I,E.rH.InvalidParameter,N)})},_.replace=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,3,4,I,N);const ee=(0,f.j)(O[0]),Y=(0,f.j)(O[1]),he=(0,f.j)(O[2]);return 4!==O.length||(0,f.h)(O[3])?(0,f.L)(ee,Y,he):ee.replace(Y,he)})},_.schema=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.w)(O[0])){const ee=(0,f.N)(O[0]);return ee?R.Z.convertObjectToArcadeDictionary(ee):null}throw new E.aV(I,E.rH.InvalidParameter,N)})},_.subtypes=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),(0,f.w)(O[0])){const ee=(0,f.O)(O[0]);return ee?R.Z.convertObjectToArcadeDictionary(ee):null}throw new E.aV(I,E.rH.InvalidParameter,N)})},_.subtypecode=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),(0,f.w)(O[0])){const ee=(0,f.O)(O[0]);if(!ee)return null;if(ee.subtypeField&&O[0].hasField(ee.subtypeField)){const Y=O[0].field(ee.subtypeField);for(const he of ee.subtypes)if(he.code===Y)return he.code;return null}return null}throw new E.aV(I,E.rH.InvalidParameter,N)})},_.subtypename=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),(0,f.w)(O[0])){const ee=(0,f.O)(O[0]);if(!ee)return"";if(ee.subtypeField&&O[0].hasField(ee.subtypeField)){const Y=O[0].field(ee.subtypeField);for(const he of ee.subtypes)if(he.code===Y)return he.name;return""}return""}throw new E.aV(I,E.rH.InvalidParameter,N)})},_.gdbversion=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),(0,f.w)(O[0]))return O[0].gdbVersion();throw new E.aV(I,E.rH.InvalidParameter,N)})},_.domain=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,2,3,I,N),(0,f.w)(O[0])){const ee=(0,f.P)(O[0],(0,f.j)(O[1]),void 0===O[2]?void 0:(0,f.g)(O[2]));return ee&&ee.domain?R.Z.convertObjectToArcadeDictionary("coded-value"===ee.domain.type||"codedValue"===ee.domain.type?{type:"codedValue",name:ee.domain.name,dataType:K.yE[ee.field.type],codedValues:ee.domain.codedValues.map(Y=>({name:Y.name,code:Y.code}))}:{type:"range",name:ee.domain.name,dataType:K.yE[ee.field.type],min:ee.domain.min,max:ee.domain.max}):null}throw new E.aV(I,E.rH.InvalidParameter,N)})},_.domainname=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,2,4,I,N),(0,f.w)(O[0]))return(0,f.Q)(O[0],(0,f.j)(O[1]),O[2],void 0===O[3]?void 0:(0,f.g)(O[3]));throw new E.aV(I,E.rH.InvalidParameter,N)})},_.domaincode=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,2,4,I,N),(0,f.w)(O[0]))return(0,f.S)(O[0],(0,f.j)(O[1]),O[2],void 0===O[3]?void 0:(0,f.g)(O[3]));throw new E.aV(I,E.rH.InvalidParameter,N)})},_.urlencode=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),null===O[0])return"";if(O[0]instanceof R.Z){let ee="";for(const Y of O[0].keys()){const he=O[0].field(Y);""!==ee&&(ee+="&"),ee+=null===he?encodeURIComponent(Y)+"=":encodeURIComponent(Y)+"="+encodeURIComponent(he)}return ee}return encodeURIComponent((0,f.j)(O[0]))})},_.hash=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,1,1,I,N);const ee=new _t.a(0);return We(O[0],ee,{context:I,node:N,map:new Map,currentLength:0}),ee.digest()})},_.convertdirection=function(I,N){return v(I,N,(ne,re,O)=>((0,f.y)(O,3,3,I,N),St(O[0],O[1],O[2])))},_.fromjson=function(I,N){return v(I,N,(ne,re,O)=>{if((0,f.y)(O,1,1,I,N),!1===(0,f.c)(O[0]))throw new E.aV(I,E.rH.InvalidParameter,N);return R.Z.convertJsonToArcade(JSON.parse((0,f.j)(O[0])))})},_.expects=function(I,N){return v(I,N,(ne,re,O)=>{if(O.length<1)throw new E.aV(I,E.rH.WrongNumberOfParameters,N);return f.v})},_.tocharcode=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,1,2,I,N);const ee=(0,f.g)((0,f.A)(O[1],0)),Y=(0,f.j)(O[0]);if(0===Y.length&&1===O.length)return null;if(Y.length<=ee||ee<0)throw new E.aV(I,E.rH.OutOfBounds,N);return Y.charCodeAt(ee)})},_.tocodepoint=function(I,N){return v(I,N,(ne,re,O)=>{(0,f.y)(O,1,2,I,N);const ee=(0,f.g)((0,f.A)(O[1],0)),Y=(0,f.j)(O[0]);if(0===Y.length&&1===O.length)return null;if(Y.length<=ee||ee<0)throw new E.aV(I,E.rH.OutOfBounds,N);return Y.codePointAt(ee)})},_.fromcharcode=function(I,N){return v(I,N,(ne,re,O)=>{if(O.length<1)throw new E.aV(I,E.rH.WrongNumberOfParameters,N);const ee=O.map(Y=>Math.trunc((0,f.g)(Y))).filter(Y=>Y>=0&&Y<=65535);return 0===ee.length?null:String.fromCharCode.apply(null,ee)})},_.fromcodepoint=function(I,N){return v(I,N,(ne,re,O)=>{if(O.length<1)throw new E.aV(I,E.rH.WrongNumberOfParameters,N);let ee;try{ee=O.map(Y=>Math.trunc((0,f.g)(Y))).filter(Y=>Y<=1114111&&Y>>>0===Y)}catch{return null}return 0===ee.length?null:String.fromCodePoint.apply(null,ee)})}}},27187:(Ve,De,Z)=>{Z.d(De,{EI:()=>z,Lz:()=>E,SV:()=>R,r1:()=>K});var M=Z(2004);function z(Q){if(null==Q)return null;if("number"==typeof Q)return Q;let b=Q.toLowerCase();switch(b=b.replace(/\s/g,""),b=b.replace(/-/g,""),b){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109439;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function R(Q){if(null==Q)return null;switch(Q.type){case"polygon":case"multipoint":case"polyline":return Q.extent;case"point":return new M.Z({xmin:Q.x,ymin:Q.y,xmax:Q.x,ymax:Q.y,spatialReference:Q.spatialReference});case"extent":return Q}return null}function E(Q){if(null==Q)return null;if("number"==typeof Q)return Q;let b=Q.toLowerCase();switch(b=b.replace(/\s/g,""),b=b.replace(/-/g,""),b){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9093;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function K(Q){if(null==Q)return null;const b=Q.clone();return void 0!==Q.cache._geVersion&&(b.cache._geVersion=Q.cache._geVersion),b}},19927:(Ve,De,Z)=>{Z.d(De,{Kq:()=>B,Vf:()=>H,bV:()=>W,dN:()=>C,gW:()=>Q,mb:()=>k,w8:()=>A,x5:()=>$});const M={all:{min:2,max:2},none:{min:2,max:2},any:{min:2,max:2},reduce:{min:2,max:3},map:{min:2,max:2},filter:{min:2,max:2},fromcodepoint:{min:1,max:-1},fromcharcode:{min:1,max:-1},tocodepoint:{min:1,max:2},tocharcode:{min:1,max:2},concatenate:{min:0,max:-1},expects:{min:1,max:-1},getfeatureset:{min:1,max:2},week:{min:1,max:2},fromjson:{min:1,max:1},length3d:{min:1,max:2},tohex:{min:1,max:1},hash:{min:1,max:1},isoweek:{min:1,max:1},isoweekday:{min:1,max:1},hasvalue:{min:2,max:2},isomonth:{min:1,max:1},isoyear:{min:1,max:1},resize:{min:2,max:3},slice:{min:0,max:-1},splice:{min:0,max:-1},push:{min:2,max:2},pop:{min:1,max:1},includes:{min:2,max:2},array:{min:1,max:2},front:{min:1,max:1},back:{min:1,max:1},insert:{min:3,max:3},erase:{min:2,max:2},split:{min:2,max:4},guid:{min:0,max:1},standardizeguid:{min:2,max:2},today:{min:0,max:0},angle:{min:2,max:3},bearing:{min:2,max:3},urlencode:{min:1,max:1},now:{min:0,max:0},timestamp:{min:0,max:0},day:{min:1,max:1},month:{min:1,max:1},year:{min:1,max:1},hour:{min:1,max:1},second:{min:1,max:1},millisecond:{min:1,max:1},minute:{min:1,max:1},weekday:{min:1,max:1},toutc:{min:1,max:1},tolocal:{min:1,max:1},date:{min:0,max:7},datediff:{min:2,max:3},dateadd:{min:2,max:3},trim:{min:1,max:1},text:{min:1,max:2},left:{min:2,max:2},right:{min:2,max:2},mid:{min:2,max:3},upper:{min:1,max:1},proper:{min:1,max:2},lower:{min:1,max:1},find:{min:2,max:3},iif:{min:3,max:3},decode:{min:2,max:-1},when:{min:2,max:-1},defaultvalue:{min:2,max:2},isempty:{min:1,max:1},domaincode:{min:2,max:4},domainname:{min:2,max:4},polygon:{min:1,max:1},point:{min:1,max:1},polyline:{min:1,max:1},extent:{min:1,max:1},multipoint:{min:1,max:1},ringisclockwise:{min:1,max:1},geometry:{min:1,max:1},count:{min:0,max:-1},number:{min:1,max:2},acos:{min:1,max:1},asin:{min:1,max:1},atan:{min:1,max:1},atan2:{min:2,max:2},ceil:{min:1,max:2},floor:{min:1,max:2},round:{min:1,max:2},cos:{min:1,max:1},exp:{min:1,max:1},log:{min:1,max:1},min:{min:0,max:-1},constrain:{min:3,max:3},console:{min:0,max:-1},max:{min:0,max:-1},pow:{min:2,max:2},random:{min:0,max:0},sqrt:{min:1,max:1},sin:{min:1,max:1},tan:{min:1,max:1},abs:{min:1,max:1},isnan:{min:1,max:1},stdev:{min:0,max:-1},average:{min:0,max:-1},mean:{min:0,max:-1},sum:{min:0,max:-1},variance:{min:0,max:-1},distinct:{min:0,max:-1},first:{min:1,max:1},top:{min:2,max:2},boolean:{min:1,max:1},dictionary:{min:0,max:-1},typeof:{min:1,max:1},reverse:{min:1,max:1},replace:{min:3,max:4},sort:{min:1,max:2},feature:{min:1,max:-1},haskey:{min:2,max:2},indexof:{min:2,max:2},disjoint:{min:2,max:2},intersects:{min:2,max:2},touches:{min:2,max:2},crosses:{min:2,max:2},within:{min:2,max:2},contains:{min:2,max:2},overlaps:{min:2,max:2},equals:{min:2,max:2},relate:{min:3,max:3},intersection:{min:2,max:2},union:{min:1,max:2},difference:{min:2,max:2},symmetricdifference:{min:2,max:2},clip:{min:2,max:2},cut:{min:2,max:2},area:{min:1,max:2},areageodetic:{min:1,max:2},length:{min:1,max:2},lengthgeodetic:{min:1,max:2},distancegeodetic:{min:2,max:3},distance:{min:2,max:3},densify:{min:2,max:3},densifygeodetic:{min:2,max:3},generalize:{min:2,max:4},buffer:{min:2,max:3},buffergeodetic:{min:2,max:3},offset:{min:2,max:6},rotate:{min:2,max:3},issimple:{min:1,max:1},simplify:{min:1,max:1},convexhull:{min:1,max:1},centroid:{min:1,max:1},isselfintersecting:{min:1,max:1},multiparttosinglepart:{min:1,max:1},setgeometry:{min:2,max:2},portal:{min:1,max:1},getuser:{min:0,max:2},subtypes:{min:1,max:1},subtypecode:{min:1,max:1},subtypename:{min:1,max:1},domain:{min:2,max:3},convertdirection:{min:3,max:3},schema:{min:1,max:1}},z={functionDefinitions:new Map,constantDefinitions:new Map},R={functionDefinitions:new Map,constantDefinitions:new Map};for(const S of["pi","infinity"])R.constantDefinitions.set(S,{type:"constant"}),z.constantDefinitions.set(S,{type:"constant"});R.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"newline",type:"constant"}]}),z.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"newline",type:"constant"}]});for(const S in M){const c=M[S];R.functionDefinitions.set(S,{overloads:[{type:"function",parametersInfo:{min:c.min,max:c.max}}]}),z.functionDefinitions.set(S,{overloads:[{type:"function",parametersInfo:{min:c.min,max:c.max}}]})}const E=["featureset","getuser","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","getfeatureset","attachments","featuresetbyportalitem"],f=["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","length3d","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","convexhull","simplify","multiparttosinglepart"];function K(S){return"string"==typeof S||S instanceof String}function Q(S,c){const g="sync"===c?z:R;g.functionDefinitions.has(S.name.toLowerCase())?g.functionDefinitions.get(S.name.toLowerCase())?.overloads.push({type:"function",parametersInfo:{min:S.min,max:S.max}}):g.functionDefinitions.set(S.name.toLowerCase(),{overloads:[{type:"function",parametersInfo:{min:S.min,max:S.max}}]})}function b(S,c){if(S)for(const g of S)F(g,c)}function F(S,c){if(S&&!1!==c(S))switch(S.type){case"ImportDeclaration":b(S.specifiers,c),F(S.source,c);break;case"ExportNamedDeclaration":F(S.declaration,c);break;case"ArrayExpression":b(S.elements,c);break;case"AssignmentExpression":case"BinaryExpression":case"LogicalExpression":F(S.left,c),F(S.right,c);break;case"BlockStatement":case"Program":b(S.body,c);break;case"BreakStatement":case"ContinueStatement":case"EmptyStatement":case"Identifier":case"Literal":break;case"CallExpression":F(S.callee,c),b(S.arguments,c);break;case"ExpressionStatement":F(S.expression,c);break;case"ForInStatement":F(S.left,c),F(S.right,c),F(S.body,c);break;case"ForStatement":F(S.init,c),F(S.test,c),F(S.update,c),F(S.body,c);break;case"WhileStatement":F(S.test,c),F(S.body,c);break;case"FunctionDeclaration":F(S.id,c),b(S.params,c),F(S.body,c);break;case"IfStatement":F(S.test,c),F(S.consequent,c),F(S.alternate,c);break;case"MemberExpression":F(S.object,c),F(S.property,c);break;case"ObjectExpression":b(S.properties,c);break;case"Property":F(S.key,c),F(S.value,c);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":F(S.argument,c);break;case"VariableDeclaration":b(S.declarations,c);break;case"VariableDeclarator":F(S.id,c),F(S.init,c);break;case"TemplateLiteral":b(S.expressions,c),b(S.quasis,c)}}function W(S,c){let g=!1;const y=c.toLowerCase();return F(S,w=>!g&&("Identifier"===w.type&&w.name&&w.name.toLowerCase()===y&&(g=!0),!0)),g}function $(S){const c=[];return F(S,g=>("ImportDeclaration"===g.type&&g.source&&g.source.value&&c.push({libname:g.specifiers[0].local.name.toLowerCase(),source:g.source.value}),!0)),c}function A(S,c){let g=!1;const y=c.toLowerCase();return F(S,w=>!(g||"CallExpression"===w.type&&"Identifier"===w.callee.type&&w.callee.name&&w.callee.name.toLowerCase()===y&&(g=!0,1))),g}function k(S){const c=[];return F(S,g=>"MemberExpression"!==g.type||"Identifier"!==g.object.type||(!1===g.computed&&g.object&&g.object.name&&g.property&&"Identifier"===g.property.type&&g.property.name?c.push(g.object.name.toLowerCase()+"."+g.property.name.toLowerCase()):g.object&&g.object.name&&g.property&&"Literal"===g.property.type&&"string"==typeof g.property.value&&c.push(g.object.name.toLowerCase()+"."+g.property.value?.toString().toLowerCase()),!1)),c}function B(S){const c=[];return F(S,g=>{if("CallExpression"===g.type){if("Identifier"===g.callee.type&&"expects"===g.callee.name.toLowerCase()){let y="";for(let w=0;w<(g.arguments||[]).length;w++)0===w?"Identifier"===g.arguments[w].type&&(y=g.arguments[w].name.toLowerCase()):y&&"Literal"===g.arguments[w].type&&K(g.arguments[w].value)&&c.push(y+"."+g.arguments[w].value.toLowerCase());return!1}if("Identifier"===g.callee.type&&["domainname","domaincode","domain","haskey"].includes(g.callee.name.toLowerCase())&&g.arguments.length>=2){let y="";return"Identifier"===g.arguments[0].type&&(y=g.arguments[0].name.toLowerCase()),y&&"Literal"===g.arguments[1].type&&K(g.arguments[1].value)&&c.push(y+"."+g.arguments[1].value.toLowerCase()),!1}}return"MemberExpression"!==g.type||"Identifier"!==g.object.type||(!1===g.computed&&g.object&&g.object.name&&g.property&&"Identifier"===g.property.type&&g.property.name?c.push(g.object.name.toLowerCase()+"."+g.property.name.toLowerCase()):g.object&&g.object.name&&g.property&&"Literal"===g.property.type&&"string"==typeof g.property.value&&c.push(g.object.name.toLowerCase()+"."+g.property.value?.toString().toLowerCase()),!1)}),c}function H(S){const c=[];return F(S,g=>("CallExpression"===g.type&&"Identifier"===g.callee.type&&c.push(g.callee.name.toLowerCase()),!0)),c}function C(S,c=[]){let g=null;if(void 0===S.usesFeatureSet){null===g&&(g=H(S)),S.usesFeatureSet=!1;for(let y=0;y<g.length;y++)E.includes(g[y])&&(S.usesFeatureSet=!0,S.isAsync=!0);if(!1===S.usesFeatureSet&&c&&c.length>0)for(const y of c)if(W(S,y)){S.usesFeatureSet=!0,S.isAsync=!0;break}}if(void 0===S.usesModules&&(S.usesModules=!1,$(S).length>0&&(S.usesModules=!0)),void 0===S.usesGeometry){S.usesGeometry=!1,null===g&&(g=H(S));for(let y=0;y<g.length;y++)f.includes(g[y])&&(S.usesGeometry=!0)}}},67525:(Ve,De,Z)=>{Z.d(De,{A:()=>Q});var M=Z(15861),z=Z(25919),R=Z(98362),E=Z(47562),f=Z(10699);const Q=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:function K(b){function F(C,L,S){if(C instanceof R.Z)return C.toArray();if((0,E.m)(C))return C;throw new z.aV(L,z.rH.InvalidParameter,S)}function W(C,L){const S=C.length,c=Math.floor(S/2);return 0===S?[]:1===S?[C[0]]:function $(C,L,S){const c=[];for(;C.length>0||L.length>0;)if(C.length>0&&L.length>0){let g=S(C[0],L[0]);isNaN(g)&&(g=0),g<=0?(c.push(C[0]),C=C.slice(1)):(c.push(L[0]),L=L.slice(1))}else C.length>0?(c.push(C[0]),C=C.slice(1)):L.length>0&&(c.push(L[0]),L=L.slice(1));return c}(W(C.slice(0,c),L),W(C.slice(c,S),L),L)}function A(C,L){return k.apply(this,arguments)}function k(){return(k=(0,M.Z)(function*(C,L){const S=C.length,c=Math.floor(S/2);if(0===S)return[];if(1===S)return[C[0]];const g=[yield A(C.slice(0,c),L),yield A(C.slice(c,S),L)];return B(g[0],g[1],L,[])})).apply(this,arguments)}function B(C,L,S,c){return G.apply(this,arguments)}function G(){return(G=(0,M.Z)(function*(C,L,S,c){const g=c;if(!(C.length>0||L.length>0))return c;if(C.length>0&&L.length>0){let y=yield S(C[0],L[0]);return isNaN(y)&&(y=1),y<=0?(g.push(C[0]),C=C.slice(1)):(g.push(L[0]),L=L.slice(1)),B(C,L,S,c)}return C.length>0?(g.push(C[0]),B(C=C.slice(1),L,S,c)):L.length>0?(g.push(L[0]),B(C,L=L.slice(1),S,c)):void 0})).apply(this,arguments)}function H(C,L,S,c){(0,E.y)(S,1,2,C,L);let g=S[0];if((0,E.x)(g)&&(g=g.toArray()),!1===(0,E.m)(g))throw new z.aV(C,z.rH.InvalidParameter,L);if(S.length>1){if(!1===(0,E.i)(S[1]))throw new z.aV(C,z.rH.InvalidParameter,L);let l=g;const x=S[1].createFunction(C);return c?A(l,x):(l=W(l,(j,X)=>x(j,X)),l)}let y=g;if(0===y.length)return[];const w={};for(let l=0;l<y.length;l++){const x=(0,E.B)(y[l]);""!==x&&(w[x]=!0)}if(!0===w.Array||!0===w.Dictionary||!0===w.Feature||!0===w.Point||!0===w.Polygon||!0===w.Polyline||!0===w.Multipoint||!0===w.Extent||!0===w.Function)return y.slice(0);let U=0,V="";for(const l in w)U++,V=l;return y=U>1||"String"===V?W(y,(l,x)=>{if(null==l||l===E.v)return null==x||x===E.v?0:1;if(null==x||x===E.v)return-1;const j=(0,E.j)(l),X=(0,E.j)(x);return j<X?-1:j===X?0:1}):"Number"===V?W(y,(l,x)=>l-x):"Boolean"===V?W(y,(l,x)=>l===x?0:x?-1:1):"Date"===V?W(y,(l,x)=>x-l):y.slice(0),y}b.functions.array=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,1,2,C,L);const y=(0,E.g)(g[0]);if(isNaN(y)||!1===(0,E.z)(y))throw new z.aV(C,z.rH.InvalidParameter,L);const w=(0,E.A)(g[1],null),U=new Array(y);return U.fill(w),U})},b.functions.front=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,1,1,C,L),(0,E.x)(g[0])){if(g[0].length()<=0)throw new z.aV(C,z.rH.OutOfBounds,L);return g[0].get(0)}if((0,E.m)(g[0])){if(g[0].length<=0)throw new z.aV(C,z.rH.OutOfBounds,L);return g[0][0]}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.back=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,1,1,C,L),(0,E.x)(g[0])){if(g[0].length()<=0)throw new z.aV(C,z.rH.OutOfBounds,L);return g[0].get(g[0].length()-1)}if((0,E.m)(g[0])){if(g[0].length<=0)throw new z.aV(C,z.rH.OutOfBounds,L);return g[0][g[0].length-1]}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.push=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,1,2,C,L),(0,E.m)(g[0]))return g[0][g[0].length]=g[1],g[0].length;throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.pop=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,1,1,C,L),(0,E.m)(g[0])){if(g[0].length<=0)throw new z.aV(C,z.rH.OutOfBounds,L);const y=g[0][g[0].length-1];return g[0].length=g[0].length-1,y}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.erase=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,2,2,C,L),(0,E.m)(g[0])){let y=(0,E.g)(g[1]);if(isNaN(y)||!1===(0,E.z)(y))throw new z.aV(C,z.rH.InvalidParameter,L);const w=g[0];if(w.length<=0)throw new z.aV(C,z.rH.OutOfBounds,L);if(y<0&&(y=w.length+y),y<0)throw new z.aV(C,z.rH.OutOfBounds,L);if(y>=w.length)throw new z.aV(C,z.rH.OutOfBounds,L);return w.splice(y,1),E.v}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.insert=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,3,3,C,L),(0,E.m)(g[0])){const y=(0,E.g)(g[1]);if(isNaN(y)||!1===(0,E.z)(y))throw new z.aV(C,z.rH.InvalidParameter,L);const w=g[2],U=g[0];if(y>U.length)throw new z.aV(C,z.rH.OutOfBounds,L);if(y<0&&y<-1*U.length)throw new z.aV(C,z.rH.OutOfBounds,L);return y===U.length?(U[y]=w,E.v):(U.splice(y,0,w),E.v)}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.resize=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,2,3,C,L),(0,E.m)(g[0])){const y=(0,E.g)(g[1]);if(isNaN(y)||!1===(0,E.z)(y))throw new z.aV(C,z.rH.InvalidParameter,L);if(y<0)throw new z.aV(C,z.rH.InvalidParameter,L);const w=(0,E.A)(g[2],null),U=g[0];if(U.length>=y)return U.length=y,E.v;const V=U.length;U.length=y;for(let l=V;l<U.length;l++)U[l]=w;return E.v}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.includes=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,2,2,C,L),(0,E.m)(g[0])){const y=g[1];return g[0].findIndex(w=>(0,E.s)(w,y))>-1}if((0,E.x)(g[0])){const y=g[1];return g[0].toArray().findIndex(w=>(0,E.s)(w,y))>-1}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.slice=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,1,3,C,L),(0,E.m)(g[0])){const y=(0,E.g)((0,E.A)(g[1],0)),w=(0,E.g)((0,E.A)(g[2],g[0].length));if(isNaN(y)||!1===(0,E.z)(y))throw new z.aV(C,z.rH.InvalidParameter,L);if(isNaN(w)||!1===(0,E.z)(w))throw new z.aV(C,z.rH.InvalidParameter,L);return g[0].slice(y,w)}if((0,E.x)(g[0])){const y=g[0],w=(0,E.g)((0,E.A)(g[1],0)),U=(0,E.g)((0,E.A)(g[2],y.length()));if(isNaN(w)||!1===(0,E.z)(w))throw new z.aV(C,z.rH.InvalidParameter,L);if(isNaN(U)||!1===(0,E.z)(U))throw new z.aV(C,z.rH.InvalidParameter,L);return y.toArray().slice(w,U)}throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.splice=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{const y=[];for(let w=0;w<g.length;w++)(0,E.m)(g[w])?y.push(...g[w]):(0,E.x)(g[w])?y.push(...g[w].toArray()):y.push(g[w]);return y})},b.functions.top=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{if((0,E.y)(g,2,2,C,L),(0,E.m)(g[0]))return(0,E.g)(g[1])>=g[0].length?g[0].slice(0):g[0].slice(0,(0,E.g)(g[1]));if((0,E.x)(g[0]))return(0,E.g)(g[1])>=g[0].length()?g[0].slice(0):g[0].slice(0,(0,E.g)(g[1]));throw new z.aV(C,z.rH.InvalidParameter,L)})},b.functions.first=function(C,L){return b.standardFunction(C,L,(S,c,g)=>((0,E.y)(g,1,1,C,L),(0,E.m)(g[0])?0===g[0].length?null:g[0][0]:(0,E.x)(g[0])?0===g[0].length()?null:g[0].get(0):null))},"sync"===b.mode&&(b.functions.sort=function(C,L){return b.standardFunction(C,L,(S,c,g)=>H(C,L,g,!1))},b.functions.any=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,2,2,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L);for(const U of w){const V=y(U);if((0,E.a)(V)&&!0===V)return!0}return!1})},b.functions.all=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,2,2,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L);for(const U of w)if(!0!==y(U))return!1;return!0})},b.functions.none=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,2,2,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L);for(const U of w)if(!0===y(U))return!1;return!0})},b.functions.reduce=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,2,3,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L);return 2===g.length?0===w.length?null:w.reduce((U,V)=>{const l=y(U,V);return void 0!==l&&l!==E.v?l:null}):w.reduce((U,V)=>{const l=y(U,V);return void 0!==l&&l!==E.v?l:null},g[2])})},b.functions.map=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,2,2,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L),U=[];for(const V of w){const l=y(V);U.push(void 0!==l&&l!==E.v?l:null)}return U})},b.functions.filter=function(C,L){return b.standardFunction(C,L,(S,c,g)=>{(0,E.y)(g,2,2,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L),U=[];for(const V of w)!0===y(V)&&U.push(V);return U})}),"async"===b.mode&&(b.functions.sort=function(C,L){return b.standardFunctionAsync(C,L,(S,c,g)=>H(C,L,g,!0))},b.functions.any=function(C,L){return b.standardFunctionAsync(C,L,function(){var S=(0,M.Z)(function*(c,g,y){(0,E.y)(y,2,2,C,L);const w=y[1].createFunction(C),U=F(y[0],C,L);for(const V of U){const l=yield w(V);let x=null;if(x=(0,f.y8)(x)?yield l:l,(0,E.a)(x)&&!0===x)return!0}return!1});return function(c,g,y){return S.apply(this,arguments)}}())},b.functions.all=function(C,L){return b.standardFunctionAsync(C,L,function(){var S=(0,M.Z)(function*(c,g,y){(0,E.y)(y,2,2,C,L);const w=y[1].createFunction(C),U=F(y[0],C,L);for(const V of U){const l=yield w(V);let x=null;if(x=(0,f.y8)(x)?yield l:l,!0!==x)return!1}return!0});return function(c,g,y){return S.apply(this,arguments)}}())},b.functions.none=function(C,L){return b.standardFunctionAsync(C,L,function(){var S=(0,M.Z)(function*(c,g,y){(0,E.y)(y,2,2,C,L);const w=y[1].createFunction(C),U=F(y[0],C,L);for(const V of U){const l=yield w(V);let x=null;if(x=(0,f.y8)(x)?yield l:l,!0===x)return!1}return!0});return function(c,g,y){return S.apply(this,arguments)}}())},b.functions.filter=function(C,L){return b.standardFunctionAsync(C,L,function(){var S=(0,M.Z)(function*(c,g,y){(0,E.y)(y,2,2,C,L);const w=y[1].createFunction(C),U=F(y[0],C,L),V=[];for(const l of U){const x=yield w(l);let j=null;j=(0,f.y8)(j)?yield x:x,!0===j&&V.push(l)}return V});return function(c,g,y){return S.apply(this,arguments)}}())},b.functions.reduce=function(C,L){return b.standardFunctionAsync(C,L,(S,c,g)=>{(0,E.y)(g,2,3,C,L);const y=g[1].createFunction(C),w=F(g[0],C,L);let U=null;if(g.length>2){const V=(0,E.A)(g[2],null);U=w.reduce(function(){var l=(0,M.Z)(function*(x,j){let X=yield x;return void 0!==X&&X!==E.v||(X=null),y(X,j)});return function(x,j){return l.apply(this,arguments)}}(),Promise.resolve(V))}else{if(0===w.length)return null;U=w.reduce(function(){var V=(0,M.Z)(function*(l,x,j){if(j<=1)return y(l,x);let X=yield l;return void 0!==X&&X!==E.v||(X=null),y(X,x)});return function(l,x,j){return V.apply(this,arguments)}}())}return U.then(V=>void 0!==V&&V!==E.v?V:null)})},b.functions.map=function(C,L){return b.standardFunctionAsync(C,L,function(){var S=(0,M.Z)(function*(c,g,y){(0,E.y)(y,2,2,C,L);const w=y[1].createFunction(C),U=F(y[0],C,L),V=[];for(const l of U){const x=yield w(l);let j=null;j=(0,f.y8)(j)?yield x:x,V.push(void 0!==j&&j!==E.v?j:null)}return V});return function(c,g,y){return S.apply(this,arguments)}}())})}},Symbol.toStringTag,{value:"Module"}))},47562:(Ve,De,Z)=>{Z.d(De,{A:()=>me,B:()=>fe,C:()=>rt,D:()=>pt,E:()=>Qe,F:()=>It,G:()=>xt,H:()=>Tt,I:()=>y,J:()=>Bt,K:()=>gt,L:()=>x,M:()=>Xe,N:()=>he,O:()=>O,P:()=>re,Q:()=>ee,R:()=>w,S:()=>Y,T:()=>Be,U:()=>dt,V:()=>Ct,W:()=>We,X:()=>Nt,Y:()=>vt,Z:()=>qe,_:()=>Ne,a:()=>se,b:()=>de,c:()=>Fe,d:()=>_,e:()=>N,f:()=>oe,g:()=>Ce,h:()=>Dt,i:()=>j,j:()=>$e,k:()=>He,l:()=>it,m:()=>ge,n:()=>_e,o:()=>V,p:()=>l,q:()=>yt,r:()=>ft,s:()=>at,t:()=>ke,u:()=>te,v:()=>U,w:()=>ct,x:()=>Ye,y:()=>ht,z:()=>ie});var M=Z(15861),z=Z(7652),R=Z(98362),E=Z(5371),f=Z(26685),K=Z(2004),Q=Z(21674),b=Z(72854),F=Z(72642),W=Z(37118),$=Z(55214),A=Z(21837),k=Z(62208),B=Z(75327),G=Z(25748),H=Z(56683),C=Z(77132),L=Z(78778),S=Z(25919);class c{constructor(T){this.value=T}}class g{constructor(T){this.value=T}}const y=g,w=c,U={type:"VOID"},V={type:"BREAK"},l={type:"CONTINUE"};function x(p,T,J){return""===T||null==T||T===J||T===J?p:p=p.split(T).join(J)}function j(p){return p instanceof z.Rm}function X(p){return p instanceof L.P}function oe(p){return!!(Fe(p)||de(p)||He(p)||se(p)||null===p||p===U||"number"==typeof p)}function me(p,T){return void 0===p?T:p}function fe(p){return null==p?"":ge(p)||Ye(p)?"Array":He(p)?"Date":Fe(p)?"String":se(p)?"Boolean":de(p)?"Number":"esri.arcade.Attachment"===p?.declaredClass?"Attachment":"esri.arcade.Portal"===p?.declaredClass?"Portal":"esri.arcade.Dictionary"===p?.declaredClass?"Dictionary":p instanceof L.P?"Module":ct(p)?"Feature":p instanceof F.Z?"Point":p instanceof W.Z?"Polygon":p instanceof $.Z?"Polyline":p instanceof b.Z?"Multipoint":p instanceof K.Z?"Extent":j(p)?"Function":Be(p)?"FeatureSet":dt(p)?"FeatureSetCollection":p===U?"":"number"==typeof p&&isNaN(p)?"Number":"Unrecognised Type"}function Fe(p){return"string"==typeof p||p instanceof String}function se(p){return"boolean"==typeof p}function de(p){return"number"==typeof p}function ie(p){return"number"==typeof p&&isFinite(p)&&Math.floor(p)===p}function ge(p){return p instanceof Array}function ct(p){return"esri.arcade.Feature"===p?.arcadeDeclaredClass}function Be(p){return!0===(p&&p.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===p.declaredRootClass)}function dt(p){return!0===(p&&p.declaredRootClass&&"esri.arcade.featureSetCollection"===p.declaredRootClass)}function Ye(p){return p instanceof R.Z}function He(p){return p instanceof Date}function ht(p,T,J,ae,ce){if(p.length<T||p.length>J)throw new S.aV(ae,S.rH.WrongNumberOfParameters,ce)}function Qe(p){return p<0?-Math.round(-p):Math.round(p)}function Xe(){let p=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,T=>{const J=(p+16*Math.random())%16|0;return p=Math.floor(p/16),("x"===T?J:3&J|8).toString(16)})}function Le(p,T){return isNaN(p)||null==T||""===T?p.toString():(T=x(T,"\u2030",""),T=x(T,"\xa4",""),(0,B.WU)(p,{pattern:T}))}function Me(p,T){const J=A.ou.fromJSDate(p);return null==T||""===T?J.toISO({suppressMilliseconds:!0}):J.toFormat(rt(T),{locale:(0,H.Kd)(),numberingSystem:"latn"})}function rt(p){p=p.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let T="";const J=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const ae of p.match(J))switch(ae){case"D":T+="d";break;case"DD":T+="dd";break;case"DDD":T+="o";break;case"d":T+="c";break;case"ddd":T+="ccc";break;case"dddd":T+="cccc";break;case"M":T+="L";break;case"MM":T+="LL";break;case"MMM":T+="LLL";break;case"MMMM":T+="LLLL";break;case"YY":T+="yy";break;case"Y":case"YYYY":T+="yyyy";break;case"Q":T+="q";break;case"Z":T+="ZZ";break;case"ZZ":T+="ZZZ";break;case"S":T+="'S'";break;case"SS":T+="'SS'";break;case"SSS":T+="u";break;case"A":case"a":T+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":T+=ae;break;default:ae.length>=2&&"["===ae.slice(0,1)&&"]"===ae.slice(-1)?T+=`'${ae.slice(1,-1)}'`:T+=`'${ae}'`}return T}function we(p,T,J){switch(J){case">":return p>T;case"<":return p<T;case">=":return p>=T;case"<=":return p<=T}return!1}function ft(p,T,J){if(null===p){if(null===T||T===U)return we(null,null,J);if(de(T))return we(0,T,J);if(Fe(T)||se(T))return we(0,Ce(T),J);if(He(T))return we(0,T.getTime(),J)}if(p===U){if(null===T||T===U)return we(null,null,J);if(de(T))return we(0,T,J);if(Fe(T)||se(T))return we(0,Ce(T),J);if(He(T))return we(0,T.getTime(),J)}else if(de(p)){if(de(T))return we(p,T,J);if(se(T))return we(p,Ce(T),J);if(null===T||T===U)return we(p,0,J);if(Fe(T))return we(p,Ce(T),J);if(He(T))return we(p,T.getTime(),J)}else if(Fe(p)){if(Fe(T))return we($e(p),$e(T),J);if(He(T))return we(Ce(p),T.getTime(),J);if(de(T))return we(Ce(p),T,J);if(null===T||T===U)return we(Ce(p),0,J);if(se(T))return we(Ce(p),Ce(T),J)}else if(He(p)){if(He(T))return we(p,T,J);if(null===T||T===U)return we(p.getTime(),0,J);if(de(T))return we(p.getTime(),T,J);if(se(T)||Fe(T))return we(p.getTime(),Ce(T),J)}else if(se(p)){if(se(T))return we(p,T,J);if(de(T))return we(Ce(p),Ce(T),J);if(He(T))return we(Ce(p),T.getTime(),J);if(null===T||T===U)return we(Ce(p),0,J);if(Fe(T))return we(Ce(p),Ce(T),J)}return!!at(p,T)&&("<="===J||">="===J)}function at(p,T){if(p===T||null===p&&T===U||null===T&&p===U)return!0;if(He(p)&&He(T))return p.getTime()===T.getTime();if(p instanceof E.Z||p instanceof f.Z)return p.equalityTest(T);if(p instanceof F.Z&&T instanceof F.Z){const J=p.cache._arcadeCacheId,ae=T.cache._arcadeCacheId;if(null!=J)return J===ae}return void 0!==p&&void 0!==T&&null!==p&&null!==T&&"object"==typeof p&&"object"==typeof T&&(p._arcadeCacheId===T._arcadeCacheId&&null!=p._arcadeCacheId||p._underlyingGraphic===T._underlyingGraphic&&null!=p._underlyingGraphic)}function $e(p,T){if(Fe(p))return p;if(null===p)return"";if(de(p))return Le(p,T);if(se(p))return p.toString();if(He(p))return Me(p,T);if(p instanceof Q.Z)return JSON.stringify(p.toJSON());if(ge(p)){const J=[];for(let ae=0;ae<p.length;ae++)J[ae]=Ue(p[ae]);return"["+J.join(",")+"]"}if(p instanceof R.Z){const J=[];for(let ae=0;ae<p.length();ae++)J[ae]=Ue(p.get(ae));return"["+J.join(",")+"]"}return null!==p&&"object"==typeof p&&void 0!==p.castToText?p.castToText():j(p)?"object, Function":p===U?"":X(p)?"object, Module":""}function Ct(p){const T=[];if(!ge(p))return null;if(p instanceof R.Z){for(let J=0;J<p.length();J++)T[J]=Ce(p.get(J));return T}for(let J=0;J<p.length;J++)T[J]=Ce(p[J]);return T}function ke(p,T,J=!1){if(Fe(p))return p;if(null===p)return"";if(de(p))return Le(p,T);if(se(p))return p.toString();if(He(p))return Me(p,T);if(p instanceof Q.Z)return p instanceof K.Z?'{"xmin":'+p.xmin.toString()+',"ymin":'+p.ymin.toString()+","+(p.hasZ?'"zmin":'+p.zmin.toString()+",":"")+(p.hasM?'"mmin":'+p.mmin.toString()+",":"")+'"xmax":'+p.xmax.toString()+',"ymax":'+p.ymax.toString()+","+(p.hasZ?'"zmax":'+p.zmax.toString()+",":"")+(p.hasM?'"mmax":'+p.mmax.toString()+",":"")+'"spatialReference":'+_t(p.spatialReference)+"}":_t(p.toJSON(),(ae,ce)=>ae.key===ce.key?0:"spatialReference"===ae.key?1:"spatialReference"===ce.key||ae.key<ce.key?-1:ae.key>ce.key?1:0);if(ge(p)){const ae=[];for(let ce=0;ce<p.length;ce++)ae[ce]=Ue(p[ce],J);return"["+ae.join(",")+"]"}if(p instanceof R.Z){const ae=[];for(let ce=0;ce<p.length();ce++)ae[ce]=Ue(p.get(ce),J);return"["+ae.join(",")+"]"}return null!==p&&"object"==typeof p&&void 0!==p.castToText?p.castToText(J):j(p)?"object, Function":p===U?"":X(p)?"object, Module":""}function Ue(p,T=!1){if(null===p)return"null";if(se(p)||de(p)||Fe(p))return JSON.stringify(p);if(p instanceof Q.Z||p instanceof R.Z||p instanceof Array)return ke(p,null,T);if(p instanceof Date)return T?JSON.stringify(p.getTime()):JSON.stringify(Me(p,""));if(null!==p&&"object"==typeof p){if(void 0!==p.castToText)return p.castToText(T)}else if(p===U)return"null";return"null"}function Ce(p,T){return de(p)?p:null===p||""===p?0:He(p)?NaN:se(p)?p?1:0:ge(p)||""===p||void 0===p?NaN:void 0!==T&&Fe(p)?(T=x(T,"\u2030",""),T=x(T,"\xa4",""),(0,B.Qc)(p,{pattern:T})):p===U?0:Number(p)}function it(p){if(He(p))return p;if(Fe(p)){const T=At(p);if(T)return T.toJSDate()}return null}function pt(p){return He(p)?A.ou.fromJSDate(p):Fe(p)?At(p):null}function At(p){const T=/ (\d\d)/;let J=A.ou.fromISO(p);return J.isValid||T.test(p)&&(p=p.replace(T,"T$1"),J=A.ou.fromISO(p),J.isValid)?J:null}function Dt(p){return se(p)?p:Fe(p)?"true"===(p=p.toLowerCase()):!!de(p)&&0!==p&&!isNaN(p)}function yt(p,T){return(0,k.Wi)(p)?null:(null!=p.spatialReference||(p.spatialReference=T),p)}function It(p){if(null===p)return null;if(p instanceof F.Z)return"NaN"===p.x||null===p.x||isNaN(p.x)?null:p;if(p instanceof W.Z){if(0===p.rings.length)return null;for(const T of p.rings)if(T.length>0)return p;return null}if(p instanceof $.Z){if(0===p.paths.length)return null;for(const T of p.paths)if(T.length>0)return p;return null}return p instanceof b.Z?0===p.points.length?null:p:p instanceof K.Z?"NaN"===p.xmin||null===p.xmin||isNaN(p.xmin)?null:p:null}function qe(p,T){if(!p||!p.domain)return T;let J=null;if("string"===p.field.type||"esriFieldTypeString"===p.field.type)T=$e(T);else{if(null==T)return null;if(""===T)return T;T=Ce(T)}for(let ae=0;ae<p.domain.codedValues.length;ae++){const ce=p.domain.codedValues[ae];ce.code===T&&(J=ce)}return null===J?T:J.name}function Ne(p,T){if(!p||!p.domain)return T;let J=null;T=$e(T);for(let ae=0;ae<p.domain.codedValues.length;ae++){const ce=p.domain.codedValues[ae];ce.name===T&&(J=ce)}return null===J?T:J.code}function vt(p,T,J=null,ae=null){if(!T||!T.fields)return null;let ce,be,Pe=null;for(let Te=0;Te<T.fields.length;Te++){const ze=T.fields[Te];ze.name.toLowerCase()===p.toString().toLowerCase()&&(Pe=ze)}if(null===Pe)throw new S.aV(null,S.rH.FieldNotFound,null,{key:p});return null===ae&&J&&T.typeIdField&&(ae=J.hasField(T.typeIdField)?J.field(T.typeIdField):null),null!=ae&&T.types.some(Te=>Te.id===ae&&(ce=Te.domains&&Te.domains[Pe.name],ce&&"inherited"===ce.type&&(ce=St(Pe.name,T),be=!0),!0)),be||ce||(ce=St(p,T)),{field:Pe,domain:ce}}function St(p,T){let J;return T.fields.some(ae=>(ae.name.toLowerCase()===p.toLowerCase()&&(J=ae.domain),!!J)),J}function _t(p,T){T||(T={}),"function"==typeof T&&(T={cmp:T});const J="boolean"==typeof T.cycles&&T.cycles,ae=T.cmp&&(ce=T.cmp,function(Pe){return function(Te,ze){return ce({key:Te,value:Pe[Te]},{key:ze,value:Pe[ze]})}});var ce;const be=[];return function Pe(Te){if(Te&&Te.toJSON&&"function"==typeof Te.toJSON&&(Te=Te.toJSON()),void 0===Te)return;if("number"==typeof Te)return isFinite(Te)?""+Te:"null";if("object"!=typeof Te)return JSON.stringify(Te);let ze,Ge;if(Array.isArray(Te)){for(Ge="[",ze=0;ze<Te.length;ze++)ze&&(Ge+=","),Ge+=Pe(Te[ze])||"null";return Ge+"]"}if(null===Te)return"null";if(be.includes(Te)){if(J)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Ht=be.push(Te)-1,Je=Object.keys(Te).sort(ae&&ae(Te));for(Ge="",ze=0;ze<Je.length;ze++){const mn=Je[ze],Et=Pe(Te[mn]);Et&&(Ge&&(Ge+=","),Ge+=JSON.stringify(mn)+":"+Et)}return be.splice(Ht,1),"{"+Ge+"}"}(p)}function xt(p){if(null===p)return null;const T=[];for(const J of p)T.push(J&&J.arcadeDeclaredClass&&"esri.arcade.Feature"===J.arcadeDeclaredClass?J.geometry():J);return T}function mt(p,T){if(!(T instanceof F.Z))throw new S.aV(null,S.rH.InvalidParameter,null);p.push(T.hasZ?T.hasM?[T.x,T.y,T.z,T.m]:[T.x,T.y,T.z]:[T.x,T.y])}function Bt(p,T){if(ge(p)||Ye(p)){let J=!1,ae=!1,ce=[],be=T;if(ge(p)){for(const Pe of p)mt(ce,Pe);ce.length>0&&(be=p[0].spatialReference,J=p[0].hasZ,ae=p[0].hasM)}else if(p instanceof f.Z)ce=p._elements,ce.length>0&&(J=p._hasZ,ae=p._hasM,be=p.get(0).spatialReference);else{if(!Ye(p))throw new S.aV(null,S.rH.InvalidParameter,null);for(const Pe of p.toArray())mt(ce,Pe);ce.length>0&&(be=p.get(0).spatialReference,J=!0===p.get(0).hasZ,ae=!0===p.get(0).hasM)}return 0===ce.length?null:((0,G.bu)(ce,ae,J)||(ce=ce.slice(0).reverse()),new W.Z({rings:[ce],spatialReference:be,hasZ:J,hasM:ae}))}return p}function Tt(p,T){if(ge(p)||Ye(p)){let J=!1,ae=!1,ce=[],be=T;if(ge(p)){for(const Pe of p)mt(ce,Pe);ce.length>0&&(be=p[0].spatialReference,J=!0===p[0].hasZ,ae=!0===p[0].hasM)}else if(p instanceof f.Z)ce=p._elements,ce.length>0&&(J=p._hasZ,ae=p._hasM,be=p.get(0).spatialReference);else if(Ye(p)){for(const Pe of p.toArray())mt(ce,Pe);ce.length>0&&(be=p.get(0).spatialReference,J=!0===p.get(0).hasZ,ae=!0===p.get(0).hasM)}return 0===ce.length?null:new $.Z({paths:[ce],spatialReference:be,hasZ:J,hasM:ae})}return p}function gt(p,T){if(ge(p)||Ye(p)){let J=!1,ae=!1,ce=[],be=T;if(ge(p)){for(const Pe of p)mt(ce,Pe);ce.length>0&&(be=p[0].spatialReference,J=!0===p[0].hasZ,ae=!0===p[0].hasM)}else if(p instanceof f.Z)ce=p._elements,ce.length>0&&(J=p._hasZ,ae=p._hasM,be=p.get(0).spatialReference);else if(Ye(p)){for(const Pe of p.toArray())mt(ce,Pe);ce.length>0&&(be=p.get(0).spatialReference,J=!0===p.get(0).hasZ,ae=!0===p.get(0).hasM)}return 0===ce.length?null:new b.Z({points:ce,spatialReference:be,hasZ:J,hasM:ae})}return p}function Nt(p,T=!1){const J=[];if(null===p)return J;if(!0===ge(p)){for(let ae=0;ae<p.length;ae++){const ce=$e(p[ae]);""===ce&&!0!==T||J.push(ce)}return J}if(p instanceof R.Z){for(let ae=0;ae<p.length();ae++){const ce=$e(p.get(ae));""===ce&&!0!==T||J.push(ce)}return J}if(oe(p)){const ae=$e(p);return""===ae&&!0!==T||J.push(ae),J}return[]}let Mt=0;function We(p){return Mt++,Mt%100==0?(Mt=0,new Promise(T=>{setTimeout(()=>{T(p)},0)})):p}function te(p,T,J){switch(J){case"&":return p&T;case"|":return p|T;case"^":return p^T;case"<<":return p<<T;case">>":return p>>T;case">>>":return p>>>T}}function _(p,T=null){return null==p?null:se(p)||de(p)||Fe(p)?p:p instanceof Q.Z?!0===T?.keepGeometryType?p:p.toJSON():p instanceof R.Z?p.toArray().map(J=>_(J,T)):p instanceof Array?p.map(J=>_(J,T)):p instanceof Date?p:null!==p&&"object"==typeof p&&void 0!==p.castAsJson?p.castAsJson(T):null}function v(p,T,J,ae,ce){return I.apply(this,arguments)}function I(){return(I=(0,M.Z)(function*(p,T,J,ae,ce){const be=yield N(p,T,J);ce[ae]=be})).apply(this,arguments)}function N(p){return ne.apply(this,arguments)}function ne(){return(ne=(0,M.Z)(function*(p,T=null,J=null){if(p instanceof R.Z&&(p=p.toArray()),null==p)return null;if(oe(p)||p instanceof Q.Z||p instanceof Date)return _(p,J);if(p instanceof Array){const ae=[],ce=[];for(const be of p)null===be||oe(be)||be instanceof Q.Z||be instanceof Date?ce.push(_(be,J)):(ce.push(null),ae.push(v(be,T,J,ce.length-1,ce)));return ae.length>0&&(yield Promise.all(ae)),ce}return null!==p&&"object"==typeof p&&void 0!==p.castAsJsonAsync?p.castAsJsonAsync(T,J):null})).apply(this,arguments)}function re(p,T,J){const ae=p.fullSchema();return null!==ae&&ae.fields?vt(T,ae,p,J):null}function O(p){const T=p.fullSchema();return null===T?null:T.fields&&T.typeIdField?{subtypeField:T.typeIdField,subtypes:T.types?T.types.map(J=>({name:J.name,code:J.id})):[]}:null}function ee(p,T,J,ae){const ce=p.fullSchema();if(null===ce||!ce.fields)return null;const be=vt(T,ce,p,ae);if(void 0===J)try{J=p.field(T)}catch{return null}return qe(be,J)}function Y(p,T,J,ae){const ce=p.fullSchema();if(null===ce||!ce.fields)return null;if(void 0===J){try{J=p.field(T)}catch{return null}return J}return Ne(vt(T,ce,p,ae),J)}function he(p){const T=p.fullSchema();if(null===T||!T.fields)return null;const J=[];for(const ae of T.fields)J.push((0,C.Sh)(ae));return{objectIdField:T.objectIdField,globalIdField:T.globalIdField,geometryType:void 0===C.q2[T.geometryType]?"":C.q2[T.geometryType],fields:J}}const _e=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:c,ImplicitResultE:g,ImplicitResult:y,ReturnResult:w,voidOperation:U,breakResult:V,continueResult:l,multiReplace:x,isFunctionParameter:j,isModule:X,isSimpleType:oe,defaultUndefined:me,getType:fe,isString:Fe,isBoolean:se,isNumber:de,isInteger:ie,isArray:ge,isFeature:ct,isFeatureSet:Be,isFeatureSetCollection:dt,isImmutableArray:Ye,isDate:He,pcCheck:ht,absRound:Qe,generateUUID:Xe,formatNumber:Le,formatDate:Me,standardiseDateFormat:rt,greaterThanLessThan:ft,equalityTest:at,toString:$e,toNumberArray:Ct,toStringExplicit:ke,toNumber:Ce,toDate:it,toDateTime:pt,toBoolean:Dt,fixSpatialReference:yt,fixNullGeometry:It,getDomainValue:qe,getDomainCode:Ne,getDomain:vt,stableStringify:_t,autoCastFeatureToGeometry:xt,autoCastArrayOfPointsToPolygon:Bt,autoCastArrayOfPointsToPolyline:Tt,autoCastArrayOfPointsToMultiPoint:gt,toStringArray:Nt,tick:We,binaryOperator:te,castAsJson:_,castAsJsonAsync:N,featureFullDomain:re,featureSubtypes:O,featureDomainValueLookup:ee,featureDomainCodeLookup:Y,featureSchema:he},Symbol.toStringTag,{value:"Module"}))},4988:(Ve,De,Z)=>{Z.r(De),Z.d(De,{Dictionary:()=>R.Z,arcade:()=>pr,arcadeFeature:()=>E.Z,convertFeatureLayerToFeatureSet:()=>Ei,convertJsonToArcade:()=>wi,convertMapToFeatureSetCollection:()=>Sr,convertServiceUrlToWorkspace:()=>xi,createExecContext:()=>qt,createFeature:()=>wr,createFunction:()=>Un,createSyntaxTree:()=>kt,dependsOnView:()=>Zn,enableFeatureSetOperations:()=>Ir,enableGeometryOperations:()=>br,evalSyntaxTree:()=>hn,executeAsyncFunction:()=>Qt,executeFunction:()=>Cr,extractFieldNames:()=>fn,getArcadeType:()=>Er,getViewInfo:()=>vr,hasGeometryFunctions:()=>m,hasGeometryOperations:()=>h,hasVariable:()=>Ar,loadScriptDependencies:()=>Fi,updateExecContext:()=>Fr}),Z(29132);var z=Z(15861),R=Z(6729),E=Z(42275),f=Z(47562),K=Z(19927),Q=Z(67525),b=Z(84228),F=Z(24499),W=Z(63461),$=Z(53840),A=Z(97536),k=Z(32576),B=Z(10699),G=Z(21674),H=Z(65234),C=Z(9288),L=Z(78778),S=Z(7652),c=Z(25919);function w(s,i,a){try{return a(s,null,i.arguments)}catch(o){throw o}}function U(s,i){try{switch(i.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function He(s,i){let a=null===i.init?null:U(s,i.init);a===f.v&&(a=null);const o=i.id.name.toLowerCase();if(Be(o),null!==s.localScope){if(void 0!==s.localScope[o])return"lscope['"+o+"']="+a+"; ";if(void 0!==s.localScope._SymbolsMap[o])return"lscope['"+s.localScope._SymbolsMap[o]+"']="+a+"; ";{const D=Ue(s);return s.localScope._SymbolsMap[o]=D,s.mangleMap[o]=D,"lscope['"+D+"']="+a+"; "}}if(void 0!==s.globalScope[o])return"gscope['"+o+"']="+a+"; ";if(void 0!==s.globalScope._SymbolsMap[o])return"gscope['"+s.globalScope._SymbolsMap[o]+"']="+a+"; ";if(s.undeclaredGlobalsInFunctions.has(o)){const D=s.undeclaredGlobalsInFunctions.get(o).manglename;return s.globalScope._SymbolsMap[o]=D,s.mangleMap[o]=D,s.undeclaredGlobalsInFunctions.delete(o),"gscope[lang.setAssig('"+D+"', runtimeCtx)]="+a+"; "}const d=Ue(s);return s.globalScope._SymbolsMap[o]=d,s.mangleMap[o]=d,"gscope['"+d+"']="+a+"; "}(s,i);case"VariableDeclaration":return function Ye(s,i){const a=[];for(let o=0;o<i.declarations.length;o++)a.push(U(s,i.declarations[o]));return a.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(s,i);case"BlockStatement":case"Program":return de(s,i);case"FunctionDeclaration":return function dt(s,i){const a=i.id.name.toLowerCase();Be(a);let o="",d=!1;void 0!==s.globalScope[a]?o=a:void 0!==s.globalScope._SymbolsMap[a]?o=s.globalScope._SymbolsMap[a]:s.undeclaredGlobalsInFunctions.has(a)?(o=s.undeclaredGlobalsInFunctions.get(a).manglename,s.globalScope._SymbolsMap[a]=o,s.mangleMap[a]=o,s.undeclaredGlobalsInFunctions.delete(a),d=!0):(o=Ue(s),s.globalScope._SymbolsMap[a]=o,s.mangleMap[a]=o);const D={isAsync:s.isAsync,console:s.console,exports:s.exports,undeclaredGlobalsInFunctions:s.undeclaredGlobalsInFunctions,customfunctions:s.customfunctions,moduleFactory:s.moduleFactory,moduleFactoryMap:s.moduleFactoryMap,libraryResolver:s.libraryResolver,lrucache:s.lrucache,interceptor:s.interceptor,services:s.services,symbols:s.symbols,mangleMap:s.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:s.depthCounter,globalScope:s.globalScope};let P="new lang.UserDefinedCompiledFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let q=0;q<i.params.length;q++){const ue=i.params[q].name.toLowerCase();Be(ue);const le=Ue(s);D.localScope._SymbolsMap[ue]=le,D.mangleMap[ue]=le,P+="lscope['"+le+"']=arguments["+q.toString()+"];\n"}return!0===s.isAsync?(P+="return lang.__awaiter(this, void 0, void 0, function* () {\n",P+=de(D,i.body)+"\n return lastStatement; ",P+="});  }",P+=", runtimeCtx),"+i.params.length+")",P+="\n lastStatement = lc.voidOperation; \n"):(P+=de(D,i.body)+"\n return lastStatement; }, runtimeCtx),"+i.params.length+")",P+="\n lastStatement = lc.voidOperation; \n"),d?"gscope[lang.setAssig('"+o+"', runtimeCtx)]="+P:"gscope['"+o+"']="+P}(s,i);case"ImportDeclaration":return function ge(s,i){const a=i.specifiers[0].local.name.toLowerCase();Be(a);const o=s.libraryResolver?.loadLibrary(a),d=Ue(s);void 0===s.moduleFactory[o.uri]&&(s.moduleFactory[o.uri]=function Nt(s,i,a=!1){const o={isAsync:a,moduleFactory:i.moduleFactory,moduleFactoryMap:{},libraryResolver:new C.s(null,s.loadedModules),globalScope:Dt(i.vars,a?it:ke,i.customfunctions),customfunctions:i.customfunctions,localScope:null,mangleMap:{},undeclaredGlobalsInFunctions:new Map,depthCounter:{depth:1},exports:{},console:xt,lrucache:i.lrucache,interceptor:i.interceptor,services:i.services,symbols:{symbolCounter:0}};let d=U(o,s);""===d&&(d="lc.voidOperation; ");let D="";D=a?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+d+"\n return lastStatement; }); } \n yield mainBody(); \n return this.prepareModule(runtimeCtx); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+d+"\n return lastStatement; } \n mainBody(); \n return this.prepareModule(runtimeCtx); ";const P=o.moduleFactory,q=o.moduleFactoryMap,ue=o.exports,le={};for(const xe in ue)le[xe]=void 0!==o.mangleMap[xe]?o.mangleMap[xe]:xe;const ye={lc:f.n,lang:_t,mangles:o.mangleMap,prepareModule:xe=>new gt(xe),prepare(xe,Ee){let Re=xe.spatialReference;null==Re&&(Re=new H.Z({wkid:102100}));const nt=yt(xe.vars,xe.customfunctions,Ee);return{localStack:[],isAsync:Ee,exports:ue,exportmangle:le,gdefs:{},moduleFactory:P,moduleFactoryMap:q,moduleSingletons:xe.moduleSingletons,mangleMap:this.mangles,spatialReference:Re,globalScope:nt,abortSignal:xe.abortSignal??{aborted:!1},localScope:null,services:xe.services,console:xe.console?xe.console:xt,lrucache:xe.lrucache,interceptor:xe.interceptor,symbols:{symbolCounter:0},depthCounter:xe.depthCounter}}};return new Function("context","spatialReference",D).bind(ye)}(o.syntax,{interceptor:s.interceptor,services:s.services,moduleFactory:s.moduleFactory,lrucache:s.lrucache,libraryResolver:s.libraryResolver,customfunctions:s.customfunctions,vars:{}},s.isAsync)),s.moduleFactoryMap[d]=o.uri;let D="";if(D=s.isAsync?"(yield lang.loadModule('"+d+"', runtimeCtx) ); ":"lang.loadModule('"+d+"', runtimeCtx); ",void 0!==s.globalScope[a])return"gscope['"+a+"']="+D;if(void 0!==s.globalScope._SymbolsMap[a])return"gscope['"+s.globalScope._SymbolsMap[a]+"']="+D;let P="";return s.undeclaredGlobalsInFunctions.has(a)?(P=s.undeclaredGlobalsInFunctions.get(a).manglename,s.undeclaredGlobalsInFunctions.delete(a)):P=Ue(s),s.globalScope._SymbolsMap[a]=P,s.mangleMap[a]=P,"gscope[lang.setAssig('"+P+"', runtimeCtx)]="+D}(s,i);case"ExportNamedDeclaration":return function ct(s,i){const a=U(s,i.declaration);if("FunctionDeclaration"===i.declaration.type)s.exports[i.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===i.declaration.type)for(const o of i.declaration.declarations)s.exports[o.id.name.toLowerCase()]="variable";return a}(s,i);case"ReturnStatement":return function ie(s,i){return null===i.argument?"return lc.voidOperation":"return "+U(s,i.argument)}(s,i);case"IfStatement":return se(s,i);case"ExpressionStatement":return function fe(s,i){return"AssignmentExpression"===i.expression.type?"lastStatement = lc.voidOperation; "+U(s,i.expression)+"; \n ":"lastStatement = "+U(s,i.expression)+"; "}(s,i);case"AssignmentExpression":return function me(s,i){const a=U(s,i.right);let o=null,d="";if("MemberExpression"===i.left.type)return o=U(s,i.left.object),!0===i.left.computed?d=U(s,i.left.property):(d="'"+i.left.property.name+"'",Be(i.left.property.name)),"lang.assignmember("+o+","+d+",'"+i.operator+"',"+a+")";if(o=i.left.name.toLowerCase(),Be(o),null!==s.localScope){if(void 0!==s.localScope[o])return"lscope['"+o+"']=lang.assign("+a+",'"+i.operator+"', lscope['"+o+"'])";if(void 0!==s.localScope._SymbolsMap[o])return"lscope['"+s.localScope._SymbolsMap[o]+"']=lang.assign("+a+",'"+i.operator+"', lscope['"+s.localScope._SymbolsMap[o]+"'])"}if(void 0!==s.globalScope[o])return"gscope['"+o+"']=lang.assign("+a+",'"+i.operator+"', gscope['"+o+"'])";if(void 0!==s.globalScope._SymbolsMap[o])return"gscope['"+s.globalScope._SymbolsMap[o]+"']=lang.assign("+a+",'"+i.operator+"', gscope['"+s.globalScope._SymbolsMap[o]+"'])";if(null!==s.localScope){if(s.undeclaredGlobalsInFunctions.has(o))return"gscope[lang.chkAssig('"+s.undeclaredGlobalsInFunctions.get(o).manglename+"',runtimeCtx)]=lang.assign("+a+",'"+i.operator+"', gscope['"+s.undeclaredGlobalsInFunctions.get(o).manglename+"'])";const D={manglename:Ue(s),node:i.argument};return s.undeclaredGlobalsInFunctions.set(o,D),"gscope[lang.chkAssig('"+D.manglename+"',runtimeCtx)]=lang.assign("+a+",'"+i.operator+"', gscope['"+D.manglename+"'])"}throw new c.aV(s,c.rH.InvalidIdentifier,i)}(s,i);case"UpdateExpression":return function X(s,i){let a=null,o="";if("MemberExpression"===i.argument.type)return a=U(s,i.argument.object),!0===i.argument.computed?o=U(s,i.argument.property):(o="'"+i.argument.property.name+"'",Be(i.argument.property.name)),"lang.memberupdate("+a+","+o+",'"+i.operator+"',"+i.prefix+")";if(a=i.argument.name.toLowerCase(),Be(a),null!==s.localScope){if(void 0!==s.localScope[a])return"lang.update(lscope, '"+a+"','"+i.operator+"',"+i.prefix+")";if(void 0!==s.localScope._SymbolsMap[a])return"lang.update(lscope, '"+s.localScope._SymbolsMap[a]+"','"+i.operator+"',"+i.prefix+")"}if(void 0!==s.globalScope[a])return"lang.update(gscope, '"+a+"','"+i.operator+"',"+i.prefix+")";if(void 0!==s.globalScope._SymbolsMap[a])return"lang.update(gscope, '"+s.globalScope._SymbolsMap[a]+"','"+i.operator+"',"+i.prefix+")";if(null!==s.localScope){if(s.undeclaredGlobalsInFunctions.has(a))return"lang.update(gscope,lang.chkAssig( '"+s.undeclaredGlobalsInFunctions.get(a).manglename+"',runtimeCtx),'"+i.operator+"',"+i.prefix+")";const d={manglename:Ue(s),node:i.argument};return s.undeclaredGlobalsInFunctions.set(a,d),"lang.update(gscope, lang.chkAssig('"+d.manglename+"',runtimeCtx),'"+i.operator+"',"+i.prefix+")"}throw new c.aV(s,c.rH.InvalidIdentifier,i)}(s,i);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function Le(s,i){try{const a=[];let o=0;for(const d of i.quasis)a.push(d.value?JSON.stringify(d.value.cooked):JSON.stringify("")),!1===d.tail&&(a.push(i.expressions[o]?"lang.castString(lang.aCheck("+U(s,i.expressions[o])+", 'TemplateLiteral'))":""),o++);return"(["+a.join(",")+"]).join('')"}catch(a){throw a}}(s,i);case"TemplateElement":return JSON.stringify(i.value?i.value.cooked:"");case"ForStatement":return function j(s,i){let a="lastStatement = lc.voidOperation; \n";null!==i.init&&(a+=U(s,i.init)+"; ");const o=Ce(s),d=Ce(s);return a+="var "+o+" = true; ",a+="\n do { ",null!==i.update&&(a+=" if ("+o+"===false) {\n "+U(s,i.update)+"  \n}\n "+o+"=false; \n"),null!==i.test&&(a+="var "+d+" = "+U(s,i.test)+"; ",a+="if ("+d+"===false) { break; } else if ("+d+"!==true) { lang.error('"+c.rH.BooleanConditionRequired+"');   }\n"),a+=U(s,i.body),null!==i.update&&(a+="\n "+U(s,i.update)),a+="\n"+o+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",a}(s,i);case"ForInStatement":return function x(s,i){const a=Ce(s),o=Ce(s),d=Ce(s);let D="var "+a+" = "+U(s,i.right)+";\n";"VariableDeclaration"===i.left.type&&(D+=U(s,i.left));let P="VariableDeclaration"===i.left.type?i.left.declarations[0].id.name:i.left.name;P=P.toLowerCase(),Be(P);let q="";null!==s.localScope&&(void 0!==s.localScope[P]?q="lscope['"+P+"']":void 0!==s.localScope._SymbolsMap[P]&&(q="lscope['"+s.localScope._SymbolsMap[P]+"']"));let ue="";if(""===q)if(void 0!==s.globalScope[P])q="gscope['"+P+"']";else if(void 0!==s.globalScope._SymbolsMap[P])q="gscope['"+s.globalScope._SymbolsMap[P]+"']";else if(null!==s.localScope)if(s.undeclaredGlobalsInFunctions.has(P))q="gscope['"+s.undeclaredGlobalsInFunctions.get(P).manglename+"']",ue=s.undeclaredGlobalsInFunctions.get(P).manglename;else{const le={manglename:Ue(s),node:i.left};s.undeclaredGlobalsInFunctions.set(P,le),q="gscope['"+le.manglename+"']",ue=le.manglename}return ue&&(D+="lang.chkAssig('"+ue+"',runtimeCtx); \n"),D+="if ("+a+"===null) {  lastStatement = lc.voidOperation; }\n ",D+="else if (lc.isArray("+a+") || lc.isString("+a+")) {",D+="var "+o+"="+a+".length; \n",D+="for(var "+d+"=0; "+d+"<"+o+"; "+d+"++) {\n",D+=q+"="+d+";\n",D+=U(s,i.body),D+="\n}\n",D+=" lastStatement = lc.voidOperation; \n",D+=" \n}\n",D+="else if (lc.isImmutableArray("+a+")) {",D+="var "+o+"="+a+".length(); \n",D+="for(var "+d+"=0; "+d+"<"+o+"; "+d+"++) {\n",D+=q+"="+d+";\n",D+=U(s,i.body),D+="\n}\n",D+=" lastStatement = lc.voidOperation; \n",D+=" \n}\n",D+="else if (( "+a+" instanceof lang.Dictionary) || ( "+a+" instanceof lang.Feature)) {",D+="var "+o+"="+a+".keys(); \n",D+="for(var "+d+"=0; "+d+"<"+o+".length; "+d+"++) {\n",D+=q+"="+o+"["+d+"];\n",D+=U(s,i.body),D+="\n}\n",D+=" lastStatement = lc.voidOperation; \n",D+=" \n}\n",s.isAsync&&(D+="else if (lc.isFeatureSet("+a+")) {",D+="var "+o+"="+a+".iterator(runtimeCtx.abortSignal); \n",D+="for(var "+d+"=lang. graphicToFeature( yield "+o+".next(),"+a+"); "+d+"!=null; "+d+"=lang. graphicToFeature( yield "+o+".next(),"+a+")) {\n",D+=q+"="+d+";\n",D+=U(s,i.body),D+="\n}\n",D+=" lastStatement = lc.voidOperation; \n",D+=" \n}\n"),D+="else { lastStatement = lc.voidOperation; } \n",D}(s,i);case"WhileStatement":return function oe(s,i){let a="lastStatement = lc.voidOperation; \n";const o=Ce(s);return a+=`\n  var ${o} = true;\n    do {\n      ${o} = ${U(s,i.test)};\n      if (${o}==false) {\n        break;\n      }\n      if (${o}!==true) {\n        lang.error('${c.rH.BooleanConditionRequired}');\n      }\n      ${U(s,i.body)}\n    }\n    while (${o} !== false);\n    lastStatement = lc.voidOperation;\n  `,a}(s,i);case"Identifier":return function we(s,i){try{const a=i.name.toLowerCase();if(Be(a),null!==s.localScope){if(void 0!==s.localScope[a])return"lscope['"+a+"']";if(void 0!==s.localScope._SymbolsMap[a])return"lscope['"+s.localScope._SymbolsMap[a]+"']"}if(void 0!==s.globalScope[a])return"gscope['"+a+"']";if(void 0!==s.globalScope._SymbolsMap[a])return"gscope['"+s.globalScope._SymbolsMap[a]+"']";if(null!==s.localScope){if(s.undeclaredGlobalsInFunctions.has(a))return"gscope[lang.chkAssig('"+s.undeclaredGlobalsInFunctions.get(a).manglename+"',runtimeCtx)]";const o={manglename:Ue(s),node:i.argument};return s.undeclaredGlobalsInFunctions.set(a,o),"gscope[lang.chkAssig('"+o.manglename+"',runtimeCtx)]"}throw new c.OF(s,c.rH.InvalidIdentifier,i)}catch(a){throw a}}(s,i);case"MemberExpression":return function ht(s,i){try{let a;return!0===i.computed?a=U(s,i.property):(a="'"+i.property.name+"'",Be(i.property.name)),"lang.member("+U(s,i.object)+","+a+")"}catch(a){throw a}}(s,i);case"Literal":return null==i.value?"null":JSON.stringify(i.value);case"CallExpression":return function ft(s,i){try{if("MemberExpression"===i.callee.type){let d;!0===i.callee.computed?d=U(s,i.callee.property):(d="'"+i.callee.property.name+"'",Be(i.callee.property.name));let D="[";for(let P=0;P<i.arguments.length;P++)P>0&&(D+=", "),D+=U(s,i.arguments[P]);return D+="]",s.isAsync?"(yield lang.callModuleFunction("+U(s,i.callee.object)+","+D+","+d+",runtimeCtx))":"lang.callModuleFunction("+U(s,i.callee.object)+","+D+","+d+",runtimeCtx)"}if("Identifier"!==i.callee.type)throw new c.OF(s,c.rH.FuncionNotFound,i);const a=i.callee.name.toLowerCase();if("iif"===a)return function at(s,i){try{if(3!==i.arguments.length)throw new c.OF(s,c.rH.WrongNumberOfParameters,i);const a=Ce(s);return`${s.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${a} = ${U(s,i.arguments[0])};\n       \n        if (${a} === true) {\n          return  ${U(s,i.arguments[1])};\n        }\n        else if (${a} === false) {\n          return ${U(s,i.arguments[2])};\n        }\n        else {\n          lang.error('ExecutionErrorCodes.BooleanConditionRequired');\n        }\n      ${s.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(s,i);if("when"===a)return function $e(s,i){try{if(i.arguments.length<3)throw new c.OF(s,c.rH.WrongNumberOfParameters,i);if(i.arguments.length%2==0)throw new c.OF(s,c.rH.WrongNumberOfParameters,i);const a=Ce(s);let o="var ";for(let d=0;d<i.arguments.length-1;d+=2)o+=`${a} = lang.mustBoolean(${U(s,i.arguments[d])}, runtimeCtx);\n      if (${a} === true ) {\n        return ${U(s,i.arguments[d+1])} \n      }\n`;return`${s.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        ${o}\n        return ${U(s,i.arguments[i.arguments.length-1])}\n        ${s.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(s,i);if("decode"===a)return function Ct(s,i){try{if(i.arguments.length<2)throw new c.OF(s,c.rH.WrongNumberOfParameters,i);if(2===i.arguments.length)return`(${U(s,i.arguments[1])})`;if((i.arguments.length-1)%2==0)throw new c.OF(s,c.rH.WrongNumberOfParameters,i);const a=Ce(s),o=Ce(s);let d="var ";for(let D=1;D<i.arguments.length-1;D+=2)d+=`${o} = ${U(s,i.arguments[D])};\n      if (lang.binary(${o}, ${a}, "==") === true ) {\n        return ${U(s,i.arguments[D+1])} \n      }\n`;return`${s.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${a} = ${U(s,i.arguments[0])};\n        ${d}\n        return ${U(s,i.arguments[i.arguments.length-1])}\n        ${s.isAsync?"})}()))":"}()"}`}catch(a){throw a}}(s,i);let o="";if(null!==s.localScope&&(void 0!==s.localScope[a]?o="lscope['"+a+"']":void 0!==s.localScope._SymbolsMap[a]&&(o="lscope['"+s.localScope._SymbolsMap[a]+"']")),""===o)if(void 0!==s.globalScope[a])o="gscope['"+a+"']";else if(void 0!==s.globalScope._SymbolsMap[a])o="gscope['"+s.globalScope._SymbolsMap[a]+"']";else if(null!==s.localScope)if(s.undeclaredGlobalsInFunctions.has(a))o="gscope[lang.chkAssig('"+s.undeclaredGlobalsInFunctions.get(a).manglename+"',runtimeCtx)]";else{const d={manglename:Ue(s),node:i.argument};s.undeclaredGlobalsInFunctions.set(a,d),o="gscope[lang.chkAssig('"+d.manglename+"',runtimeCtx)]"}if(""!==o){let d="[";for(let D=0;D<i.arguments.length;D++)D>0&&(d+=", "),d+=U(s,i.arguments[D]);return d+="]",s.isAsync?"(yield lang.callfunc("+o+","+d+",runtimeCtx) )":"lang.callfunc("+o+","+d+",runtimeCtx)"}throw new c.OF(s,c.rH.FuncionNotFound,i)}catch(a){throw a}}(s,i);case"UnaryExpression":return function Qe(s,i){try{return"lang.unary("+U(s,i.argument)+",'"+i.operator+"')"}catch(a){throw a}}(s,i);case"BinaryExpression":return function Me(s,i){try{return"lang.binary("+U(s,i.left)+","+U(s,i.right)+",'"+i.operator+"')"}catch(a){throw a}}(s,i);case"LogicalExpression":return function rt(s,i){try{if("AssignmentExpression"===i.left.type||"UpdateExpression"===i.left.type)throw new c.OF(s,c.rH.LogicalExpressionOnlyBoolean,i);if("AssignmentExpression"===i.right.type||"UpdateExpression"===i.right.type)throw new c.OF(s,c.rH.LogicalExpressionOnlyBoolean,i);if("&&"===i.operator||"||"===i.operator)return"(lang.logicalCheck("+U(s,i.left)+") "+i.operator+" lang.logicalCheck("+U(s,i.right)+"))";throw new c.OF(null,c.rH.LogicExpressionOrAnd,null)}catch(a){throw a}}(s,i);case"ArrayExpression":return function Xe(s,i){try{const a=[];for(let o=0;o<i.elements.length;o++)a.push("Literal"===i.elements[o].type?U(s,i.elements[o]):"lang.aCheck("+U(s,i.elements[o])+",'ArrayExpression')");return"["+a.join(",")+"]"}catch(a){throw a}}(s,i);case"ObjectExpression":return function V(s,i){let a="lang.dictionary([";for(let o=0;o<i.properties.length;o++){const d=i.properties[o];Be(d.key.name),o>0&&(a+=","),a+="lang.strCheck("+("Identifier"===d.key.type?"'"+d.key.name+"'":U(s,d.key))+",'ObjectExpression'),lang.aCheck("+U(s,d.value)+", 'ObjectExpression')"}return a+="])",a}(s,i);case"Property":return function l(s,i){throw new c.OF(s,c.rH.NeverReach,i)}(s,i);case"Array":throw new c.OF(s,c.rH.NeverReach,i);default:throw new c.OF(s,c.rH.Unrecognised,i)}}catch(a){throw a}}function Fe(s,i){return"BlockStatement"===i.type?U(s,i):"ReturnStatement"===i.type||"BreakStatement"===i.type||"ContinueStatement"===i.type?U(s,i)+"; ":"UpdateExpression"===i.type?"lastStatement = "+U(s,i)+"; ":"ExpressionStatement"===i.type?U(s,i):"ObjectExpression"===i.type?"lastStatement = "+U(s,i)+"; ":U(s,i)+"; "}function se(s,i){if("AssignmentExpression"===i.test.type||"UpdateExpression"===i.test.type)throw new c.OF(s,c.rH.BooleanConditionRequired,i);return`if (lang.mustBoolean(${U(s,i.test)}, runtimeCtx) === true) {\n    ${Fe(s,i.consequent)}\n  } `+(null!==i.alternate?"IfStatement"===i.alternate.type?" else "+se(s,i.alternate):` else {\n      ${Fe(s,i.alternate)}\n    }\n`:" else {\n      lastStatement = lc.voidOperation;\n    }\n")}function de(s,i){let a="";for(let o=0;o<i.body.length;o++)"EmptyStatement"!==i.body[o].type&&(a+="ReturnStatement"===i.body[o].type||"BreakStatement"===i.body[o].type||"ContinueStatement"===i.body[o].type?U(s,i.body[o])+"; \n":"UpdateExpression"===i.body[o].type||"ObjectExpression"===i.body[o].type?"lastStatement = "+U(s,i.body[o])+"; \n":U(s,i.body[o])+" \n");return a}function Be(s){if("iif"===s)throw new c.kq;if("decode"===s)throw new c.kq;if("when"===s)throw new c.kq}const ke={};function Ue(s){return s.symbols.symbolCounter++,"_T"+s.symbols.symbolCounter.toString()}function Ce(s){return s.symbols.symbolCounter++,"_Tvar"+s.symbols.symbolCounter.toString()}(0,b.r)(ke,w),(0,k.r)(ke,w),(0,$.r)(ke,w),(0,F.r)(ke,w),(0,A.r)(ke,w),ke.iif=function(s,i){try{return w(s,i,(a,o,d)=>{throw new c.aV(s,c.rH.Unrecognised,i)})}catch(a){throw a}},ke.decode=function(s,i){try{return w(s,i,(a,o,d)=>{throw new c.aV(s,c.rH.Unrecognised,i)})}catch(a){throw a}},ke.when=function(s,i){try{return w(s,i,(a,o,d)=>{throw new c.aV(s,c.rH.Unrecognised,i)})}catch(a){throw a}};const it={};for(const s in ke)it[s]=new S.Bx(ke[s]);(0,W.registerFunctions)(ke,w);for(const s in ke)ke[s]=new S.Bx(ke[s]);const pt=function(){};pt.prototype=ke;const At=function(){};function Dt(s,i,a){const o={};s||(s={}),a||(a={}),o._SymbolsMap={},o.textformatting=1,o.infinity=1,o.pi=1;for(const d in i)o[d]=1;for(const d in a)o[d]=1;for(const d in s)o[d]=1;return o}function yt(s,i,a){const o=a?new At:new pt;s||(s={}),i||(i={});const d=new R.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});d.immutable=!1,o._SymbolsMap={textformatting:1,infinity:1,pi:1},o.textformatting=d,o.infinity=Number.POSITIVE_INFINITY,o.pi=Math.PI;for(const D in i)o[D]=i[D],o._SymbolsMap[D]=1;for(const D in s)o._SymbolsMap[D]=1,o[D]=s[D]&&"esri.Graphic"===s[D].declaredClass?E.Z.createFromGraphic(s[D]):s[D];return o}function qe(s,i){const a={mode:i,compiled:!0,functions:{},signatures:[],standardFunction:w,standardFunctionAsync:w,evaluateIdentifier:vt};for(let o=0;o<s.length;o++)s[o].registerFunctions(a);if("sync"===i){for(const o in a.functions)ke[o]=new S.Bx(a.functions[o]),pt.prototype[o]=ke[o];for(let o=0;o<a.signatures.length;o++)(0,K.gW)(a.signatures[o],"sync")}else{for(const o in a.functions)it[o]=new S.Bx(a.functions[o]),At.prototype[o]=it[o];for(let o=0;o<a.signatures.length;o++)(0,K.gW)(a.signatures[o],"async")}}function vt(s,i){const a=i.name;if("_SymbolsMap"===a)throw new c.aV(s,c.rH.InvalidIdentifier,null);if(s.localStack.length>0){if("_t"!==a.substr(0,2).toLowerCase()&&void 0!==s.localStack[s.localStack.length-1][a])return s.localStack[s.localStack.length-1][a];const d=s.mangleMap[a];if(void 0!==d&&void 0!==s.localStack[s.localStack.length-1][d])return s.localStack[s.localStack.length-1][d]}if("_t"!==a.substr(0,2).toLowerCase()&&void 0!==s.globalScope[a]||1===s.globalScope._SymbolsMap[a])return s.globalScope[a];const o=s.mangleMap[a];return void 0!==o?s.globalScope[o]:void 0}At.prototype=it,qe([Q.A],"sync"),qe([Q.A],"async");let St=0;const _t={error(s){throw new c.aV(null,s,null)},__awaiter:(s,i,a,o)=>new Promise((d,D)=>{function P(le){try{ue(o.next(le))}catch(ye){D(ye)}}function q(le){try{ue(o.throw(le))}catch(ye){D(ye)}}function ue(le){le.done?d(le.value):le.value&&le.value.then?le.value.then(P,q):(St++,St%100==0?setTimeout(()=>{St=0,P(le.value)},0):P(le.value))}ue((o=o.apply(s,i||[])).next())}),functionDepthchecker:(s,i)=>function(){if(i.depthCounter.depth++,i.localStack.push([]),i.depthCounter.depth>64)throw new c.aV(null,c.rH.MaximumCallDepth,null);const a=s.apply(this,arguments);return(0,B.y8)(a)?a.then(o=>(i.depthCounter.depth--,i.localStack.length=i.localStack.length-1,o)):(i.depthCounter.depth--,i.localStack.length=i.localStack.length-1,a)},chkAssig(s,i){if(void 0===i.gdefs[s])throw new c.aV(i,c.rH.InvalidIdentifier,null);return s},mustBoolean(s,i){if(!0===s||!1===s)return s;throw new c.aV(i,c.rH.BooleanConditionRequired,null)},setAssig:(s,i)=>(i.gdefs[s]=1,s),castString:s=>(0,f.j)(s),aCheck(s,i){if((0,f.i)(s))throw new c.aV(null,"ArrayExpression"===i?c.rH.NoFunctionInArray:"ObjectExpression"===i?c.rH.NoFunctionInDictionary:c.rH.NoFunctionInTemplateLiteral,null);return s===f.v?null:s},Dictionary:R.Z,Feature:E.Z,UserDefinedCompiledFunction:class g extends S.Rm{constructor(i,a){super(),this.paramCount=a,this.fn=i}createFunction(i){return(...a)=>{if(a.length!==this.paramCount)throw new c.aV(i,c.rH.WrongNumberOfParameters,null);return this.fn(...a)}}call(i,a){return this.fn(...a.arguments)}marshalledCall(i,a,o,d){return d(i,a,(D,P,q)=>{q=q.map(le=>!(0,f.i)(le)||le instanceof S.Vg?le:(0,S.aq)(le,i,d));const ue=this.call(o,{arguments:q});return(0,B.y8)(ue)?ue.then(le=>(0,S.aq)(le,o,d)):ue})}},dictionary(s){const i={},a=new Map;for(let d=0;d<s.length;d+=2){if((0,f.i)(s[d+1]))throw new c.aV(null,c.rH.NoFunctionInDictionary,null);if(!1===(0,f.c)(s[d]))throw new c.aV(null,c.rH.KeyMustBeString,null);let D=s[d].toString();const P=D.toLowerCase();a.has(P)?D=a.get(P):a.set(P,D),i[D]=s[d+1]===f.v?null:s[d+1]}const o=new R.Z(i);return o.immutable=!1,o},strCheck(s){if(!1===(0,f.c)(s))throw new c.aV(null,c.rH.KeyMustBeString,null);return s},unary(s,i){if((0,f.a)(s)){if("!"===i)return!s;if("-"===i)return-1*(0,f.g)(s);if("+"===i)return 1*(0,f.g)(s);if("~"===i)return~(0,f.g)(s);throw new c.aV(null,c.rH.UnsupportedUnaryOperator,null)}if("-"===i)return-1*(0,f.g)(s);if("+"===i)return 1*(0,f.g)(s);if("~"===i)return~(0,f.g)(s);throw new c.aV(null,c.rH.UnsupportedUnaryOperator,null)},logicalCheck(s){if(!1===(0,f.a)(s))throw new c.aV(null,c.rH.LogicExpressionOrAnd,null);return s},logical(s,i,a){if((0,f.a)(s)&&(0,f.a)(i))switch(a){case"||":return s||i;case"&&":return s&&i;default:throw new c.aV(null,c.rH.LogicExpressionOrAnd,null)}throw new c.aV(null,c.rH.LogicExpressionOrAnd,null)},binary(s,i,a){switch(a){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,f.u)((0,f.g)(s),(0,f.g)(i),a);case"==":case"=":return(0,f.s)(s,i);case"!=":return!(0,f.s)(s,i);case"<":case">":case"<=":case">=":return(0,f.r)(s,i,a);case"+":return(0,f.c)(s)||(0,f.c)(i)?(0,f.j)(s)+(0,f.j)(i):(0,f.g)(s)+(0,f.g)(i);case"-":return(0,f.g)(s)-(0,f.g)(i);case"*":return(0,f.g)(s)*(0,f.g)(i);case"/":return(0,f.g)(s)/(0,f.g)(i);case"%":return(0,f.g)(s)%(0,f.g)(i);default:throw new c.aV(null,c.rH.UnsupportedOperator,null)}},assign(s,i,a){switch(i){case"=":return s===f.v?null:s;case"/=":return(0,f.g)(a)/(0,f.g)(s);case"*=":return(0,f.g)(a)*(0,f.g)(s);case"-=":return(0,f.g)(a)-(0,f.g)(s);case"+=":return(0,f.c)(a)||(0,f.c)(s)?(0,f.j)(a)+(0,f.j)(s):(0,f.g)(a)+(0,f.g)(s);case"%=":return(0,f.g)(a)%(0,f.g)(s);default:throw new c.aV(null,c.rH.UnsupportedOperator,null)}},update(s,i,a,o){const d=(0,f.g)(s[i]);return s[i]="++"===a?d+1:d-1,!1===o?d:"++"===a?d+1:d-1},graphicToFeature:(s,i)=>null===s?null:E.Z.createFromGraphicLikeObject(s.geometry,s.attributes,i),memberupdate(s,i,a,o){let d;if((0,f.m)(s)){if(!(0,f.b)(i))throw new c.aV(null,c.rH.ArrayAccessorMustBeNumber,null);if(i<0&&(i=s.length+i),i<0||i>=s.length)throw new c.aV(null,c.rH.OutOfBounds,null);d=(0,f.g)(s[i]),s[i]="++"===a?d+1:d-1}else if(s instanceof R.Z){if(!1===(0,f.c)(i))throw new c.aV(null,c.rH.KeyAccessorMustBeString,null);if(!0!==s.hasField(i))throw new c.aV(null,c.rH.FieldNotFound,null,{key:i});d=(0,f.g)(s.field(i)),s.setField(i,"++"===a?d+1:d-1)}else if((0,f.w)(s)){if(!1===(0,f.c)(i))throw new c.aV(null,c.rH.KeyAccessorMustBeString,null);if(!0!==s.hasField(i))throw new c.aV(null,c.rH.FieldNotFound,null);d=(0,f.g)(s.field(i)),s.setField(i,"++"===a?d+1:d-1)}else{if((0,f.x)(s))throw new c.aV(null,c.rH.Immutable,null);if(!(s instanceof gt))throw new c.aV(null,c.rH.InvalidIdentifier,null);if(!1===(0,f.c)(i))throw new c.aV(null,c.rH.ModuleAccessorMustBeString,null);if(!0!==s.hasGlobal(i))throw new c.aV(null,c.rH.ModuleExportNotFound,null);d=(0,f.g)(s.global(i)),s.setGlobal(i,"++"===a?d+1:d-1)}return!1===o?d:"++"===a?d+1:d-1},assignmember(s,i,a,o){if((0,f.m)(s)){if(!(0,f.b)(i))throw new c.aV(null,c.rH.ArrayAccessorMustBeNumber,null);if(i<0&&(i=s.length+i),i<0||i>s.length)throw new c.aV(null,c.rH.OutOfBounds,null);if(i===s.length){if("="!==a)throw new c.aV(null,c.rH.OutOfBounds,null);s[i]=this.assign(o,a,s[i])}else s[i]=this.assign(o,a,s[i])}else if(s instanceof R.Z){if(!1===(0,f.c)(i))throw new c.aV(null,c.rH.KeyAccessorMustBeString,null);if(!0===s.hasField(i))s.setField(i,this.assign(o,a,s.field(i)));else{if("="!==a)throw new c.aV(null,c.rH.FieldNotFound,null);s.setField(i,this.assign(o,a,null))}}else if((0,f.w)(s)){if(!1===(0,f.c)(i))throw new c.aV(null,c.rH.KeyAccessorMustBeString,null);if(!0===s.hasField(i))s.setField(i,this.assign(o,a,s.field(i)));else{if("="!==a)throw new c.aV(null,c.rH.FieldNotFound,null);s.setField(i,this.assign(o,a,null))}}else{if((0,f.x)(s))throw new c.aV(null,c.rH.Immutable,null);if(!(s instanceof gt))throw new c.aV(null,c.rH.InvalidIdentifier,null);if(!1===(0,f.c)(i))throw new c.aV(null,c.rH.ModuleAccessorMustBeString,null);if(!s.hasGlobal(i))throw new c.aV(null,c.rH.ModuleExportNotFound,null);s.setGlobal(i,this.assign(o,a,s.global(i)))}},member(s,i){if(null===s)throw new c.aV(null,c.rH.MemberOfNull,null);if(s instanceof R.Z||(0,f.w)(s)){if((0,f.c)(i))return s.field(i);throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)}if(s instanceof G.Z){if((0,f.c)(i))return(0,F.Z)(s,i,null,null);throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)}if((0,f.m)(s)){if((0,f.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=s.length+i),i>=s.length||i<0)throw new c.aV(null,c.rH.OutOfBounds,null);return s[i]}throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)}if((0,f.c)(s)){if((0,f.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=s.length+i),i>=s.length||i<0)throw new c.aV(null,c.rH.OutOfBounds,null);return s[i]}throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)}if((0,f.x)(s)){if((0,f.b)(i)&&isFinite(i)&&Math.floor(i)===i){if(i<0&&(i=s.length()+i),i>=s.length()||i<0)throw new c.aV(null,c.rH.OutOfBounds,null);return s.get(i)}throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)}if(s instanceof gt){if((0,f.c)(i))return s.global(i);throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)}throw new c.aV(null,c.rH.InvalidMemberAccessKey,null)},callfunc:(s,i,a)=>s.call(a,{arguments:i,preparsed:!0}),loadModule(s,i){const a=i.moduleFactoryMap[s];if(i.moduleSingletons[a])return i.moduleSingletons[a];const o=i.moduleFactory[a]({vars:{},moduleSingletons:i.moduleSingletons,depthCounter:i.depthCounter,console:i.console,abortSignal:i.abortSignal,isAsync:i.isAsync,services:i.services,lrucache:i.lrucache,interceptor:i.interceptor},i.spatialReference);return i.moduleSingletons[a]=o,o},callModuleFunction(s,i,a,o){if(!(s instanceof gt))throw new c.aV(null,c.rH.FuncionNotFound,null);const d=s.global(a);if(!1===(0,f.i)(d))throw new c.aV(null,c.rH.CallNonFunction,null);return d.call(o,{preparsed:!0,arguments:i})}};function xt(s){console.log(s)}function mt(s,i,a=!1){null===i&&(i={vars:{},customfunctions:{}});let o=null;s.usesModules&&(o=new C.s(null,s.loadedModules));const d={isAsync:a,globalScope:Dt(i.vars,a?it:ke,i.customfunctions),moduleFactory:{},moduleFactoryMap:{},undeclaredGlobalsInFunctions:new Map,customfunctions:i.customfunctions,libraryResolver:o,localScope:null,mangleMap:{},depthCounter:{depth:1},exports:{},console:xt,lrucache:i.lrucache,interceptor:i.interceptor,services:i.services,symbols:{symbolCounter:0}};let D=U(d,s);""===D&&(D="lc.voidOperation; "),d.undeclaredGlobalsInFunctions.size>0&&d.undeclaredGlobalsInFunctions.forEach(Ee=>{throw new c.OF(i,c.rH.InvalidIdentifier,Ee.node)});let P="";P=a?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+D+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+D+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const q=d.moduleFactory,ue=d.moduleFactoryMap,le=d.exports,ye={};for(const Ee in le)ye[Ee]=void 0!==d.mangleMap[Ee]?d.mangleMap[Ee]:Ee;const xe={lc:f.n,lang:_t,mangles:d.mangleMap,postProcess(Ee){if(Ee instanceof f.R&&(Ee=Ee.value),Ee instanceof f.I&&(Ee=Ee.value),Ee===f.v&&(Ee=null),Ee===f.o)throw new c.aV(null,c.rH.IllegalResult,null);if(Ee===f.p)throw new c.aV(null,c.rH.IllegalResult,null);if((0,f.i)(Ee))throw new c.aV(null,c.rH.IllegalResult,null);return Ee},prepare(Ee,Re){let nt=Ee.spatialReference;null==nt&&(nt=H.Z.WebMercator);const zt=yt(Ee.vars,Ee.customfunctions,Re);return{localStack:[],isAsync:Re,moduleFactory:q,moduleFactoryMap:ue,mangleMap:this.mangles,moduleSingletons:{},exports:le,gdefs:{},exportmangle:ye,spatialReference:nt,globalScope:zt,abortSignal:Ee.abortSignal??{aborted:!1},localScope:null,services:Ee.services,console:Ee.console?Ee.console:xt,lrucache:Ee.lrucache,interceptor:Ee.interceptor,symbols:{symbolCounter:0},depthCounter:{depth:1}}}};return new Function("context","spatialReference",P).bind(xe)}function Bt(){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,z.Z)(function*(){return qe([yield Z.e(8302).then(Z.bind(Z,38302))],"async"),!0})).apply(this,arguments)}class gt extends L.P{constructor(i){super(null),this.moduleContext=i}hasGlobal(i){return void 0===this.moduleContext.exports[i]&&(i=i.toLowerCase()),void 0!==this.moduleContext.exports[i]}setGlobal(i,a){const o=this.moduleContext.globalScope,d=i.toLowerCase();if((0,f.i)(a))throw new c.aV(null,c.rH.AssignModuleFunction,null);o[this.moduleContext.exportmangle[d]]=a}global(i){const a=this.moduleContext.globalScope;i=i.toLowerCase();const o=a[this.moduleContext.exportmangle[i]];if(void 0===o)throw new c.aV(null,c.rH.InvalidIdentifier,null);if((0,f.i)(o)&&!(o instanceof S.Vg)){const d=new S.Vg;return d.fn=o,d.parameterEvaluator=w,d.context=this.moduleContext,a[this.moduleContext.exportmangle[i]]=d,d}return o}}var te,s,Mt=Z(84792),We=Z(84687);(s=te||(te={})).AssignmentExpression="AssignmentExpression",s.ArrayExpression="ArrayExpression",s.BlockComment="BlockComment",s.BlockStatement="BlockStatement",s.BinaryExpression="BinaryExpression",s.BreakStatement="BreakStatement",s.CallExpression="CallExpression",s.ContinueStatement="ContinueStatement",s.EmptyStatement="EmptyStatement",s.ExpressionStatement="ExpressionStatement",s.ExportNamedDeclaration="ExportNamedDeclaration",s.ExportSpecifier="ExportSpecifier",s.ForStatement="ForStatement",s.ForInStatement="ForInStatement",s.FunctionDeclaration="FunctionDeclaration",s.Identifier="Identifier",s.IfStatement="IfStatement",s.ImportDeclaration="ImportDeclaration",s.ImportDefaultSpecifier="ImportDefaultSpecifier",s.LineComment="LineComment",s.Literal="Literal",s.LogicalExpression="LogicalExpression",s.MemberExpression="MemberExpression",s.ObjectExpression="ObjectExpression",s.Program="Program",s.Property="Property",s.ReturnStatement="ReturnStatement",s.TemplateElement="TemplateElement",s.TemplateLiteral="TemplateLiteral",s.UnaryExpression="UnaryExpression",s.UpdateExpression="UpdateExpression",s.VariableDeclaration="VariableDeclaration",s.VariableDeclarator="VariableDeclarator",s.WhileStatement="WhileStatement";const _=["++","--"],v=["-","+","!","~"],I=["=","/=","*=","%=","+=","-="],N=["||","&&"],re={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10};var O;!function(s){s[s.Unknown=0]="Unknown",s[s.BooleanLiteral=1]="BooleanLiteral",s[s.EOF=2]="EOF",s[s.Identifier=3]="Identifier",s[s.Keyword=4]="Keyword",s[s.NullLiteral=5]="NullLiteral",s[s.NumericLiteral=6]="NumericLiteral",s[s.Punctuator=7]="Punctuator",s[s.StringLiteral=8]="StringLiteral",s[s.Template=10]="Template"}(O||(O={}));const ee=["Unknown","Boolean","<end>","Identifier","Keyword","Null","Numeric","Punctuator","String","RegularExpression","Template"];var Y;!function(s){s.InvalidModuleUri="InvalidModuleUri",s.ForInOfLoopInitializer="ForInOfLoopInitializer",s.IdentiferExpected="IdentiferExpected",s.InvalidEscapedReservedWord="InvalidEscapedReservedWord",s.InvalidExpression="InvalidExpression",s.InvalidFunctionIdentifier="InvalidFunctionIdentifier",s.InvalidHexEscapeSequence="InvalidHexEscapeSequence",s.InvalidLeftHandSideInAssignment="InvalidLeftHandSideInAssignment",s.InvalidLeftHandSideInForIn="InvalidLeftHandSideInForIn",s.InvalidTemplateHead="InvalidTemplateHead",s.InvalidVariableAssignment="InvalidVariableAssignment",s.KeyMustBeString="KeyMustBeString",s.NoFunctionInsideBlock="NoFunctionInsideBlock",s.NoFunctionInsideFunction="NoFunctionInsideFunction",s.ModuleExportRootOnly="ModuleExportRootOnly",s.ModuleImportRootOnly="ModuleImportRootOnly",s.PunctuatorExpected="PunctuatorExpected",s.TemplateOctalLiteral="TemplateOctalLiteral",s.UnexpectedEndOfScript="UnexpectedEndOfScript",s.UnexpectedIdentifier="UnexpectedIdentifier",s.UnexpectedNumber="UnexpectedNumber",s.UnexpectedString="UnexpectedString",s.UnexpectedTemplate="UnexpectedTemplate",s.UnexpectedToken="UnexpectedToken"}(Y||(Y={}));const he={[Y.InvalidModuleUri]:"Module uri must be a string literal",[Y.ForInOfLoopInitializer]:"for-in loop variable declaration may not have an initializer",[Y.IdentiferExpected]:"Identifier expected",[Y.InvalidEscapedReservedWord]:"Keyword cannot contain escaped characters",[Y.InvalidExpression]:"Invalid expression",[Y.InvalidFunctionIdentifier]:"Invalid function identifier",[Y.InvalidHexEscapeSequence]:"Invalid hexadecimal escape sequence",[Y.InvalidLeftHandSideInAssignment]:"Invalid left-hand side in assignment",[Y.InvalidLeftHandSideInForIn]:"Invalid left-hand side in for-in",[Y.InvalidTemplateHead]:"Invalid template structure",[Y.InvalidVariableAssignment]:"Invalid variable assignment",[Y.KeyMustBeString]:"Object keys must be a string",[Y.NoFunctionInsideBlock]:"Functions cannot be declared inside of code blocks",[Y.NoFunctionInsideFunction]:"Functions cannot be declared inside another function",[Y.ModuleExportRootOnly]:"Module exports cannot be declared inside of code blocks",[Y.ModuleImportRootOnly]:"Module import cannot be declared inside of code blocks",[Y.PunctuatorExpected]:"'${value}' expected",[Y.TemplateOctalLiteral]:"Octal literals are not allowed in template strings.",[Y.UnexpectedEndOfScript]:"Unexpected end of script",[Y.UnexpectedIdentifier]:"Unexpected identifier",[Y.UnexpectedNumber]:"Unexpected number",[Y.UnexpectedString]:"Unexpected string",[Y.UnexpectedTemplate]:"Unexpected quasi '${value}'",[Y.UnexpectedToken]:"Unexpected token"};class _e extends Error{constructor({code:i,index:a,line:o,column:d,len:D=0,description:P,data:q}){super(`${P??i}`),this.declaredRootClass="esri.arcade.lib.parsingerror",this.name="ParsingError",this.code=i,this.index=a,this.line=o,this.column=d,this.len=D,this.data=q,this.description=P,this.range={start:{line:o,column:d-1},end:{line:o,column:d+D}},Error.captureStackTrace?.(this,_e)}}function J(s){return s?.type===te.BlockStatement}function ae(s){return s?.type===te.BlockComment}function Pe(s){return s?.type===te.EmptyStatement}function pn(s){return s?.type===te.VariableDeclarator}function yn(s,i){return!!i&&i.loc.end.line===s.loc.start.line&&i.loc.end.column<=s.loc.start.column}function Kn(s,i){return s.range[0]>=i.range[0]&&s.range[1]<=i.range[1]}class Rr{constructor(){this.comments=[],this._nodeStack=[],this._newComments=[]}insertInnerComments(i){if(!J(i)||0!==i.body.length)return;const a=[];for(let o=this._newComments.length-1;o>=0;--o){const d=this._newComments[o];i.range[1]>=d.range[0]&&(a.unshift(d),this._newComments.splice(o,1))}a.length&&(i.innerComments=a)}attachTrailingComments(i){if(!i)return;const a=this._nodeStack[this._nodeStack.length-1];if(J(i)&&Kn(a,i))for(let d=this._newComments.length-1;d>=0;--d){const D=this._newComments[d];Kn(D,i)&&(a.trailingComments=[...a.trailingComments??[],D],this._newComments.splice(d,1))}let o=[];if(this._newComments.length>0)for(let d=this._newComments.length-1;d>=0;--d){const D=this._newComments[d];yn(D,a)?(a.trailingComments=[...a.trailingComments??[],D],this._newComments.splice(d,1)):yn(D,i)&&(o.unshift(D),this._newComments.splice(d,1))}a?.trailingComments&&yn(a.trailingComments[0],i)&&(o=[...o,...a.trailingComments],delete a.trailingComments),o.length>0&&(i.trailingComments=o)}attachLeadingComments(i){if(!i)return;let a;for(;this._nodeStack.length>0;){const D=this._nodeStack[this._nodeStack.length-1];if(!(i.range[0]<=D.range[0]))break;a=D,this._nodeStack.pop()}const o=[],d=[];if(a){for(let D=(a.leadingComments?.length??0)-1;D>=0;--D){const P=a.leadingComments[D];i.range[0]>=P.range[1]?(o.unshift(P),a.leadingComments.splice(D,1)):pn(i)&&!ae(P)&&(d.unshift(P),a.leadingComments.splice(D,1))}return 0===a.leadingComments?.length&&delete a.leadingComments,o.length&&(i.leadingComments=o),void(d.length&&(i.trailingComments=[...d,...i.trailingComments??[]]))}for(let D=this._newComments.length-1;D>=0;--D){const P=this._newComments[D];i.range[0]>=P.range[0]&&(o.unshift(P),this._newComments.splice(D,1))}o.length&&(i.leadingComments=o)}attachComments(i){if(function p(s){return s?.type===te.Program}(i)&&i.body.length>0){const a=this._nodeStack[this._nodeStack.length-1];return a?(a.trailingComments=[...a.trailingComments??[],...this._newComments],this._newComments.length=0,void this._nodeStack.pop()):(i.trailingComments=[...this._newComments],void(this._newComments.length=0))}this.attachTrailingComments(i),this.attachLeadingComments(i),this.insertInnerComments(i),this._nodeStack.push(i)}collectComment(i){this.comments.push(i),this._newComments.push(i)}}function gn(s,i){const a=he[s];return i?a.replace(/\${(.*?)}/g,(o,d)=>i[d]?.toString()??""):a}class Vr{constructor(i=!1){this.tolerant=i,this.errors=[]}recordError(i){this.errors.push(i)}tolerate(i){if(!this.tolerant)throw i;this.recordError(i)}throwError(i){throw i.description=i.description??gn(i.code,i.data),new _e(i)}tolerateError(i){i.description=i.description??gn(i.code,i.data);const a=new _e(i);if(!this.tolerant)throw a;this.recordError(a)}}function Wt(s,i){if(!s)throw new Error("ASSERT: "+i)}const $n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},ve={fromCodePoint:s=>s<65536?String.fromCharCode(s):String.fromCharCode(55296+(s-65536>>10))+String.fromCharCode(56320+(s-65536&1023)),isWhiteSpace:s=>32===s||9===s||11===s||12===s||160===s||s>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(s),isLineTerminator:s=>10===s||13===s||8232===s||8233===s,isIdentifierStart:s=>36===s||95===s||s>=65&&s<=90||s>=97&&s<=122||92===s||s>=128&&$n.NonAsciiIdentifierStart.test(ve.fromCodePoint(s)),isIdentifierPart:s=>36===s||95===s||s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||92===s||s>=128&&$n.NonAsciiIdentifierPart.test(ve.fromCodePoint(s)),isDecimalDigit:s=>s>=48&&s<=57,isHexDigit:s=>s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102,isOctalDigit:s=>s>=48&&s<=55};function Jn(s){return"0123456789abcdef".indexOf(s.toLowerCase())}function Dn(s){return"01234567".indexOf(s)}const Oe=[[],[],[]];_.forEach(s=>Oe[s.length-1].push(s)),v.forEach(s=>Oe[s.length-1].push(s)),N.forEach(s=>Oe[s.length-1].push(s)),I.forEach(s=>Oe[s.length-1].push(s)),["|","&",">>","<<",">>>","^","==","!=","<","<=",">",">=","+","-","*","/","%"].forEach(s=>Oe[s.length-1].push(s));class Ut{constructor(i,a){this.source=i,this.errorHandler=a,this._length=i.length,this.index=0,this.lineNumber=1,this.lineStart=0,this.curlyStack=[]}saveState(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}}restoreState(i){this.index=i.index,this.lineNumber=i.lineNumber,this.lineStart=i.lineStart,this.curlyStack=i.curlyStack}eof(){return this.index>=this._length}throwUnexpectedToken(i=Y.UnexpectedToken){this.errorHandler.throwError({code:i,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}tolerateUnexpectedToken(i=Y.UnexpectedToken){this.errorHandler.tolerateError({code:i,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}skipSingleLineComment(i){const a=[],o=this.index-i,d={start:{line:this.lineNumber,column:this.index-this.lineStart-i},end:{line:0,column:0}};for(;!this.eof();){const D=this.source.charCodeAt(this.index);if(++this.index,ve.isLineTerminator(D))return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart-1},a.push({multiLine:!1,start:o+i,end:this.index-1,range:[o,this.index-1],loc:d})),13===D&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,a}return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},a.push({multiLine:!1,start:o+i,end:this.index,range:[o,this.index],loc:d})),a}skipMultiLineComment(){const i=[],a=this.index-2,o={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}};for(;!this.eof();){const d=this.source.charCodeAt(this.index);if(ve.isLineTerminator(d))13===d&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===d){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,o&&(o.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,start:a+2,end:this.index-2,range:[a,this.index],loc:o})),i;++this.index}else++this.index}return o&&(o.end={line:this.lineNumber,column:this.index-this.lineStart},i.push({multiLine:!0,start:a+2,end:this.index,range:[a,this.index],loc:o})),this.tolerateUnexpectedToken(),i}scanComments(){let i=[];for(;!this.eof();){let a=this.source.charCodeAt(this.index);if(ve.isWhiteSpace(a))++this.index;else if(ve.isLineTerminator(a))++this.index,13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index;else{if(47!==a)break;if(a=this.source.charCodeAt(this.index+1),47===a){this.index+=2;const o=this.skipSingleLineComment(2);i=[...i,...o]}else{if(42!==a)break;{this.index+=2;const o=this.skipMultiLineComment();i=[...i,...o]}}}}return i}isKeyword(i){switch((i=i.toLowerCase()).length){case 2:return"if"===i||"in"===i;case 3:return"var"===i||"for"===i;case 4:return"else"===i;case 5:return"break"===i||"while"===i;case 6:return"return"===i||"import"===i||"export"===i;case 8:return"function"===i||"continue"===i;default:return!1}}codePointAt(i){let a=this.source.charCodeAt(i);if(a>=55296&&a<=56319){const o=this.source.charCodeAt(i+1);o>=56320&&o<=57343&&(a=1024*(a-55296)+o-56320+65536)}return a}scanHexEscape(i){const a="u"===i?4:2;let o=0;for(let d=0;d<a;++d){if(this.eof()||!ve.isHexDigit(this.source.charCodeAt(this.index)))return null;o=16*o+Jn(this.source[this.index++])}return String.fromCharCode(o)}scanUnicodeCodePointEscape(){let i=this.source[this.index],a=0;for("}"===i&&this.throwUnexpectedToken();!this.eof()&&(i=this.source[this.index++],ve.isHexDigit(i.charCodeAt(0)));)a=16*a+Jn(i);return(a>1114111||"}"!==i)&&this.throwUnexpectedToken(),ve.fromCodePoint(a)}getIdentifier(){const i=this.index++;for(;!this.eof();){const a=this.source.charCodeAt(this.index);if(92===a)return this.index=i,this.getComplexIdentifier();if(a>=55296&&a<57343)return this.index=i,this.getComplexIdentifier();if(!ve.isIdentifierPart(a))break;++this.index}return this.source.slice(i,this.index)}getComplexIdentifier(){let i,a=this.codePointAt(this.index),o=ve.fromCodePoint(a);for(this.index+=o.length,92===a&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),null!==i&&"\\"!==i&&ve.isIdentifierStart(i.charCodeAt(0))||this.throwUnexpectedToken()),o=i);!this.eof()&&(a=this.codePointAt(this.index),ve.isIdentifierPart(a));)i=ve.fromCodePoint(a),o+=i,this.index+=i.length,92===a&&(o=o.substring(0,o.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,i=this.scanUnicodeCodePointEscape()):(i=this.scanHexEscape("u"),null!==i&&"\\"!==i&&ve.isIdentifierPart(i.charCodeAt(0))||this.throwUnexpectedToken()),o+=i);return o}octalToDecimal(i){let a="0"!==i,o=Dn(i);return!this.eof()&&ve.isOctalDigit(this.source.charCodeAt(this.index))&&(a=!0,o=8*o+Dn(this.source[this.index++]),"0123".includes(i)&&!this.eof()&&ve.isOctalDigit(this.source.charCodeAt(this.index))&&(o=8*o+Dn(this.source[this.index++]))),{code:o,octal:a}}scanIdentifier(){let i;const a=this.index,o=92===this.source.charCodeAt(a)?this.getComplexIdentifier():this.getIdentifier();if(i=1===o.length?O.Identifier:this.isKeyword(o)?O.Keyword:"null"===o.toLowerCase()?O.NullLiteral:"true"===o.toLowerCase()||"false"===o.toLowerCase()?O.BooleanLiteral:O.Identifier,i!==O.Identifier&&a+o.length!==this.index){const d=this.index;this.index=a,this.tolerateUnexpectedToken(Y.InvalidEscapedReservedWord),this.index=d}return{type:i,value:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}}scanPunctuator(){const i=this.index;let a=this.source[this.index];switch(a){case"(":case"{":"{"===a&&this.curlyStack.push("{"),++this.index;break;case".":case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;case"}":++this.index,this.curlyStack.pop();break;default:for(let o=Oe.length;o>0;o--)if(a=this.source.substring(this.index,this.index+o),Oe[o-1].includes(a)){this.index+=o;break}}return this.index===i&&this.throwUnexpectedToken(),{type:O.Punctuator,value:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanHexLiteral(i){let a="";for(;!this.eof()&&ve.isHexDigit(this.source.charCodeAt(this.index));)a+=this.source[this.index++];return 0===a.length&&this.throwUnexpectedToken(),ve.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:O.NumericLiteral,value:parseInt("0x"+a,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanBinaryLiteral(i){let a="";for(;!this.eof();){const o=this.source[this.index];if("0"!==o&&"1"!==o)break;a+=this.source[this.index++]}if(0===a.length&&this.throwUnexpectedToken(),!this.eof()){const o=this.source.charCodeAt(this.index);(ve.isIdentifierStart(o)||ve.isDecimalDigit(o))&&this.throwUnexpectedToken()}return{type:O.NumericLiteral,value:parseInt(a,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanOctalLiteral(i,a){let o="",d=!1;for(ve.isOctalDigit(i.charCodeAt(0))?(d=!0,o="0"+this.source[this.index++]):++this.index;!this.eof()&&ve.isOctalDigit(this.source.charCodeAt(this.index));)o+=this.source[this.index++];return d||0!==o.length||this.throwUnexpectedToken(),(ve.isIdentifierStart(this.source.charCodeAt(this.index))||ve.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:O.NumericLiteral,value:parseInt(o,8),lineNumber:this.lineNumber,lineStart:this.lineStart,start:a,end:this.index}}scanNumericLiteral(){const i=this.index;let a=this.source[i];Wt(ve.isDecimalDigit(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point");let o="";if("."!==a){if(o=this.source[this.index++],a=this.source[this.index],"0"===o){if("x"===a||"X"===a)return++this.index,this.scanHexLiteral(i);if("b"===a||"B"===a)return++this.index,this.scanBinaryLiteral(i);if("o"===a||"O"===a)return this.scanOctalLiteral(a,i)}for(;ve.isDecimalDigit(this.source.charCodeAt(this.index));)o+=this.source[this.index++];a=this.source[this.index]}if("."===a){for(o+=this.source[this.index++];ve.isDecimalDigit(this.source.charCodeAt(this.index));)o+=this.source[this.index++];a=this.source[this.index]}if("e"===a||"E"===a)if(o+=this.source[this.index++],a=this.source[this.index],"+"!==a&&"-"!==a||(o+=this.source[this.index++]),ve.isDecimalDigit(this.source.charCodeAt(this.index)))for(;ve.isDecimalDigit(this.source.charCodeAt(this.index));)o+=this.source[this.index++];else this.throwUnexpectedToken();return ve.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:O.NumericLiteral,value:parseFloat(o),lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanStringLiteral(){const i=this.index;let a=this.source[i];Wt("'"===a||'"'===a,"String literal must starts with a quote"),++this.index;let o=!1,d="";for(;!this.eof();){let D=this.source[this.index++];if(D===a){a="";break}if("\\"===D)if(D=this.source[this.index++],D&&ve.isLineTerminator(D.charCodeAt(0)))++this.lineNumber,"\r"===D&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(D){case"u":if("{"===this.source[this.index])++this.index,d+=this.scanUnicodeCodePointEscape();else{const P=this.scanHexEscape(D);null===P&&this.throwUnexpectedToken(),d+=P}break;case"x":{const P=this.scanHexEscape(D);null===P&&this.throwUnexpectedToken(Y.InvalidHexEscapeSequence),d+=P;break}case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="\t";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;case"8":case"9":d+=D,this.tolerateUnexpectedToken();break;default:if(D&&ve.isOctalDigit(D.charCodeAt(0))){const P=this.octalToDecimal(D);o=P.octal||o,d+=String.fromCharCode(P.code)}else d+=D}else{if(ve.isLineTerminator(D.charCodeAt(0)))break;d+=D}}return""!==a&&(this.index=i,this.throwUnexpectedToken()),{type:O.StringLiteral,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}}scanTemplate(){let i="",a=!1;const o=this.index,d="`"===this.source[o];let D=!1,P=2;for(++this.index;!this.eof();){let q=this.source[this.index++];if("`"===q){P=1,D=!0,a=!0;break}if("$"!==q)if("\\"!==q)ve.isLineTerminator(q.charCodeAt(0))?(++this.lineNumber,"\r"===q&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,i+="\n"):i+=q;else if(q=this.source[this.index++],ve.isLineTerminator(q.charCodeAt(0)))++this.lineNumber,"\r"===q&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(q){case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"u":if("{"===this.source[this.index])++this.index,i+=this.scanUnicodeCodePointEscape();else{const ue=this.index,le=this.scanHexEscape(q);null!==le?i+=le:(this.index=ue,i+=q)}break;case"x":{const ue=this.scanHexEscape(q);null===ue&&this.throwUnexpectedToken(Y.InvalidHexEscapeSequence),i+=ue;break}case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:"0"===q?(ve.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(Y.TemplateOctalLiteral),i+="\0"):ve.isOctalDigit(q.charCodeAt(0))?this.throwUnexpectedToken(Y.TemplateOctalLiteral):i+=q}else{if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,a=!0;break}i+=q}}return a||this.throwUnexpectedToken(),d||this.curlyStack.pop(),{type:O.Template,value:this.source.slice(o+1,this.index-P),cooked:i,head:d,tail:D,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}lex(){if(this.eof())return{type:O.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const i=this.source.charCodeAt(this.index);return ve.isIdentifierStart(i)?this.scanIdentifier():40===i||41===i||59===i?this.scanPunctuator():39===i||34===i?this.scanStringLiteral():46===i?ve.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():ve.isDecimalDigit(i)?this.scanNumericLiteral():96===i||125===i&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():i>=55296&&i<57343&&ve.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()}}var je,wt;function xn(s,i=0){let a=s.start-s.lineStart,o=s.lineNumber;return a<0&&(a+=i,o--),{index:s.start,line:o,column:a}}function En(s){return[{index:s.range[0],...s.loc.start},{index:s.range[1],...s.loc.end}]}function Yn(s){return re[s]??0}(function(s){s[s.None=0]="None",s[s.Function=1]="Function",s[s.IfClause=2]="IfClause",s[s.ForLoop=4]="ForLoop",s[s.WhileLoop=8]="WhileLoop"})(je||(je={})),function(s){s[s.AsObject=0]="AsObject",s[s.Automatic=1]="Automatic"}(wt||(wt={}));class wn{constructor(i,a={},o){this.delegate=o,this.hasLineTerminator=!1,this.options={tokens:"boolean"==typeof a.tokens&&a.tokens,comments:"boolean"==typeof a.comments&&a.comments,tolerant:"boolean"==typeof a.tolerant&&a.tolerant},this.options.comments&&(this.commentHandler=new Rr),this.errorHandler=new Vr(this.options.tolerant),this.scanner=new Ut(i,this.errorHandler),this.context={isAssignmentTarget:!1,blockContext:je.None,curlyParsingType:wt.AsObject},this.rawToken={type:O.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.endMarker={index:0,line:this.scanner.lineNumber,column:0},this.readNextRawToken(),this.endMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}throwIfInvalidType(i,a,{validTypes:o,invalidTypes:d}){o?.some(D=>i.type===D)||d?.some(D=>i.type===D)&&this.throwError(Y.InvalidExpression,a)}throwError(i,a,o=this.endMarker){const{index:d,line:D,column:P}=a;this.errorHandler.throwError({code:i,index:d,line:D,column:P+1,len:o.index-d-1})}tolerateError(i,a){throw new Error("######################################### !!!")}unexpectedTokenError(i={}){const{rawToken:a}=i;let o,{code:d,data:D}=i;if(a){if(!d)switch(a.type){case O.EOF:d=Y.UnexpectedEndOfScript;break;case O.Identifier:d=Y.UnexpectedIdentifier;break;case O.NumericLiteral:d=Y.UnexpectedNumber;break;case O.StringLiteral:d=Y.UnexpectedString;break;case O.Template:d=Y.UnexpectedTemplate}o=a.value.toString()}else o="ILLEGAL";d=d??Y.UnexpectedToken,D||(D={value:o});const P=gn(d,D);if(a)return new _e({code:d,index:a.start,line:a.lineNumber,column:a.start-a.lineStart+1,len:a.end-a.start-1,data:D,description:P});const{index:q,line:ue}=this.endMarker;return new _e({code:d,index:q,line:ue,column:this.endMarker.column+1,data:D,description:P})}throwUnexpectedToken(i={}){throw i.rawToken=i.rawToken??this.rawToken,this.unexpectedTokenError(i)}collectComments(i){const{commentHandler:a}=this;a&&i?.length&&i.forEach(o=>{const d={type:o.multiLine?te.BlockComment:te.LineComment,value:this.getSourceValue(o),range:o.range,loc:o.loc};a.collectComment(d)})}peekAhead(i){const o=this.scanner.saveState(),d=i.call(this,()=>(this.scanner.scanComments(),this.scanner.lex()));return this.scanner.restoreState(o),d}getSourceValue(i){return this.scanner.source.slice(i.start,i.end)}convertToToken(i){return{type:ee[i.type],value:this.getSourceValue(i),range:[i.start,i.end],loc:{start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}}readNextRawToken(){this.endMarker.index=this.scanner.index,this.endMarker.line=this.scanner.lineNumber,this.endMarker.column=this.scanner.index-this.scanner.lineStart;const i=this.rawToken;this.collectComments(this.scanner.scanComments()),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart),this.rawToken=this.scanner.lex(),this.hasLineTerminator=i.lineNumber!==this.rawToken.lineNumber,this.options.tokens&&this.rawToken.type!==O.EOF&&this.tokens.push(this.convertToToken(this.rawToken))}captureStartMarker(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}}getItemLocation(i){return{range:[i.index,this.endMarker.index],loc:{start:{line:i.line,column:i.column},end:{line:this.endMarker.line,column:this.endMarker.column}}}}finalize(i){return(this.delegate||this.commentHandler)&&(this.commentHandler?.attachComments(i),this.delegate?.(i)),i}expectPunctuator(i){const a=this.rawToken;this.matchPunctuator(i)?this.readNextRawToken():this.throwUnexpectedToken({rawToken:a,code:Y.PunctuatorExpected,data:{value:i}})}expectKeyword(i){this.rawToken.type!==O.Keyword||this.rawToken.value.toLowerCase()!==i?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}expectContextualKeyword(i){this.rawToken.type!==O.Identifier||this.rawToken.value.toLowerCase()!==i?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}matchKeyword(i){return this.rawToken.type===O.Keyword&&this.rawToken.value.toLowerCase()===i}matchContextualKeyword(i){return this.rawToken.type===O.Identifier&&this.rawToken.value===i}matchPunctuator(i){return this.rawToken.type===O.Punctuator&&this.rawToken.value===i}getMatchingPunctuator(i){if("string"==typeof i&&(i=i.split("")),this.rawToken.type===O.Punctuator&&i?.length)return i.find(this.matchPunctuator,this)}isolateCoverGrammar(i){const a=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;const o=i.call(this);return this.context.isAssignmentTarget=a,o}inheritCoverGrammar(i){const a=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;const o=i.call(this);return this.context.isAssignmentTarget=this.context.isAssignmentTarget&&a,o}withBlockContext(i,a){const o=this.context.blockContext;this.context.blockContext=this.context.blockContext|i;const d=this.context.curlyParsingType;this.context.curlyParsingType=wt.Automatic;const D=a.call(this);return this.context.blockContext=o,this.context.curlyParsingType=d,D}consumeSemicolon(){if(this.matchPunctuator(";"))this.readNextRawToken();else if(!this.hasLineTerminator)return this.rawToken.type===O.EOF||this.matchPunctuator("}")?(this.endMarker.index=this.startMarker.index,this.endMarker.line=this.startMarker.line,void(this.endMarker.column=this.startMarker.column)):void this.throwUnexpectedToken({rawToken:this.rawToken})}parsePrimaryExpression(){const i=this.captureStartMarker(),a=this.rawToken;switch(a.type){case O.Identifier:return this.readNextRawToken(),this.finalize({type:te.Identifier,name:a.value,...this.getItemLocation(i)});case O.NumericLiteral:case O.StringLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:te.Literal,value:a.value,raw:this.getSourceValue(a),isString:"string"==typeof a.value,...this.getItemLocation(i)});case O.BooleanLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:te.Literal,value:"true"===a.value.toLowerCase(),raw:this.getSourceValue(a),isString:!1,...this.getItemLocation(i)});case O.NullLiteral:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:te.Literal,value:null,raw:this.getSourceValue(a),isString:!1,...this.getItemLocation(i)});case O.Template:return this.parseTemplateLiteral();case O.Punctuator:switch(a.value){case"(":return this.inheritCoverGrammar(this.parseGroupExpression);case"[":return this.inheritCoverGrammar(this.parseArrayInitializer);case"{":return this.inheritCoverGrammar(this.parseObjectExpression);default:return this.throwUnexpectedToken({rawToken:this.rawToken})}case O.Keyword:return this.context.isAssignmentTarget=!1,this.throwUnexpectedToken({rawToken:this.rawToken});default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseArrayInitializer(){const i=this.captureStartMarker();this.expectPunctuator("[");const a=[];for(;!this.matchPunctuator("]");)this.matchPunctuator(",")?(this.readNextRawToken(),a.push(null)):(a.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.matchPunctuator("]")||this.expectPunctuator(","));return this.expectPunctuator("]"),this.finalize({type:te.ArrayExpression,elements:a,...this.getItemLocation(i)})}parseObjectPropertyKey(){const i=this.captureStartMarker(),a=this.rawToken;switch(a.type){case O.StringLiteral:return this.readNextRawToken(),this.finalize({type:te.Literal,value:a.value,raw:this.getSourceValue(a),isString:!0,...this.getItemLocation(i)});case O.Identifier:case O.BooleanLiteral:case O.NullLiteral:case O.Keyword:return this.readNextRawToken(),this.finalize({type:te.Identifier,name:a.value,...this.getItemLocation(i)});default:this.throwError(Y.KeyMustBeString,i)}}parseObjectProperty(){const i=this.rawToken,a=this.captureStartMarker(),o=this.parseObjectPropertyKey();let d=!1,D=null;return this.matchPunctuator(":")?(this.readNextRawToken(),D=this.inheritCoverGrammar(this.parseAssignmentExpression)):i.type===O.Identifier?(d=!0,D=this.finalize({type:te.Identifier,name:i.value,...this.getItemLocation(a)})):this.throwUnexpectedToken({rawToken:this.rawToken}),this.finalize({type:te.Property,kind:"init",key:o,value:D,shorthand:d,...this.getItemLocation(a)})}parseObjectExpression(){const i=this.captureStartMarker();this.expectPunctuator("{");const a=[];for(;!this.matchPunctuator("}");)a.push(this.parseObjectProperty()),this.matchPunctuator("}")||this.expectPunctuator(",");return this.expectPunctuator("}"),this.finalize({type:te.ObjectExpression,properties:a,...this.getItemLocation(i)})}parseTemplateElement(i=!1){const a=this.rawToken;a.type!==O.Template&&this.throwUnexpectedToken({rawToken:a}),i&&!a.head&&this.throwUnexpectedToken({code:Y.InvalidTemplateHead,rawToken:a});const o=this.captureStartMarker();this.readNextRawToken();const{value:d,cooked:D,tail:P}=a,q=this.finalize({type:te.TemplateElement,value:{raw:d,cooked:D},tail:P,...this.getItemLocation(o)});return q.loc.start.column++,q.loc.end.column=q.loc.end.column-(P?1:2),q}parseTemplateLiteral(){const i=this.captureStartMarker(),a=[],o=[];let d=this.parseTemplateElement(!0);for(o.push(d);!d.tail;)a.push(this.parseExpression()),d=this.parseTemplateElement(),o.push(d);return this.finalize({type:te.TemplateLiteral,quasis:o,expressions:a,...this.getItemLocation(i)})}parseGroupExpression(){this.expectPunctuator("(");const i=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.expectPunctuator(")"),i}parseArguments(){this.expectPunctuator("(");const i=[];if(!this.matchPunctuator(")"))for(;;){const a=this.isolateCoverGrammar(this.parseAssignmentExpression);if(i.push(a),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),i}parseMemberName(){const i=this.rawToken,a=this.captureStartMarker();return this.readNextRawToken(),i.type!==O.NullLiteral&&i.type!==O.Identifier&&i.type!==O.Keyword&&i.type!==O.BooleanLiteral&&this.throwUnexpectedToken({rawToken:i}),this.finalize({type:te.Identifier,name:i.value,...this.getItemLocation(a)})}parseLeftHandSideExpression(){const i=this.captureStartMarker();let a=this.inheritCoverGrammar(this.parsePrimaryExpression);const o=this.captureStartMarker();let d;for(;d=this.getMatchingPunctuator("([.");)switch(d){case"(":{this.context.isAssignmentTarget=!1,a.type!==te.Identifier&&a.type!==te.MemberExpression&&this.throwError(Y.IdentiferExpected,i,o);const D=this.parseArguments();a=this.finalize({type:te.CallExpression,callee:a,arguments:D,...this.getItemLocation(i)});continue}case"[":{this.context.isAssignmentTarget=!0,this.expectPunctuator("[");const D=this.isolateCoverGrammar(this.parseExpression);this.expectPunctuator("]"),a=this.finalize({type:te.MemberExpression,computed:!0,object:a,property:D,...this.getItemLocation(i)});continue}case".":{this.context.isAssignmentTarget=!0,this.expectPunctuator(".");const D=this.parseMemberName();a=this.finalize({type:te.MemberExpression,computed:!1,object:a,property:D,...this.getItemLocation(i)});continue}}return a}parseUpdateExpression(){const i=this.captureStartMarker();let a=this.getMatchingPunctuator(_);if(a){this.readNextRawToken();const P=this.captureStartMarker(),q=this.inheritCoverGrammar(this.parseUnaryExpression);return q.type!==te.Identifier&&q.type!==te.MemberExpression&&q.type!==te.CallExpression&&this.throwError(Y.InvalidExpression,P),this.context.isAssignmentTarget||this.tolerateError(Y.InvalidLeftHandSideInAssignment,i),this.context.isAssignmentTarget=!1,this.finalize({type:te.UpdateExpression,operator:a,argument:q,prefix:!0,...this.getItemLocation(i)})}const o=this.captureStartMarker(),d=this.inheritCoverGrammar(this.parseLeftHandSideExpression),D=this.captureStartMarker();return this.hasLineTerminator?d:(a=this.getMatchingPunctuator(_),a?(d.type!==te.Identifier&&d.type!==te.MemberExpression&&this.throwError(Y.InvalidExpression,o,D),this.context.isAssignmentTarget||this.tolerateError(Y.InvalidLeftHandSideInAssignment,i),this.readNextRawToken(),this.context.isAssignmentTarget=!1,this.finalize({type:te.UpdateExpression,operator:a,argument:d,prefix:!1,...this.getItemLocation(i)})):d)}parseUnaryExpression(){const i=this.getMatchingPunctuator(v);if(i){const a=this.captureStartMarker();this.readNextRawToken();const o=this.inheritCoverGrammar(this.parseUnaryExpression);return this.context.isAssignmentTarget=!1,this.finalize({type:te.UnaryExpression,operator:i,argument:o,prefix:!0,...this.getItemLocation(a)})}return this.parseUpdateExpression()}parseBinaryExpression(){const i=this.rawToken;let a=this.inheritCoverGrammar(this.parseUnaryExpression);if(this.rawToken.type!==O.Punctuator)return a;const o=this.rawToken.value;let d=Yn(o);if(0===d)return a;this.readNextRawToken(),this.context.isAssignmentTarget=!1;const D=[i,this.rawToken];let P=a,q=this.inheritCoverGrammar(this.parseUnaryExpression);const ue=[P,o,q],le=[d];for(;this.rawToken.type===O.Punctuator&&(d=Yn(this.rawToken.value))>0;){for(;ue.length>2&&d<=le[le.length-1];){q=ue.pop();const Ee=ue.pop();le.pop(),P=ue.pop(),D.pop();const Re=D[D.length-1],nt=xn(Re,Re.lineStart);ue.push(this.finalize(this.createBinaryOrLogicalExpression(nt,Ee,P,q)))}ue.push(this.rawToken.value),le.push(d),D.push(this.rawToken),this.readNextRawToken(),ue.push(this.inheritCoverGrammar(this.parseUnaryExpression))}let ye=ue.length-1;a=ue[ye];let xe=D.pop();for(;ye>1;){const Ee=D.pop();if(!Ee)break;const Re=xe?.lineStart,nt=xn(Ee,Re);a=this.finalize(this.createBinaryOrLogicalExpression(nt,ue[ye-1],ue[ye-2],a)),ye-=2,xe=Ee}return a}createBinaryOrLogicalExpression(i,a,o,d){const D=N.includes(a)?te.LogicalExpression:te.BinaryExpression;return D===te.BinaryExpression||(o.type!==te.AssignmentExpression&&o.type!==te.UpdateExpression||this.throwError(Y.InvalidExpression,...En(o)),d.type!==te.AssignmentExpression&&d.type!==te.UpdateExpression||this.throwError(Y.InvalidExpression,...En(o))),{type:D,operator:a,left:o,right:d,...this.getItemLocation(i)}}parseAssignmentExpression(){const i=this.captureStartMarker(),a=this.inheritCoverGrammar(this.parseBinaryExpression),o=this.captureStartMarker(),d=this.getMatchingPunctuator(I);if(!d)return a;a.type!==te.Identifier&&a.type!==te.MemberExpression&&this.throwError(Y.InvalidExpression,i,o),this.context.isAssignmentTarget||this.tolerateError(Y.InvalidLeftHandSideInAssignment,i),this.matchPunctuator("=")||(this.context.isAssignmentTarget=!1),this.readNextRawToken();const D=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize({type:te.AssignmentExpression,left:a,operator:d,right:D,...this.getItemLocation(i)})}parseExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpression)}parseStatements(i=null){const a=[];for(;this.rawToken.type!==O.EOF&&!this.matchPunctuator(i);){const o=this.parseStatementListItem();Pe(o)||a.push(o)}return a}parseStatementListItem(){return this.context.isAssignmentTarget=!0,this.matchKeyword("function")?this.parseFunctionDeclaration():this.matchKeyword("export")?this.parseExportDeclaration():this.matchKeyword("import")?this.parseImportDeclaration():this.parseStatement()}parseBlock(){const i=this.captureStartMarker();this.expectPunctuator("{");const a=this.parseStatements("}");return this.expectPunctuator("}"),this.finalize({type:te.BlockStatement,body:a,...this.getItemLocation(i)})}parseObjectStatement(){const i=this.captureStartMarker(),a=this.parseObjectExpression();return this.finalize({type:te.ExpressionStatement,expression:a,...this.getItemLocation(i)})}parseBlockOrObjectStatement(){return this.context.curlyParsingType===wt.AsObject||this.peekAhead(i=>{let a=i();return(a.type===O.Identifier||a.type===O.StringLiteral)&&(a=i(),a.type===O.Punctuator&&":"===a.value)})?this.parseObjectStatement():this.parseBlock()}parseIdentifier(){const i=this.rawToken;if(i.type!==O.Identifier)return null;const a=this.captureStartMarker();return this.readNextRawToken(),this.finalize({type:te.Identifier,name:i.value,...this.getItemLocation(a)})}parseVariableDeclarator(){const i=this.captureStartMarker(),a=this.parseIdentifier();a||this.throwUnexpectedToken({code:Y.IdentiferExpected});let o=null;if(this.matchPunctuator("=")){this.readNextRawToken();const d=this.rawToken;try{o=this.isolateCoverGrammar(this.parseAssignmentExpression)}catch{this.throwUnexpectedToken({rawToken:d,code:Y.InvalidVariableAssignment})}}return this.finalize({type:te.VariableDeclarator,id:a,init:o,...this.getItemLocation(i)})}parseVariableDeclarationList(){const i=[this.parseVariableDeclarator()];for(;this.matchPunctuator(",");)this.readNextRawToken(),i.push(this.parseVariableDeclarator());return i}parseVariableDeclaration(){const i=this.captureStartMarker();this.expectKeyword("var");const a=this.parseVariableDeclarationList();return this.consumeSemicolon(),this.finalize({type:te.VariableDeclaration,declarations:a,kind:"var",...this.getItemLocation(i)})}parseEmptyStatement(){const i=this.captureStartMarker();return this.expectPunctuator(";"),this.finalize({type:te.EmptyStatement,...this.getItemLocation(i)})}parseExpressionStatement(){const i=this.captureStartMarker(),a=this.parseExpression();return this.consumeSemicolon(),this.finalize({type:te.ExpressionStatement,expression:a,...this.getItemLocation(i)})}parseIfClause(){return this.withBlockContext(je.IfClause,this.parseStatement)}parseIfStatement(){const i=this.captureStartMarker();this.expectKeyword("if"),this.expectPunctuator("(");const a=this.captureStartMarker(),o=this.parseExpression(),d=this.captureStartMarker();this.expectPunctuator(")"),o.type!==te.AssignmentExpression&&o.type!==te.UpdateExpression||this.throwError(Y.InvalidExpression,a,d);const D=this.parseIfClause();let P=null;return this.matchKeyword("else")&&(this.readNextRawToken(),P=this.parseIfClause()),this.finalize({type:te.IfStatement,test:o,consequent:D,alternate:P,...this.getItemLocation(i)})}parseWhileStatement(){const i=this.captureStartMarker();this.expectKeyword("while"),this.expectPunctuator("(");const a=this.captureStartMarker(),o=this.parseExpression(),d=this.captureStartMarker();this.expectPunctuator(")"),o.type!==te.AssignmentExpression&&o.type!==te.UpdateExpression||this.throwError(Y.InvalidExpression,a,d);const D=this.withBlockContext(je.WhileLoop,this.parseStatement);return this.finalize({type:te.WhileStatement,test:o,body:D,...this.getItemLocation(i)})}parseForStatement(){let i=null,a=null,o=null,d=null,D=null;const P=this.captureStartMarker();if(this.expectKeyword("for"),this.expectPunctuator("("),this.matchPunctuator(";"))this.readNextRawToken();else if(this.matchKeyword("var")){const ue=this.captureStartMarker();this.readNextRawToken();const le=this.parseVariableDeclarationList();1===le.length&&this.matchKeyword("in")?(le[0].init&&this.throwError(Y.ForInOfLoopInitializer,ue),d=this.finalize({type:te.VariableDeclaration,declarations:le,kind:"var",...this.getItemLocation(ue)}),this.readNextRawToken(),D=this.parseExpression()):(this.matchKeyword("in")&&this.throwError(Y.InvalidLeftHandSideInForIn,ue),i=this.finalize({type:te.VariableDeclaration,declarations:le,kind:"var",...this.getItemLocation(ue)}),this.expectPunctuator(";"))}else{const ue=this.context.isAssignmentTarget,le=this.captureStartMarker();i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.matchKeyword("in")?(this.context.isAssignmentTarget||this.tolerateError(Y.InvalidLeftHandSideInForIn,le),i.type!==te.Identifier&&this.throwError(Y.InvalidLeftHandSideInForIn,le),this.readNextRawToken(),d=i,D=this.parseExpression(),i=null):(this.context.isAssignmentTarget=ue,this.expectPunctuator(";"))}d||(this.matchPunctuator(";")||(a=this.isolateCoverGrammar(this.parseExpression)),this.expectPunctuator(";"),this.matchPunctuator(")")||(o=this.isolateCoverGrammar(this.parseExpression))),this.expectPunctuator(")");const q=this.withBlockContext(je.ForLoop,()=>this.isolateCoverGrammar(this.parseStatement));return this.finalize(d&&D?{type:te.ForInStatement,left:d,right:D,body:q,...this.getItemLocation(P)}:{type:te.ForStatement,init:i,test:a,update:o,body:q,...this.getItemLocation(P)})}parseContinueStatement(){const i=this.captureStartMarker();return this.expectKeyword("continue"),this.consumeSemicolon(),this.finalize({type:te.ContinueStatement,...this.getItemLocation(i)})}parseBreakStatement(){const i=this.captureStartMarker();return this.expectKeyword("break"),this.consumeSemicolon(),this.finalize({type:te.BreakStatement,...this.getItemLocation(i)})}parseReturnStatement(){const i=this.captureStartMarker();this.expectKeyword("return");const a=(this.matchPunctuator(";")||this.matchPunctuator("}")||this.hasLineTerminator||this.rawToken.type===O.EOF)&&this.rawToken.type!==O.StringLiteral&&this.rawToken.type!==O.Template?null:this.parseExpression();return this.consumeSemicolon(),this.finalize({type:te.ReturnStatement,argument:a,...this.getItemLocation(i)})}parseStatement(){switch(this.rawToken.type){case O.BooleanLiteral:case O.NullLiteral:case O.NumericLiteral:case O.StringLiteral:case O.Template:case O.Identifier:return this.parseExpressionStatement();case O.Punctuator:return"{"===this.rawToken.value?this.parseBlockOrObjectStatement():"("===this.rawToken.value?this.parseExpressionStatement():";"===this.rawToken.value?this.parseEmptyStatement():this.parseExpressionStatement();case O.Keyword:switch(this.rawToken.value.toLowerCase()){case"break":return this.parseBreakStatement();case"continue":return this.parseContinueStatement();case"for":return this.parseForStatement();case"function":return this.parseFunctionDeclaration();case"if":return this.parseIfStatement();case"return":return this.parseReturnStatement();case"var":return this.parseVariableDeclaration();case"while":return this.parseWhileStatement();default:return this.parseExpressionStatement()}default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseFormalParameters(){const i=[];if(this.expectPunctuator("("),!this.matchPunctuator(")"))for(;this.rawToken.type!==O.EOF;){const a=this.parseIdentifier();if(a||this.throwUnexpectedToken({rawToken:this.rawToken,code:Y.IdentiferExpected}),i.push(a),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),i}parseFunctionDeclaration(){(this.context.blockContext&je.Function)===je.Function&&this.throwUnexpectedToken({code:Y.NoFunctionInsideFunction}),(this.context.blockContext&je.WhileLoop)!==je.WhileLoop&&(this.context.blockContext&je.IfClause)!==je.IfClause||this.throwUnexpectedToken({code:Y.NoFunctionInsideBlock});const i=this.captureStartMarker();this.expectKeyword("function");const a=this.parseIdentifier();a||this.throwUnexpectedToken({code:Y.InvalidFunctionIdentifier});const o=this.parseFormalParameters(),d=this.context.blockContext;this.context.blockContext=this.context.blockContext|je.Function;const D=this.parseBlock();return this.context.blockContext=d,this.finalize({type:te.FunctionDeclaration,id:a,params:o,body:D,...this.getItemLocation(i)})}parseScript(){const i=this.captureStartMarker(),a=this.parseStatements(),o=this.finalize({type:te.Program,body:a,...this.getItemLocation(i)});return this.options.tokens&&(o.tokens=this.tokens),this.options.tolerant&&(o.errors=this.errorHandler.errors),o}parseExportDeclaration(){this.context.blockContext!==je.None&&this.throwUnexpectedToken({code:Y.ModuleExportRootOnly});let i=null;const a=this.captureStartMarker();return this.expectKeyword("export"),this.matchKeyword("var")?i=this.parseVariableDeclaration():this.matchKeyword("function")?i=this.parseFunctionDeclaration():this.throwUnexpectedToken({code:Y.InvalidExpression}),this.finalize({type:te.ExportNamedDeclaration,declaration:i,specifiers:[],source:null,...this.getItemLocation(a)})}parseModuleSpecifier(){const i=this.captureStartMarker(),a=this.rawToken;if(a.type===O.StringLiteral)return this.readNextRawToken(),this.finalize({type:te.Literal,value:a.value,raw:this.getSourceValue(a),isString:!0,...this.getItemLocation(i)});this.throwError(Y.InvalidModuleUri,i)}parseDefaultSpecifier(){const i=this.captureStartMarker(),a=this.parseIdentifier();return a||this.throwUnexpectedToken({code:Y.InvalidFunctionIdentifier}),this.finalize({type:te.ImportDefaultSpecifier,local:a,...this.getItemLocation(i)})}parseImportDeclaration(){this.context.blockContext!==je.None&&this.throwUnexpectedToken({code:Y.ModuleImportRootOnly});const i=this.captureStartMarker();this.expectKeyword("import");const a=this.parseDefaultSpecifier();this.expectContextualKeyword("from");const o=this.parseModuleSpecifier();return this.finalize({type:te.ImportDeclaration,specifiers:[a],source:o,...this.getItemLocation(i)})}}function en(s,i=[]){const a=function Fn(s,i,a){return new wn(s,i,a).parseScript()}(s);if(null==a.body)throw new _e({index:0,line:0,column:0,data:null,description:"",code:Y.InvalidExpression});if(0===a.body.length)throw new _e({index:0,line:0,column:0,data:null,description:"",code:Y.InvalidExpression});if(0===a.body.length)throw new _e({index:0,line:0,column:0,data:null,description:"",code:Y.InvalidExpression});return a.loadedModules={},(0,K.dN)(a,i),a}class tn{constructor(i){const a=this;a._keys=[],a._values=[],a.length=0,i&&i.forEach(o=>{a.set(o[0],o[1])})}entries(){return[].slice.call(this.keys().map((i,a)=>[i,this._values[a]]))}keys(){return[].slice.call(this._keys)}values(){return[].slice.call(this._values)}has(i){return this._keys.includes(i)}get(i){const a=this._keys.indexOf(i);return a>-1?this._values[a]:null}deepGet(i){if(!i||!i.length)return null;const a=(o,d)=>null==o?null:d.length?a(o instanceof tn?o.get(d[0]):o[d[0]],d.slice(1)):o;return a(this.get(i[0]),i.slice(1))}set(i,a){const o=this,d=this._keys.indexOf(i);return d>-1?o._values[d]=a:(o._keys.push(i),o._values.push(a),o.length=o._values.length),this}sortedSet(i,a,o,d){const D=this,P=this._keys.length,q=o||0,ue=void 0!==d?d:P-1;if(0===P)return D._keys.push(i),D._values.push(a),D;if(i===this._keys[q])return this._values.splice(q,0,a),this;if(i===this._keys[ue])return this._values.splice(ue,0,a),this;if(i>this._keys[ue])return this._keys.splice(ue+1,0,i),this._values.splice(ue+1,0,a),this;if(i<this._keys[q])return this._values.splice(q,0,a),this._keys.splice(q,0,i),this;if(q>=ue)return this;const le=q+Math.floor((ue-q)/2);return i<this._keys[le]?this.sortedSet(i,a,q,le-1):i>this._keys[le]?this.sortedSet(i,a,le+1,ue):this}size(){return this.length}clear(){const i=this;return i._keys.length=i.length=i._values.length=0,this}delete(i){const a=this,o=a._keys.indexOf(i);return o>-1&&(a._keys.splice(o,1),a._values.splice(o,1),a.length=a._keys.length,!0)}forEach(i){this._keys.forEach((a,o)=>{i(this._values[o],a,o)})}map(i){return this.keys().map((a,o)=>i(this._values[o],a,o))}filter(i){const a=this;return a._keys.forEach((o,d)=>{!1===i(a._values[d],o,d)&&a.delete(o)}),this}clone(){return new tn(this.entries())}}class qn{constructor(i=20){this._maxEntries=i,this._values=new tn}delete(i){this._values.has(i)&&this._values.delete(i)}get(i){let a=null;return this._values.has(i)&&(a=this._values.get(i),this._values.delete(i),this._values.set(i,a)),a}put(i,a){if(this._values.size()>=this._maxEntries){const o=this._values.keys()[0];this._values.delete(o)}this._values.set(i,a)}}class et{constructor(i){this.portalUri=i}normalizeModuleUri(i){const a=/^[a-z0-9A-Z]+(@[0-9]+\.[0-9]+\.[0-9]+)?([\?|\/].*)?$/gi,o=/(?<portalurl>.+)\/home\/item\.html\?id\=(?<itemid>.+)$/gi,d=/(?<portalurl>.+)\/sharing\/rest\/content\/users\/[a-zA-Z0-9]+\/items\/(?<itemid>.+)$/gi,D=/(?<portalurl>.+)\/sharing\/rest\/content\/items\/(?<itemid>.+)$/gi,P=/(?<itemid>.*)@(?<versionstring>[0-9]+\.[0-9]+\.[0-9]+)([\?|\/].*)?$/gi;if(i.startsWith("portal+")){let q=i.substring(7),ue="",le=q,ye=!1;for(const Re of[o,D,d]){const nt=Re.exec(q);if(null!==nt){const zt=nt.groups;le=zt.itemid,ue=zt.portalurl,ye=!0;break}}if(!1===ye){if(!a.test(q))throw new c.Tu(c.TD.UnsupportedUriProtocol,{uri:i});le=q,ue=this.portalUri}le.includes("/")&&(le=le.split("/")[0]),le.includes("?")&&(le=le.split("?")[0]);let xe="current";const Ee=P.exec(le);if(null!==Ee){const Re=Ee.groups;le=Re.itemid,xe=Re.versionstring}return q=new We.Z({url:ue}).restUrl+"/content/items/"+le+"/resources/"+xe+".arc",{url:q,scheme:"portal",uri:"PO:"+q}}if(i.startsWith("mock")){if("mock"===i)return{url:"",scheme:"mock",data:'\n      export var hello = 1;\n      export function helloWorld() {\n          return "Hello World " + hello;\n      }\n  ',uri:"mock"};const q=i.replace("mock:","");if(void 0!==et.mocks[q])return{url:"",scheme:"mock",data:et.mocks[q],uri:i}}throw new c.Tu(c.TD.UnrecognisedUri,{uri:i})}fetchModule(i){var a=this;return(0,z.Z)(function*(){const o=et.cachedModules.getFromCache(i.uri);if(o)return o;const d=a.fetchSource(i);et.cachedModules.addToCache(i.uri,d);let D=null;try{D=yield d}catch(P){throw et.cachedModules.removeFromCache(i.uri),P}return D})()}fetchSource(i){return(0,z.Z)(function*(){if("portal"===i.scheme){const a=yield(0,Mt.default)(i.url,{responseType:"text",query:{}});if(a.data)return en(a.data,[])}if("mock"===i.scheme)return en(i.data??"",[]);throw new c.Tu(c.TD.UnsupportedUriProtocol)})()}static create(i){return new et(i)}static getDefault(){return this._default??(et._default=et._moduleResolverFactory())}static set moduleResolverClass(i){this._moduleResolverFactory=i,this._default=null}}et.mocks={},et.cachedModules=new class Ur{constructor(i=20){this._maxEntries=i,this._cache=new qn(this._maxEntries)}clear(){this._cache=new qn(this._maxEntries)}addToCache(i,a){this._cache.put(i,a)}removeFromCache(i){this._cache.delete(i)}getFromCache(i){return this._cache.get(i)}}(30),et._default=null,et._moduleResolverFactory=()=>{const s=We.Z.getDefault();return new et(s.url)};class Qn extends S.Rm{constructor(i,a){super(),this.definition=null,this.context=null,this.definition=i,this.context=a}createFunction(i){return(...a)=>{const o={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:i.depthCounter.depth+1},globalScope:this.context.globalScope};if(o.depthCounter.depth>64)throw new c.aV(i,c.rH.MaximumCallDepth,null);return An(this.definition,o,a,null)}}call(i,a){return Ft(i,a,(o,d,D)=>{const P={spatialReference:i.spatialReference,globalScope:i.globalScope,depthCounter:{depth:i.depthCounter.depth+1},libraryResolver:i.libraryResolver,exports:i.exports,console:i.console,lrucache:i.lrucache,interceptor:i.interceptor,localScope:{}};if(P.depthCounter.depth>64)throw new c.aV(i,c.rH.MaximumCallDepth,a);return An(this.definition,P,D,a)})}marshalledCall(i,a,o,d){return d(i,a,(D,P,q)=>{const ue={spatialReference:i.spatialReference,globalScope:o.globalScope,depthCounter:{depth:i.depthCounter.depth+1},libraryResolver:i.libraryResolver,exports:i.exports,console:i.console,lrucache:i.lrucache,interceptor:i.interceptor,localScope:{}};return q=q.map(le=>!(0,f.i)(le)||le instanceof S.Vg?le:(0,S.aq)(le,i,d)),(0,S.aq)(An(this.definition,ue,q,a),o,d)})}}class Zt extends L.P{constructor(i){super(i)}global(i){const a=this.executingContext.globalScope[i.toLowerCase()];if(a.valueset||(a.value=pe(this.executingContext,a.node),a.valueset=!0),(0,f.i)(a.value)&&!(a.value instanceof S.Vg)){const o=new S.Vg;o.fn=a.value,o.parameterEvaluator=Ft,o.context=this.executingContext,a.value=o}return a.value}setGlobal(i,a){if((0,f.i)(a))throw new c.aV(null,c.rH.AssignModuleFunction,null);this.executingContext.globalScope[i.toLowerCase()]={value:a,valueset:!0,node:null}}hasGlobal(i){return void 0===this.executingContext.exports[i]&&(i=i.toLowerCase()),void 0!==this.executingContext.exports[i]}loadModule(i){let a=i.spatialReference;null==a&&(a=new H.Z({wkid:102100})),this.moduleScope=ir({},i.customfunctions),this.executingContext={spatialReference:a,globalScope:this.moduleScope,localScope:null,libraryResolver:new C.s(i.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},console:i.console?i.console:sr,lrucache:i.lrucache,interceptor:i.interceptor,depthCounter:{depth:1}},pe(this.executingContext,this.source.syntax)}}function Ft(s,i,a){try{return!0===i.preparsed?a(s,null,i.arguments):a(s,i,function Lt(s,i){const a=[];for(let o=0;o<i.arguments.length;o++)a.push(pe(s,i.arguments[o]));return a}(s,i))}catch(o){throw o}}function pe(s,i){try{switch(i?.type){case"EmptyStatement":return f.v;case"VariableDeclarator":return function ei(s,i){let a=null===i.init?null:pe(s,i.init);if(a===f.v&&(a=null),"Identifier"!==i.id.type)throw new c.aV(s,c.rH.InvalidIdentifier,i);const o=i.id.name.toLowerCase();return null!=s.localScope?s.localScope[o]={value:a,valueset:!0,node:i.init}:s.globalScope[o]={value:a,valueset:!0,node:i.init},f.v}(s,i);case"VariableDeclaration":return function Xr(s,i){for(let a=0;a<i.declarations.length;a++)pe(s,i.declarations[a]);return f.v}(s,i);case"ImportDeclaration":return function qr(s,i){const a=i.specifiers[0].local.name.toLowerCase(),o=s.libraryResolver.loadLibrary(a);let d=null;return s.libraryResolver._moduleSingletons?.has(o.uri)?d=s.libraryResolver._moduleSingletons.get(o.uri):(d=new Zt(o),d.loadModule(s),s.libraryResolver._moduleSingletons?.set(o.uri,d)),s.globalScope[a]={value:d,valueset:!0,node:i},f.v}(s,i);case"ExportNamedDeclaration":return function Qr(s,i){if(pe(s,i.declaration),"FunctionDeclaration"===i.declaration.type)s.exports[i.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===i.declaration.type)for(const a of i.declaration.declarations)s.exports[a.id.name.toLowerCase()]="variable";return f.v}(s,i);case"BlockStatement":case"Program":return function Jr(s,i){let a=f.v;for(let o=0;o<i.body.length;o++)if(a=pe(s,i.body[o]),a instanceof f.R||a===f.o||a===f.p)return a;return a}(s,i);case"FunctionDeclaration":return function Xn(s,i){const a=i.id.name.toLowerCase();return s.globalScope[a]={valueset:!0,node:null,value:new Qn(i,s)},f.v}(s,i);case"ReturnStatement":return function Yr(s,i){if(null===i.argument)return new f.R(f.v);const a=pe(s,i.argument);return new f.R(a)}(s,i);case"IfStatement":return function $r(s,i){const a=pe(s,i.test);if(!0===a)return pe(s,i.consequent);if(!1===a)return null!==i.alternate?pe(s,i.alternate):f.v;throw new c.aV(s,c.rH.BooleanConditionRequired,i)}(s,i);case"ExpressionStatement":return function Kr(s,i){if("AssignmentExpression"===i.expression.type||"UpdateExpression"===i.expression.type)return pe(s,i.expression);if("CallExpression"===i.expression.type){const a=pe(s,i.expression);return a===f.v?f.v:new f.I(a)}{const a=pe(s,i.expression);return a===f.v?f.v:new f.I(a)}}(s,i);case"AssignmentExpression":return function Wr(s,i){const a=pe(s,i.right);let o=null,d="";if("MemberExpression"===i.left.type){if(o=pe(s,i.left.object),!0===i.left.computed)d=pe(s,i.left.property);else{if("Identifier"!==i.left.property.type)throw new c.aV(s,c.rH.InvalidIdentifier,i);d=i.left.property.name}if((0,f.m)(o)){if(!(0,f.b)(d))throw new c.aV(s,c.rH.ArrayAccessorMustBeNumber,i);if(d<0&&(d=o.length+d),d<0||d>o.length)throw new c.aV(s,c.rH.OutOfBounds,i);if(d===o.length){if("="!==i.operator)throw new c.aV(s,c.rH.OutOfBounds,i);o[d]=bt(a,i.operator,o[d],i,s)}else o[d]=bt(a,i.operator,o[d],i,s)}else if(o instanceof R.Z){if(!1===(0,f.c)(d))throw new c.aV(s,c.rH.KeyAccessorMustBeString,i);if(!0===o.hasField(d))o.setField(d,bt(a,i.operator,o.field(d),i,s));else{if("="!==i.operator)throw new c.aV(s,c.rH.FieldNotFound,i,{key:d});o.setField(d,bt(a,i.operator,null,i,s))}}else if((0,f.w)(o)){if(!1===(0,f.c)(d))throw new c.aV(s,c.rH.KeyAccessorMustBeString,i);if(!0===o.hasField(d))o.setField(d,bt(a,i.operator,o.field(d),i,s));else{if("="!==i.operator)throw new c.aV(s,c.rH.FieldNotFound,i,{key:d});o.setField(d,bt(a,i.operator,null,i,s))}}else{if((0,f.x)(o))throw new c.aV(s,c.rH.Immutable,i);if(!(o instanceof Zt))throw new c.aV(s,c.rH.InvalidIdentifier,i);if(!1===(0,f.c)(d))throw new c.aV(s,c.rH.ModuleAccessorMustBeString,i);if(!0!==o.hasGlobal(d))throw new c.aV(s,c.rH.ModuleExportNotFound,i);o.setGlobal(d,bt(a,i.operator,o.global(d),i,s))}return f.v}if(o=i.left.name.toLowerCase(),null!=s.localScope&&void 0!==s.localScope[o])return s.localScope[o]={value:bt(a,i.operator,s.localScope[o].value,i,s),valueset:!0,node:i.right},f.v;if(void 0!==s.globalScope[o])return s.globalScope[o]={value:bt(a,i.operator,s.globalScope[o].value,i,s),valueset:!0,node:i.right},f.v;throw new c.aV(s,c.rH.InvalidIdentifier,i)}(s,i);case"UpdateExpression":return function Cn(s,i){let a,o=null,d="";if("MemberExpression"===i.argument.type){if(o=pe(s,i.argument.object),!0===i.argument.computed?d=pe(s,i.argument.property):"Identifier"===i.argument.property.type&&(d=i.argument.property.name),(0,f.m)(o)){if(!(0,f.b)(d))throw new c.aV(s,c.rH.ArrayAccessorMustBeNumber,i);if(d<0&&(d=o.length+d),d<0||d>=o.length)throw new c.aV(s,c.rH.OutOfBounds,i);a=(0,f.g)(o[d]),o[d]="++"===i.operator?a+1:a-1}else if(o instanceof R.Z){if(!1===(0,f.c)(d))throw new c.aV(s,c.rH.KeyAccessorMustBeString,i);if(!0!==o.hasField(d))throw new c.aV(s,c.rH.FieldNotFound,i);a=(0,f.g)(o.field(d)),o.setField(d,"++"===i.operator?a+1:a-1)}else if((0,f.w)(o)){if(!1===(0,f.c)(d))throw new c.aV(s,c.rH.KeyAccessorMustBeString,i);if(!0!==o.hasField(d))throw new c.aV(s,c.rH.FieldNotFound,i);a=(0,f.g)(o.field(d)),o.setField(d,"++"===i.operator?a+1:a-1)}else{if((0,f.x)(o))throw new c.aV(s,c.rH.Immutable,i);if(!(o instanceof Zt))throw new c.aV(s,c.rH.InvalidParameter,i);if(!1===(0,f.c)(d))throw new c.aV(s,c.rH.ModuleAccessorMustBeString,i);if(!0!==o.hasGlobal(d))throw new c.aV(s,c.rH.ModuleExportNotFound,i);a=(0,f.g)(o.global(d)),o.setGlobal(d,"++"===i.operator?a+1:a-1)}return!1===i.prefix?a:"++"===i.operator?a+1:a-1}if(o="Identifier"===i.argument.type?i.argument.name.toLowerCase():"",!o)throw new c.aV(s,c.rH.InvalidIdentifier,i);if(null!=s.localScope&&void 0!==s.localScope[o])return a=(0,f.g)(s.localScope[o].value),s.localScope[o]={value:"++"===i.operator?a+1:a-1,valueset:!0,node:i},!1===i.prefix?a:"++"===i.operator?a+1:a-1;if(void 0!==s.globalScope[o])return a=(0,f.g)(s.globalScope[o].value),s.globalScope[o]={value:"++"===i.operator?a+1:a-1,valueset:!0,node:i},!1===i.prefix?a:"++"===i.operator?a+1:a-1;throw new c.aV(s,c.rH.InvalidIdentifier,i)}(s,i);case"BreakStatement":return f.o;case"ContinueStatement":return f.p;case"TemplateElement":return function si(s,i){return i.value?i.value.cooked:""}(0,i);case"TemplateLiteral":return function oi(s,i){let a="",o=0;for(const d of i.quasis)a+=d.value?d.value.cooked:"",!1===d.tail&&(a+=i.expressions[o]?(0,f.j)(ai(pe(s,i.expressions[o]),s,i)):"",o++);return a}(s,i);case"ForStatement":return function Gr(s,i){null!==i.init&&pe(s,i.init);const a={testResult:!0,lastAction:f.v};do{zr(s,i,a)}while(!0===a.testResult);return a.lastAction instanceof f.R?a.lastAction:f.v}(s,i);case"ForInStatement":return function Zr(s,i){const a=pe(s,i.right);"VariableDeclaration"===i.left.type&&pe(s,i.left);let o=null,d="";if("VariableDeclaration"===i.left.type){const D=i.left.declarations[0].id;"Identifier"===D.type&&(d=D.name)}else"Identifier"===i.left.type&&(d=i.left.name);if(!d)throw new c.aV(s,c.rH.InvalidIdentifier,i);if(d=d.toLowerCase(),null!=s.localScope&&void 0!==s.localScope[d]&&(o=s.localScope[d]),null===o&&void 0!==s.globalScope[d]&&(o=s.globalScope[d]),null===o)throw new c.aV(s,c.rH.InvalidIdentifier,i);if((0,f.m)(a)||(0,f.c)(a)){const D=a.length;for(let P=0;P<D;P++){o.value=P;const q=pe(s,i.body);if(q===f.o)break;if(q instanceof f.R)return q}return f.v}if((0,f.x)(a)){for(let D=0;D<a.length();D++){o.value=D;const P=pe(s,i.body);if(P===f.o)break;if(P instanceof f.R)return P}return f.v}if(!(a instanceof R.Z||(0,f.w)(a)))return f.v;{const D=a.keys();for(let P=0;P<D.length;P++){o.value=D[P];const q=pe(s,i.body);if(q===f.o)break;if(q instanceof f.R)return q}}}(s,i);case"WhileStatement":return function jr(s,i){const a={testResult:!0,lastAction:f.v};if(a.testResult=pe(s,i.test),!1===a.testResult)return f.v;if(!0!==a.testResult)throw new c.aV(s,c.rH.BooleanConditionRequired,i);for(;!0===a.testResult&&(a.lastAction=pe(s,i.body),a.lastAction!==f.o)&&!(a.lastAction instanceof f.R);)if(a.testResult=pe(s,i.test),!0!==a.testResult&&!1!==a.testResult)throw new c.aV(s,c.rH.BooleanConditionRequired,i);return a.lastAction instanceof f.R?a.lastAction:f.v}(s,i);case"Identifier":return tr(s,i);case"MemberExpression":return function ti(s,i){try{const a=pe(s,i.object);if(null===a)throw new c.aV(s,c.rH.MemberOfNull,i);if(!1===i.computed){if("Identifier"===i.property.type){if(a instanceof R.Z||(0,f.w)(a))return a.field(i.property.name);if(a instanceof G.Z)return(0,F.Z)(a,i.property.name,i,s);if(a instanceof Zt){if(!a.hasGlobal(i.property.name))throw new c.aV(s,c.rH.InvalidIdentifier,i);return a.global(i.property.name)}}throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}{let o=pe(s,i.property);if(a instanceof R.Z||(0,f.w)(a)){if((0,f.c)(o))return a.field(o);throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}if(a instanceof Zt){if((0,f.c)(o))return a.global(o);throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}if(a instanceof G.Z){if((0,f.c)(o))return(0,F.Z)(a,o,i,s);throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}if((0,f.m)(a)){if((0,f.b)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=a.length+o),o>=a.length||o<0)throw new c.aV(s,c.rH.OutOfBounds,i);return a[o]}throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}if((0,f.c)(a)){if((0,f.b)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=a.length+o),o>=a.length||o<0)throw new c.aV(s,c.rH.OutOfBounds,i);return a[o]}throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}if((0,f.x)(a)){if((0,f.b)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=a.length()+o),o>=a.length()||o<0)throw new c.aV(s,c.rH.OutOfBounds,i);return a.get(o)}throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}throw new c.aV(s,c.rH.InvalidMemberAccessKey,i)}}catch(a){throw a}}(s,i);case"Literal":return i.value;case"CallExpression":return function ui(s,i){try{if("MemberExpression"===i.callee.type){const a=pe(s,i.callee.object);if(!(a instanceof Zt))throw new c.aV(s,c.rH.FuncionNotFound,i);const o=!1===i.callee.computed?i.callee.property.name:pe(s,i.callee.property);if(!a.hasGlobal(o))throw new c.aV(s,c.rH.FuncionNotFound,i);const d=a.global(o);if(!(0,f.i)(d))throw new c.aV(s,c.rH.CallNonFunction,i);return d.call(s,i)}if("Identifier"!==i.callee.type)throw new c.aV(s,c.rH.FuncionNotFound,i);if(null!=s.localScope&&void 0!==s.localScope[i.callee.name.toLowerCase()]){const a=s.localScope[i.callee.name.toLowerCase()];if((0,f.i)(a.value))return a.value.call(s,i);throw new c.aV(s,c.rH.CallNonFunction,i)}if(void 0!==s.globalScope[i.callee.name.toLowerCase()]){const a=s.globalScope[i.callee.name.toLowerCase()];if((0,f.i)(a.value))return a.value.call(s,i);throw new c.aV(s,c.rH.CallNonFunction,i)}throw new c.aV(s,c.rH.FuncionNotFound,i)}catch(a){throw a}}(s,i);case"UnaryExpression":return function er(s,i){try{const a=pe(s,i.argument);if((0,f.a)(a)){if("!"===i.operator)return!a;if("-"===i.operator)return-1*(0,f.g)(a);if("+"===i.operator)return 1*(0,f.g)(a);if("~"===i.operator)return~(0,f.g)(a);throw new c.aV(s,c.rH.UnsupportedUnaryOperator,i)}if("~"===i.operator)return~(0,f.g)(a);if("-"===i.operator)return-1*(0,f.g)(a);if("+"===i.operator)return 1*(0,f.g)(a);throw new c.aV(s,c.rH.UnsupportedUnaryOperator,i)}catch(a){throw a}}(s,i);case"BinaryExpression":return function ri(s,i){try{const a=[pe(s,i.left),pe(s,i.right)],o=a[0],d=a[1];switch(i.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,f.u)((0,f.g)(o),(0,f.g)(d),i.operator);case"==":return(0,f.s)(o,d);case"!=":return!(0,f.s)(o,d);case"<":case">":case"<=":case">=":return(0,f.r)(o,d,i.operator);case"+":return(0,f.c)(o)||(0,f.c)(d)?(0,f.j)(o)+(0,f.j)(d):(0,f.g)(o)+(0,f.g)(d);case"-":return(0,f.g)(o)-(0,f.g)(d);case"*":return(0,f.g)(o)*(0,f.g)(d);case"/":return(0,f.g)(o)/(0,f.g)(d);case"%":return(0,f.g)(o)%(0,f.g)(d);default:throw new c.aV(s,c.rH.UnsupportedOperator,i)}}catch(a){throw a}}(s,i);case"LogicalExpression":return function ii(s,i){try{const a=pe(s,i.left);if((0,f.a)(a))switch(i.operator){case"||":if(!0===a)return a;{const o=pe(s,i.right);if((0,f.a)(o))return o;throw new c.aV(s,c.rH.LogicExpressionOrAnd,i)}case"&&":if(!1===a)return a;{const o=pe(s,i.right);if((0,f.a)(o))return o;throw new c.aV(s,c.rH.LogicExpressionOrAnd,i)}default:throw new c.aV(s,c.rH.LogicExpressionOrAnd,i)}throw new c.aV(s,c.rH.LogicalExpressionOnlyBoolean,i)}catch(a){throw a}}(s,i);case"ArrayExpression":return function ni(s,i){try{const a=[];for(let o=0;o<i.elements.length;o++){const d=pe(s,i.elements[o]);if((0,f.i)(d))throw new c.aV(s,c.rH.NoFunctionInArray,i);a.push(d===f.v?null:d)}return a}catch(a){throw a}}(s,i);case"ObjectExpression":return function Kt(s,i){const a={},o=new Map;for(let D=0;D<i.properties.length;D++){const P=pe(s,i.properties[D]);if((0,f.i)(P.value))throw new c.aV(s,c.rH.NoFunctionInDictionary,i);if(!1===(0,f.c)(P.key))throw new c.aV(s,c.rH.KeyMustBeString,i);let q=P.key.toString();const ue=q.toLowerCase();o.has(ue)?q=o.get(ue):o.set(ue,q),a[q]=P.value===f.v?null:P.value}const d=new R.Z(a);return d.immutable=!1,d}(s,i);case"Property":return function $t(s,i){return{key:"Identifier"===i.key.type?i.key.name:pe(s,i.key),value:pe(s,i.value)}}(s,i);default:throw new c.aV(s,c.rH.Unrecognised,i)}}catch(a){throw(0,c.VO)(s,i,a)}}function zr(s,i,a){if(null!==i.test){if(a.testResult=pe(s,i.test),!1===a.testResult)return;if(!0!==a.testResult)throw new c.aV(s,c.rH.BooleanConditionRequired,i)}a.lastAction=pe(s,i.body),a.lastAction!==f.o?a.lastAction instanceof f.R?a.testResult=!1:null!==i.update&&pe(s,i.update):a.testResult=!1}function bt(s,i,a,o,d){switch(i){case"=":return s===f.v?null:s;case"/=":return(0,f.g)(a)/(0,f.g)(s);case"*=":return(0,f.g)(a)*(0,f.g)(s);case"-=":return(0,f.g)(a)-(0,f.g)(s);case"+=":return(0,f.c)(a)||(0,f.c)(s)?(0,f.j)(a)+(0,f.j)(s):(0,f.g)(a)+(0,f.g)(s);case"%=":return(0,f.g)(a)%(0,f.g)(s);default:throw new c.aV(d,c.rH.UnsupportedOperator,o)}}function ai(s,i,a){if((0,f.i)(s))throw new c.aV(i,c.rH.NoFunctionInTemplateLiteral,a);return s}function tr(s,i){let a;try{const o=i.name.toLowerCase();if(null!=s.localScope&&void 0!==s.localScope[o])return a=s.localScope[o],!0===a.valueset||(a.value=pe(s,a.node),a.valueset=!0),a.value;if(void 0!==s.globalScope[o])return a=s.globalScope[o],!0===a.valueset||(a.value=pe(s,a.node),a.valueset=!0),a.value;throw new c.aV(s,c.rH.InvalidIdentifier,i)}catch(o){throw o}}const tt={};function nr(s,i,a,o){try{const d=pe(s,i.arguments[a]);if((0,f.s)(d,o))return pe(s,i.arguments[a+1]);{const D=i.arguments.length-a;return 1===D?pe(s,i.arguments[a]):2===D?null:3===D?pe(s,i.arguments[a+2]):nr(s,i,a+2,o)}}catch(d){throw d}}function rr(s,i,a,o){try{if(!0===o)return pe(s,i.arguments[a+1]);if(i.arguments.length-a==3)return pe(s,i.arguments[a+2]);{const d=pe(s,i.arguments[a+2]);if(!1===(0,f.a)(d))throw new c.aV(s,c.rH.BooleanConditionRequired,i.arguments[a+2]);return rr(s,i,a+2,d)}}catch(d){throw d}}function An(s,i,a,o){try{const d=s.body;if(a.length!==s.params.length)throw new c.aV(i,c.rH.WrongNumberOfParameters,o);if(null!=i.localScope)for(let P=0;P<a.length;P++)i.localScope[s.params[P].name.toLowerCase()]={value:a[P],valueset:!0,node:null};const D=pe(i,d);if(D instanceof f.R)return D.value;if(D===f.o)throw new c.aV(i,c.rH.UnexpectedToken,o);if(D===f.p)throw new c.aV(i,c.rH.UnexpectedToken,o);return D instanceof f.I?D.value:D}catch(d){throw d}}(0,b.r)(tt,Ft),(0,k.r)(tt,Ft),(0,$.r)(tt,Ft),(0,F.r)(tt,Ft),(0,A.r)(tt,Ft),(0,W.registerFunctions)(tt,Ft),tt.iif=function(s,i){try{(0,f.y)(null===i.arguments?[]:i.arguments,3,3,s,i);const a=pe(s,i.arguments[0]);if(!1===(0,f.a)(a))throw new c.aV(s,c.rH.BooleanConditionRequired,i);return pe(s,!0===a?i.arguments[1]:i.arguments[2])}catch(a){throw a}},tt.decode=function(s,i){try{if(i.arguments.length<2)throw new c.aV(s,c.rH.WrongNumberOfParameters,i);if(2===i.arguments.length)return pe(s,i.arguments[1]);if((i.arguments.length-1)%2==0)throw new c.aV(s,c.rH.WrongNumberOfParameters,i);return nr(s,i,1,pe(s,i.arguments[0]))}catch(a){throw a}},tt.when=function(s,i){try{if(i.arguments.length<3)throw new c.aV(s,c.rH.WrongNumberOfParameters,i);if(i.arguments.length%2==0)throw new c.aV(s,c.rH.WrongNumberOfParameters,i);const a=pe(s,i.arguments[0]);if(!1===(0,f.a)(a))throw new c.aV(s,c.rH.BooleanConditionRequired,i.arguments[0]);return rr(s,i,0,a)}catch(a){throw a}};for(const s in tt)tt[s]={value:new S.Bx(tt[s]),valueset:!0,node:null};const Jt=function(){};function ir(s,i){const a=new Jt;s||(s={}),i||(i={});const o=new R.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});o.immutable=!1,a.textformatting={value:o,valueset:!0,node:null};for(const d in i)a[d]={value:new S.Bx(i[d]),native:!0,valueset:!0,node:null};for(const d in s)a[d]=s[d]&&"esri.Graphic"===s[d].declaredClass?{value:E.Z.createFromGraphic(s[d]),valueset:!0,node:null}:{value:s[d],valueset:!0,node:null};return a}function sr(s){console.log(s)}function ot(s){const i={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:Ft,evaluateIdentifier:tr};for(let a=0;a<s.length;a++)s[a].registerFunctions(i);for(const a in i.functions)tt[a]={value:new S.Bx(i.functions[a]),valueset:!0,node:null},Jt.prototype[a]=tt[a];for(let a=0;a<i.signatures.length;a++)(0,K.gW)(i.signatures[a],"sync")}function Ot(s,i){let a=i.spatialReference;null==a&&(a=new H.Z({wkid:102100}));let o=null;s.usesModules&&(o=new C.s(new Map,s.loadedModules));const d={spatialReference:a,globalScope:ir(i.vars,i.customfunctions),localScope:null,exports:{},libraryResolver:o,console:i.console?i.console:sr,lrucache:i.lrucache,interceptor:i.interceptor,depthCounter:{depth:1}};let D=pe(d,s);if(D instanceof f.R&&(D=D.value),D instanceof f.I&&(D=D.value),D===f.v&&(D=null),D===f.o)throw new c.aV(d,c.rH.IllegalResult,null);if(D===f.p)throw new c.aV(d,c.rH.IllegalResult,null);if((0,f.i)(D))throw new c.aV(d,c.rH.IllegalResult,null);return D}(Jt.prototype=tt).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},Jt.prototype.pi={value:Math.PI,valueset:!0,node:null},ot([Q.A]);var ar=Z(8314),Pt=Z(62208);const ci=["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"];let vn=!1,or=!1,Ae=null,Vt=[];function ur(s,i){if(!0===i.useAsync||!0===s.isAsync)return function Ze(s,i){if(null===Ae)throw new c.aV(null,c.rH.AsyncNotEnabled,null);if((0,ar.Z)("esri-csp-restrictions"))return function(a){return Ae.executeScript(s,a)};try{return mt(s,i,!0)}catch(a){if("esri.arcade.arcadeuncompilableerror"===a.declaredRootClass)return function(o){return Ae.executeScript(s,o)};throw a}}(s,i);if((0,ar.Z)("esri-csp-restrictions"))return function(a){return Ot(s,a)};try{return mt(s,i)}catch(a){if("esri.arcade.arcadeuncompilableerror"===a.declaredRootClass)return function(o){return Ot(s,o)};throw a}}function rn(s,i=[]){return en(s,i)}function Sn(s,i){if(!0===i.useAsync||!0===s.isAsync){if(null===Ae)throw new c.aV(null,c.rH.AsyncNotEnabled,null);return Ae.executeScript(s,i)}return Ot(s,i)}function Gt(s,i){return(0,K.bV)(s,i)}function cr(s){return(0,K.Kq)(s)}function st(s,i=[]){return void 0===s.usesGeometry&&(0,K.dN)(s,i),!0===s.usesGeometry}let bn=null;function Ie(){return bn||(bn=mi(),bn)}function mi(){return sn.apply(this,arguments)}function sn(){return sn=(0,z.Z)(function*(){const[s,i]=yield Promise.all([Promise.all([Z.e(4918),Z.e(4766)]).then(Z.bind(Z,44766)),Promise.resolve().then(Z.bind(Z,63461))]);return or=!0,i.setGeometryEngine(s),!0}),sn.apply(this,arguments)}let an=null;function In(){return null!==an||(an=_n()),an}function _n(){return ut.apply(this,arguments)}function ut(){return ut=(0,z.Z)(function*(){yield Bt(),Ae=yield Promise.all([Z.e(8302),Z.e(5039)]).then(Z.bind(Z,35039));for(const s of Vt)Ae.extend(s),qe(s,"async");return Vt=null,!0}),ut.apply(this,arguments)}function Tn(){return vn}function on(){return!!Ae}function dr(){return or}let Mn=null;function On(){return Mn||(Mn=hr(),Mn)}function hr(){return kn.apply(this,arguments)}function kn(){return kn=(0,z.Z)(function*(){yield In();const[s,i,a,o,d]=yield Promise.all([Promise.all([Z.e(410),Z.e(3482),Z.e(5171)]).then(Z.bind(Z,85171)),Promise.all([Z.e(410),Z.e(3482),Z.e(5171),Z.e(2480)]).then(Z.bind(Z,82480)),Promise.all([Z.e(410),Z.e(3482),Z.e(5978)]).then(Z.bind(Z,55978)),Promise.all([Z.e(410),Z.e(2543)]).then(Z.bind(Z,2543)),Z.e(4198).then(Z.bind(Z,34198))]);return lt=s,Ae.extend([i,a,o,d]),qe([i,a,o,d],"async"),vn=!0,!0}),kn.apply(this,arguments)}function fr(s,i=[]){return void 0===s.usesFeatureSet&&(0,K.dN)(s,i),!0===s.usesFeatureSet}function Bn(s,i){if(i){for(const a of i)if(Gt(s,a))return!0;return!1}return!1}function mr(s,i){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,z.Z)(function*(s,i,a=[],o=!1,d=null){return un(new Set,s,i,a,o,d)}),Nn.apply(this,arguments)}function un(s,i,a){return ln.apply(this,arguments)}function ln(){return ln=(0,z.Z)(function*(s,i,a,o=[],d=!1,D=null){const P="string"==typeof i?rn(i):i,q=[];return P&&(!1===dr()&&(st(P)||d)&&q.push(Ie()),!1===on()&&(!0===P.isAsync||a)&&q.push(In()),!1===Tn()&&(fr(P)||Bn(P,o))&&q.push(On())),q.length&&(yield Promise.all(q)),yield Ln(s,P,D,a,d),!0}),ln.apply(this,arguments)}function Ln(s,i){return cn.apply(this,arguments)}function cn(){return cn=(0,z.Z)(function*(s,i,a=null,o=!1,d=!1){const D=(0,K.x5)(i);null===a&&D.length>0&&(a=et.getDefault()),i.loadedModules={};for(const P of D){(0,Pt.O3)(a);const q=a.normalizeModuleUri(P.source);if(s.has(q.uri))throw new c.aV(null,c.rH.CircularModules,null);s.add(q.uri);const ue=yield a.fetchModule(q);yield un(s,ue,o,[],d,a),s.delete(q.uri),ue.isAsync&&(i.isAsync=!0),ue.usesFeatureSet&&(i.usesFeatureSet=!0),ue.usesGeometry&&(i.usesGeometry=!0),i.loadedModules[P.libname]={uri:q.uri,script:ue}}}),cn.apply(this,arguments)}function Pn(s){if(st(s))return!0;const i=(0,K.Vf)(s);let a=!1;for(let o=0;o<i.length;o++)if(ci.includes(i[o])){a=!0;break}return a}let lt=null;function Yt(){return lt}const pr=Object.freeze(Object.defineProperty({__proto__:null,compileScript:ur,extend:function nn(s){ot(s),qe(s,"sync"),null===Ae?Vt.push(s):(qe(s,"async"),Ae.extend(s))},parseScript:rn,parseAndExecuteScript:function hi(s,i,a=[]){return Sn(en(s,a),i)},executeScript:Sn,referencesMember:Gt,referencesFunction:function lr(s,i){return(0,K.w8)(s,i)},extractFieldLiterals:function fi(s,i=!1){return void 0===i&&(i=!1),(0,K.mb)(s)},extractExpectedFieldLiterals:cr,scriptUsesGeometryEngine:st,enableGeometrySupport:Ie,enableGeometrySupportImpl:mi,enableAsyncSupport:In,enableAsyncSupportImpl:_n,isFeatureSetSupportEnabled:Tn,isAsyncEnabled:on,isGeometryEnabled:dr,enableFeatureSetSupport:On,enableFeatureSetSupportImpl:hr,scriptUsesFeatureSet:fr,scriptIsAsync:function pi(s,i=[]){return void 0===s.isAsync&&(0,K.dN)(s,i),!0===s.isAsync},loadScriptDependencies:mr,_loadScriptDependenciesImpl:un,scriptUsesModules:function yi(s,i=[]){return void 0===s.usesModules&&(0,K.dN)(s,i),!0===s.usesModules},loadDependentModules:Ln,scriptTouchesGeometry:Pn,featureSetUtils:Yt},Symbol.toStringTag,{value:"Module"}));var yr=Z(58817),dn=Z(86971),gr=Z(72642),Rn=Z(37118),Dr=Z(55214),gi=Z(72854),Di=Z(2004);const Vn=/^\$(feature|aggregatedFeatures)\./i,xr={vars:{$feature:"any",$view:"any"},spatialReference:null};function Hn(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function Er(s){return null==s?null:(0,f.m)(s)||(0,f.x)(s)?"array":(0,f.k)(s)?"date":(0,f.c)(s)?"text":(0,f.a)(s)?"boolean":(0,f.b)(s)?"number":s instanceof R.Z?"dictionary":(0,f.w)(s)?"feature":s instanceof gr.Z?"point":s instanceof Rn.Z?"polygon":s instanceof Dr.Z?"polyline":s instanceof gi.Z?"multipoint":s instanceof Di.Z?"extent":(0,f.T)(s)?"featureSet":(0,f.U)(s)?"featureSetCollection":null}function kt(s){if(!s)return null;try{return rn(s)}catch{}return null}function Un(s,i){const a="string"==typeof s?kt(s):s;if(!a)return null;try{return ur(a,i=i||(0,yr.d9)(xr))}catch{}return null}function qt(s,i){return{vars:{$feature:null==s?new E.Z:E.Z.createFromGraphic(s),$view:i&&i.view},spatialReference:i&&i.sr}}function wr(s,i,a){return E.Z.createFromGraphicLikeObject(i,s,a)}function Fr(s,i){null!=s.vars&&(s.vars.$feature=i)}function hn(s,i){let a;try{a=Sn(s,i)}catch{a=null}return a}function Cr(s,i){let a;try{a=s?s(i):null}catch{a=null}return a}function Qt(s,i){try{return s?s(i):Promise.resolve(null)}catch{return Promise.resolve(null)}}function fn(s,i){if(!s)return[];const a="string"==typeof s?kt(s):s;if(!a)return[];const o=cr(a);let d=new Array;o.forEach(P=>{Vn.test(P)&&(P=P.replace(Vn,""),d.push(P))});const D=d.filter(P=>P.includes("*"));return d=d.filter(P=>!D.includes(P)),i&&D.forEach(P=>{const q=new RegExp(`^${P.split(/\*+/).map(Hn).join(".*")}$`,"i");i.forEach(ue=>q.test(ue)?d.push(ue):null)}),[...new Set(d.sort())]}function Zn(s){return Gt(s,"$view")}function Ar(s,i){return!!s&&Gt(s,i)}function vr(s){if(s&&(null!=s.spatialReference||null!=s.scale&&null!=s.viewingMode))return{view:s.viewingMode&&null!=s.scale?new R.Z({viewingMode:s.viewingMode,scale:s.scale}):null,sr:s.spatialReference}}function xi({url:s,spatialReference:i,lrucache:a,interceptor:o}){const d=Yt();return d?d.createFeatureSetCollectionFromService(s,i,a,o):null}function Ei({layer:s,spatialReference:i,outFields:a,returnGeometry:o,lrucache:d,interceptor:D}){if(null===s)return null;const P=Yt();return P?P.constructFeatureSet(s,i,a,o??!0,d,D):null}function Sr(s){if(null===s?.map)return null;const i=Yt();return i?i.createFeatureSetCollectionFromMap(s.map,s.spatialReference,s.lrucache,s.interceptor):null}function wi(s){return R.Z.convertJsonToArcade(s)}function Fi(s,i,a=[]){return mr(s,i,a)}function br(){return Ie()}function Ir(){return On()}function jt(s,i){if(!s)return!1;if("string"==typeof s)return i(s);const a=s;if(function _r(s){return"simple"===s.type||"class-breaks"===s.type||"unique-value"===s.type||"dot-density"===s.type||"dictionary"===s.type||"pie-chart"===s.type}(a)){if("dot-density"===a.type){const D=a.attributes?.some(P=>i(P.valueExpression));if(D)return D}const o=a.visualVariables,d=!!o&&o.some(D=>{let P=i(D.valueExpression);return"size"===D.type&&((0,dn.iY)(D.minSize)&&(P=P||i(D.minSize.valueExpression)),(0,dn.iY)(D.maxSize)&&(P=P||i(D.maxSize.valueExpression))),P});return!(!("valueExpression"in a)||!i(a.valueExpression))||d}if(function Tr(s){return"esri.layers.support.LabelClass"===s.declaredClass}(a)){const o=a.labelExpressionInfo&&a.labelExpressionInfo.expression;return!(!o||!i(o))||!1}return!!function Se(s){return"esri.PopupTemplate"===s.declaredClass}(a)&&(!!a.expressionInfos&&a.expressionInfos.some(o=>i(o.expression))||Array.isArray(a.content)&&a.content.some(o=>"expression"===o.type&&i(o.expressionInfo?.expression)))}function Ii(s){const i=kt(s);return!!i&&Pn(i)}function m(s){return jt(s,Ii)}function u(s){const i=kt(s);return!!i&&st(i)}function h(s){return jt(s,u)}},21837:(Ve,De,Z)=>{Z.d(De,{ou:()=>Se});class M extends Error{}class z extends M{constructor(u){super(`Invalid DateTime: ${u.toMessage()}`)}}class R extends M{constructor(u){super(`Invalid Interval: ${u.toMessage()}`)}}class E extends M{constructor(u){super(`Invalid Duration: ${u.toMessage()}`)}}class f extends M{}class K extends M{constructor(u){super(`Invalid unit ${u}`)}}class Q extends M{}class b extends M{constructor(){super("Zone is an abstract class")}}const F="numeric",W="short",$="long",A={year:F,month:F,day:F},k={year:F,month:W,day:F},B={year:F,month:W,day:F,weekday:W},G={year:F,month:$,day:F},H={year:F,month:$,day:F,weekday:$},C={hour:F,minute:F},L={hour:F,minute:F,second:F},S={hour:F,minute:F,second:F,timeZoneName:W},c={hour:F,minute:F,second:F,timeZoneName:$},g={hour:F,minute:F,hourCycle:"h23"},y={hour:F,minute:F,second:F,hourCycle:"h23"},w={hour:F,minute:F,second:F,hourCycle:"h23",timeZoneName:W},U={hour:F,minute:F,second:F,hourCycle:"h23",timeZoneName:$},V={year:F,month:F,day:F,hour:F,minute:F},l={year:F,month:F,day:F,hour:F,minute:F,second:F},x={year:F,month:W,day:F,hour:F,minute:F},j={year:F,month:W,day:F,hour:F,minute:F,second:F},X={year:F,month:W,day:F,weekday:W,hour:F,minute:F},oe={year:F,month:$,day:F,hour:F,minute:F,timeZoneName:W},me={year:F,month:$,day:F,hour:F,minute:F,second:F,timeZoneName:W},fe={year:F,month:$,day:F,weekday:$,hour:F,minute:F,timeZoneName:$},Fe={year:F,month:$,day:F,weekday:$,hour:F,minute:F,second:F,timeZoneName:$};function se(m){return typeof m>"u"}function de(m){return"number"==typeof m}function ie(m){return"number"==typeof m&&m%1==0}function Be(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ye(m,u,h){if(0!==m.length)return m.reduce((s,i)=>{const a=[u(i),i];return s&&h(s[0],a[0])===s[0]?s:a},null)[1]}function ht(m,u){return Object.prototype.hasOwnProperty.call(m,u)}function Qe(m,u,h){return ie(m)&&m>=u&&m<=h}function Le(m,u=2){let s;return s=m<0?"-"+(""+-m).padStart(u,"0"):(""+m).padStart(u,"0"),s}function Me(m){if(!se(m)&&null!==m&&""!==m)return parseInt(m,10)}function rt(m){if(!se(m)&&null!==m&&""!==m)return parseFloat(m)}function we(m){if(!se(m)&&null!==m&&""!==m){const u=1e3*parseFloat("0."+m);return Math.floor(u)}}function ft(m,u,h=!1){const s=10**u;return(h?Math.trunc:Math.round)(m*s)/s}function at(m){return m%4==0&&(m%100!=0||m%400==0)}function $e(m){return at(m)?366:365}function Ct(m,u){const h=function Xe(m,u){return m-u*Math.floor(m/u)}(u-1,12)+1;return 2===h?at(m+(u-h)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][h-1]}function ke(m){let u=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);return m.year<100&&m.year>=0&&(u=new Date(u),u.setUTCFullYear(u.getUTCFullYear()-1900)),+u}function Ue(m){const u=(m+Math.floor(m/4)-Math.floor(m/100)+Math.floor(m/400))%7,h=m-1,s=(h+Math.floor(h/4)-Math.floor(h/100)+Math.floor(h/400))%7;return 4===u||3===s?53:52}function Ce(m){return m>99?m:m>60?1900+m:2e3+m}function it(m,u,h,s=null){const i=new Date(m),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(a.timeZone=s);const o={timeZoneName:u,...a},d=new Intl.DateTimeFormat(h,o).formatToParts(i).find(D=>"timezonename"===D.type.toLowerCase());return d?d.value:null}function pt(m,u){let h=parseInt(m,10);Number.isNaN(h)&&(h=0);const s=parseInt(u,10)||0;return 60*h+(h<0||Object.is(h,-0)?-s:s)}function At(m){const u=Number(m);if("boolean"==typeof m||""===m||Number.isNaN(u))throw new Q(`Invalid unit value ${m}`);return u}function Dt(m,u){const h={};for(const s in m)if(ht(m,s)){const i=m[s];if(null==i)continue;h[u(s)]=At(i)}return h}function yt(m,u){const h=Math.trunc(Math.abs(m/60)),s=Math.trunc(Math.abs(m%60)),i=m>=0?"+":"-";switch(u){case"short":return`${i}${Le(h,2)}:${Le(s,2)}`;case"narrow":return`${i}${h}${s>0?`:${s}`:""}`;case"techie":return`${i}${Le(h,2)}${Le(s,2)}`;default:throw new RangeError(`Value format ${u} is out of range for property format`)}}function It(m){return function He(m,u){return u.reduce((h,s)=>(h[s]=m[s],h),{})}(m,["hour","minute","second","millisecond"])}const qe=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,vt=["January","February","March","April","May","June","July","August","September","October","November","December"],St=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_t=["J","F","M","A","M","J","J","A","S","O","N","D"];function xt(m){switch(m){case"narrow":return[..._t];case"short":return[...St];case"long":return[...vt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Bt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Tt=["M","T","W","T","F","S","S"];function gt(m){switch(m){case"narrow":return[...Tt];case"short":return[...Bt];case"long":return[...mt];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Nt=["AM","PM"],Mt=["Before Christ","Anno Domini"],We=["BC","AD"],te=["B","A"];function _(m){switch(m){case"narrow":return[...te];case"short":return[...We];case"long":return[...Mt];default:return null}}function ee(m,u){let h="";for(const s of m)h+=s.literal?s.val:u(s.val);return h}const Y={D:A,DD:k,DDD:G,DDDD:H,t:C,tt:L,ttt:S,tttt:c,T:g,TT:y,TTT:w,TTTT:U,f:V,ff:x,fff:oe,ffff:fe,F:l,FF:j,FFF:me,FFFF:Fe};class he{static create(u,h={}){return new he(u,h)}static parseFormat(u){let h=null,s="",i=!1;const a=[];for(let o=0;o<u.length;o++){const d=u.charAt(o);"'"===d?(s.length>0&&a.push({literal:i,val:s}),h=null,s="",i=!i):i||d===h?s+=d:(s.length>0&&a.push({literal:!1,val:s}),s=d,h=d)}return s.length>0&&a.push({literal:i,val:s}),a}static macroTokenToFormatOpts(u){return Y[u]}constructor(u,h){this.opts=h,this.loc=u,this.systemLoc=null}formatWithSystemDefault(u,h){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(u,{...this.opts,...h}).format()}formatDateTime(u,h={}){return this.loc.dtFormatter(u,{...this.opts,...h}).format()}formatDateTimeParts(u,h={}){return this.loc.dtFormatter(u,{...this.opts,...h}).formatToParts()}resolvedOptions(u,h={}){return this.loc.dtFormatter(u,{...this.opts,...h}).resolvedOptions()}num(u,h=0){if(this.opts.forceSimple)return Le(u,h);const s={...this.opts};return h>0&&(s.padTo=h),this.loc.numberFormatter(s).format(u)}formatDateTimeFromString(u,h){const s="en"===this.loc.listingMode(),i=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,a=(ye,xe)=>this.loc.extract(u,ye,xe),o=ye=>u.isOffsetFixed&&0===u.offset&&ye.allowZ?"Z":u.isValid?u.zone.formatOffset(u.ts,ye.format):"",D=(ye,xe)=>s?function N(m,u){return xt(u)[m.month-1]}(u,ye):a(xe?{month:ye}:{month:ye,day:"numeric"},"month"),P=(ye,xe)=>s?function I(m,u){return gt(u)[m.weekday-1]}(u,ye):a(xe?{weekday:ye}:{weekday:ye,month:"long",day:"numeric"},"weekday"),q=ye=>{const xe=he.macroTokenToFormatOpts(ye);return xe?this.formatWithSystemDefault(u,xe):ye},ue=ye=>s?function ne(m,u){return _(u)[m.year<0?0:1]}(u,ye):a({era:ye},"era");return ee(he.parseFormat(h),ye=>{switch(ye){case"S":return this.num(u.millisecond);case"u":case"SSS":return this.num(u.millisecond,3);case"s":return this.num(u.second);case"ss":return this.num(u.second,2);case"uu":return this.num(Math.floor(u.millisecond/10),2);case"uuu":return this.num(Math.floor(u.millisecond/100));case"m":return this.num(u.minute);case"mm":return this.num(u.minute,2);case"h":return this.num(u.hour%12==0?12:u.hour%12);case"hh":return this.num(u.hour%12==0?12:u.hour%12,2);case"H":return this.num(u.hour);case"HH":return this.num(u.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return u.zone.offsetName(u.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return u.zone.offsetName(u.ts,{format:"long",locale:this.loc.locale});case"z":return u.zoneName;case"a":return s?function v(m){return Nt[m.hour<12?0:1]}(u):a({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return i?a({day:"numeric"},"day"):this.num(u.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(u.day,2);case"c":case"E":return this.num(u.weekday);case"ccc":return P("short",!0);case"cccc":return P("long",!0);case"ccccc":return P("narrow",!0);case"EEE":return P("short",!1);case"EEEE":return P("long",!1);case"EEEEE":return P("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(u.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(u.month,2);case"LLL":return D("short",!0);case"LLLL":return D("long",!0);case"LLLLL":return D("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(u.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(u.month,2);case"MMM":return D("short",!1);case"MMMM":return D("long",!1);case"MMMMM":return D("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(u.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(u.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(u.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(u.year,6);case"G":return ue("short");case"GG":return ue("long");case"GGGGG":return ue("narrow");case"kk":return this.num(u.weekYear.toString().slice(-2),2);case"kkkk":return this.num(u.weekYear,4);case"W":return this.num(u.weekNumber);case"WW":return this.num(u.weekNumber,2);case"o":return this.num(u.ordinal);case"ooo":return this.num(u.ordinal,3);case"q":return this.num(u.quarter);case"qq":return this.num(u.quarter,2);case"X":return this.num(Math.floor(u.ts/1e3));case"x":return this.num(u.ts);default:return q(ye)}})}formatDurationFromString(u,h){const s=D=>{switch(D[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=he.parseFormat(h),o=a.reduce((D,{literal:P,val:q})=>P?D:D.concat(q),[]);return ee(a,(D=>P=>{const q=s(P);return q?this.num(D.get(q),P.length):P})(u.shiftTo(...o.map(s).filter(D=>D))))}}class _e{constructor(u,h){this.reason=u,this.explanation=h}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class p{get type(){throw new b}get name(){throw new b}get ianaName(){return this.name}get isUniversal(){throw new b}offsetName(u,h){throw new b}formatOffset(u,h){throw new b}offset(u){throw new b}equals(u){throw new b}get isValid(){throw new b}}let T=null;class J extends p{static get instance(){return null===T&&(T=new J),T}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(u,{format:h,locale:s}){return it(u,h,s)}formatOffset(u,h){return yt(this.offset(u),h)}offset(u){return-new Date(u).getTimezoneOffset()}equals(u){return"system"===u.type}get isValid(){return!0}}let ae={};const be={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let ze={};class Ge extends p{static create(u){return ze[u]||(ze[u]=new Ge(u)),ze[u]}static resetCache(){ze={},ae={}}static isValidSpecifier(u){return this.isValidZone(u)}static isValidZone(u){if(!u)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:u}).format(),!0}catch{return!1}}constructor(u){super(),this.zoneName=u,this.valid=Ge.isValidZone(u)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(u,{format:h,locale:s}){return it(u,h,s,this.name)}formatOffset(u,h){return yt(this.offset(u),h)}offset(u){const h=new Date(u);if(isNaN(h))return NaN;const s=function ce(m){return ae[m]||(ae[m]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ae[m]}(this.name);let[i,a,o,d,D,P,q]=s.formatToParts?function Te(m,u){const h=m.formatToParts(u),s=[];for(let i=0;i<h.length;i++){const{type:a,value:o}=h[i],d=be[a];"era"===a?s[d]=o:se(d)||(s[d]=parseInt(o,10))}return s}(s,h):function Pe(m,u){const h=m.format(u).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(h),[,i,a,o,d,D,P,q]=s;return[o,i,a,d,D,P,q]}(s,h);"BC"===d&&(i=1-Math.abs(i));let ye=+h;const xe=ye%1e3;return ye-=xe>=0?xe:1e3+xe,(ke({year:i,month:a,day:o,hour:24===D?0:D,minute:P,second:q,millisecond:0})-ye)/6e4}equals(u){return"iana"===u.type&&u.name===this.name}get isValid(){return this.valid}}let Ht=null;class Je extends p{static get utcInstance(){return null===Ht&&(Ht=new Je(0)),Ht}static instance(u){return 0===u?Je.utcInstance:new Je(u)}static parseSpecifier(u){if(u){const h=u.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(h)return new Je(pt(h[1],h[2]))}return null}constructor(u){super(),this.fixed=u}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${yt(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${yt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(u,h){return yt(this.fixed,h)}get isUniversal(){return!0}offset(){return this.fixed}equals(u){return"fixed"===u.type&&u.fixed===this.fixed}get isValid(){return!0}}class mn extends p{constructor(u){super(),this.zoneName=u}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Et(m,u){if(se(m)||null===m)return u;if(m instanceof p)return m;if(function ge(m){return"string"==typeof m}(m)){const s=m.toLowerCase();return"default"===s?u:"local"===s||"system"===s?J.instance:"utc"===s||"gmt"===s?Je.utcInstance:Je.parseSpecifier(s)||Ge.create(m)}return de(m)?Je.instance(m):"object"==typeof m&&m.offset&&"number"==typeof m.offset?m:new mn(m)}let Lr,Mr=()=>Date.now(),Or="system",kr=null,Br=null,Nr=null;class Ke{static get now(){return Mr}static set now(u){Mr=u}static set defaultZone(u){Or=u}static get defaultZone(){return Et(Or,J.instance)}static get defaultLocale(){return kr}static set defaultLocale(u){kr=u}static get defaultNumberingSystem(){return Br}static set defaultNumberingSystem(u){Br=u}static get defaultOutputCalendar(){return Nr}static set defaultOutputCalendar(u){Nr=u}static get throwOnInvalid(){return Lr}static set throwOnInvalid(u){Lr=u}static resetCaches(){Oe.resetCache(),Ge.resetCache()}}let Pr={},jn={};function zn(m,u={}){const h=JSON.stringify([m,u]);let s=jn[h];return s||(s=new Intl.DateTimeFormat(m,u),jn[h]=s),s}let Wn={},pn={},Xt=null;function Wt(m,u,h,s,i){const a=m.listingMode(h);return"error"===a?null:"en"===a?s(u):i(u)}class ve{constructor(u,h,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:i,floor:a,...o}=s;if(!h||Object.keys(o).length>0){const d={useGrouping:!1,...s};s.padTo>0&&(d.minimumIntegerDigits=s.padTo),this.inf=function vi(m,u={}){const h=JSON.stringify([m,u]);let s=Wn[h];return s||(s=new Intl.NumberFormat(m,u),Wn[h]=s),s}(u,d)}}format(u){if(this.inf){const h=this.floor?Math.floor(u):u;return this.inf.format(h)}return Le(this.floor?Math.floor(u):ft(u,3),this.padTo)}}class Jn{constructor(u,h,s){let i;if(this.opts=s,u.zone.isUniversal){const o=u.offset/60*-1,d=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;0!==u.offset&&Ge.create(d).valid?(i=d,this.dt=u):(i="UTC",this.dt=s.timeZoneName||0===u.offset?u:Se.fromMillis(u.ts+60*u.offset*1e3))}else"system"===u.zone.type?this.dt=u:(this.dt=u,i=u.zone.name);const a={...this.opts};i&&(a.timeZone=i),this.dtf=zn(h,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Dn{constructor(u,h,s){this.opts={style:"long",...s},!h&&Be()&&(this.rtf=function Si(m,u={}){const{base:h,...s}=u,i=JSON.stringify([m,s]);let a=pn[i];return a||(a=new Intl.RelativeTimeFormat(m,u),pn[i]=a),a}(u,s))}format(u,h){return this.rtf?this.rtf.format(u,h):function re(m,u,h="always",s=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(m);if("auto"===h&&a){const ue="days"===m;switch(u){case 1:return ue?"tomorrow":`next ${i[m][0]}`;case-1:return ue?"yesterday":`last ${i[m][0]}`;case 0:return ue?"today":`this ${i[m][0]}`}}const o=Object.is(u,-0)||u<0,d=Math.abs(u),D=1===d,P=i[m],q=s?D?P[1]:P[2]||P[1]:D?i[m][0]:m;return o?`${d} ${q} ago`:`in ${d} ${q}`}(h,u,this.opts.numeric,"long"!==this.opts.style)}formatToParts(u,h){return this.rtf?this.rtf.formatToParts(u,h):[]}}class Oe{static fromOpts(u){return Oe.create(u.locale,u.numberingSystem,u.outputCalendar,u.defaultToEN)}static create(u,h,s,i=!1){const a=u||Ke.defaultLocale,o=a||(i?"en-US":function yn(){return Xt||(Xt=(new Intl.DateTimeFormat).resolvedOptions().locale,Xt)}());return new Oe(o,h||Ke.defaultNumberingSystem,s||Ke.defaultOutputCalendar,a)}static resetCache(){Xt=null,jn={},Wn={},pn={}}static fromObject({locale:u,numberingSystem:h,outputCalendar:s}={}){return Oe.create(u,h,s)}constructor(u,h,s,i){const[a,o,d]=function Kn(m){const u=m.indexOf("-u-");if(-1===u)return[m];{let h;const s=m.substring(0,u);try{h=zn(m).resolvedOptions()}catch{h=zn(s).resolvedOptions()}const{numberingSystem:i,calendar:a}=h;return[s,i,a]}}(u);this.locale=a,this.numberingSystem=h||o||null,this.outputCalendar=s||d||null,this.intl=function Rr(m,u,h){return(h||u)&&(m+="-u",h&&(m+=`-ca-${h}`),u&&(m+=`-nu-${u}`)),m}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function $n(m){return(!m.numberingSystem||"latn"===m.numberingSystem)&&("latn"===m.numberingSystem||!m.locale||m.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(m.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(u){return u&&0!==Object.getOwnPropertyNames(u).length?Oe.create(u.locale||this.specifiedLocale,u.numberingSystem||this.numberingSystem,u.outputCalendar||this.outputCalendar,u.defaultToEN||!1):this}redefaultToEN(u={}){return this.clone({...u,defaultToEN:!0})}redefaultToSystem(u={}){return this.clone({...u,defaultToEN:!1})}months(u,h=!1,s=!0){return Wt(this,u,s,xt,()=>{const i=h?{month:u,day:"numeric"}:{month:u},a=h?"format":"standalone";return this.monthsCache[a][u]||(this.monthsCache[a][u]=function gn(m){const u=[];for(let h=1;h<=12;h++){const s=Se.utc(2016,h,1);u.push(m(s))}return u}(o=>this.extract(o,i,"month"))),this.monthsCache[a][u]})}weekdays(u,h=!1,s=!0){return Wt(this,u,s,gt,()=>{const i=h?{weekday:u,year:"numeric",month:"long",day:"numeric"}:{weekday:u},a=h?"format":"standalone";return this.weekdaysCache[a][u]||(this.weekdaysCache[a][u]=function Vr(m){const u=[];for(let h=1;h<=7;h++){const s=Se.utc(2016,11,13+h);u.push(m(s))}return u}(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[a][u]})}meridiems(u=!0){return Wt(this,void 0,u,()=>Nt,()=>{if(!this.meridiemCache){const h={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Se.utc(2016,11,13,9),Se.utc(2016,11,13,19)].map(s=>this.extract(s,h,"dayperiod"))}return this.meridiemCache})}eras(u,h=!0){return Wt(this,u,h,_,()=>{const s={era:u};return this.eraCache[u]||(this.eraCache[u]=[Se.utc(-40,1,1),Se.utc(2017,1,1)].map(i=>this.extract(i,s,"era"))),this.eraCache[u]})}extract(u,h,s){const o=this.dtFormatter(u,h).formatToParts().find(d=>d.type.toLowerCase()===s);return o?o.value:null}numberFormatter(u={}){return new ve(this.intl,u.forceSimple||this.fastNumbers,u)}dtFormatter(u,h={}){return new Jn(u,this.intl,h)}relFormatter(u={}){return new Dn(this.intl,this.isEnglish(),u)}listFormatter(u={}){return function Ai(m,u={}){const h=JSON.stringify([m,u]);let s=Pr[h];return s||(s=new Intl.ListFormat(m,u),Pr[h]=s),s}(this.intl,u)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(u){return this.locale===u.locale&&this.numberingSystem===u.numberingSystem&&this.outputCalendar===u.outputCalendar}}function Ut(...m){const u=m.reduce((h,s)=>h+s.source,"");return RegExp(`^${u}$`)}function je(...m){return u=>m.reduce(([h,s,i],a)=>{const[o,d,D]=a(u,i);return[{...h,...o},d||s,D]},[{},null,1]).slice(0,2)}function wt(m,...u){if(null==m)return[null,null];for(const[h,s]of u){const i=h.exec(m);if(i)return s(i)}return[null,null]}function xn(...m){return(u,h)=>{const s={};let i;for(i=0;i<m.length;i++)s[m[i]]=Me(u[h+i]);return[s,null,h+i]}}const En=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,wn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Hr=RegExp(`${wn.source}(?:${En.source}?(?:\\[(${qe.source})\\])?)?`),Fn=RegExp(`(?:T${Hr.source})?`),qn=xn("weekYear","weekNumber","weekDay"),Ur=xn("year","ordinal"),Qn=RegExp(`${wn.source} ?(?:${En.source}|(${qe.source}))?`),Zt=RegExp(`(?: ${Qn.source})?`);function Lt(m,u,h){const s=m[u];return se(s)?h:Me(s)}function pe(m,u){return[{hours:Lt(m,u,0),minutes:Lt(m,u+1,0),seconds:Lt(m,u+2,0),milliseconds:we(m[u+3])},null,u+4]}function Kt(m,u){const h=!m[u]&&!m[u+1],s=pt(m[u+1],m[u+2]);return[{},h?null:Je.instance(s),u+3]}function $t(m,u){return[{},m[u]?Ge.create(m[u]):null,u+1]}const Zr=RegExp(`^T?${wn.source}$`),Gr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jr(m){const[u,h,s,i,a,o,d,D,P]=m,q="-"===u[0],ue=D&&"-"===D[0],le=(ye,xe=!1)=>void 0!==ye&&(xe||ye&&q)?-ye:ye;return[{years:le(rt(h)),months:le(rt(s)),weeks:le(rt(i)),days:le(rt(a)),hours:le(rt(o)),minutes:le(rt(d)),seconds:le(rt(D),"-0"===D),milliseconds:le(we(P),ue)}]}const zr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(m,u,h,s,i,a,o){const d={year:2===u.length?Ce(Me(u)):Me(u),month:St.indexOf(h)+1,day:Me(s),hour:Me(i),minute:Me(a)};return o&&(d.second=Me(o)),m&&(d.weekday=m.length>3?mt.indexOf(m)+1:Bt.indexOf(m)+1),d}const bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Wr(m){const[,u,h,s,i,a,o,d,D,P,q,ue]=m,le=Cn(u,i,s,h,a,o,d);let ye;return ye=D?zr[D]:P?0:pt(q,ue),[le,new Je(ye)]}const $r=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Jr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Yr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Xn(m){const[,u,h,s,i,a,o,d]=m;return[Cn(u,i,s,h,a,o,d),Je.utcInstance]}function qr(m){const[,u,h,s,i,a,o,d]=m;return[Cn(u,d,h,s,i,a,o),Je.utcInstance]}const Qr=Ut(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Fn),Xr=Ut(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Fn),ei=Ut(/(\d{4})-?(\d{3})/,Fn),ti=Ut(Hr),er=je(function Ft(m,u){return[{year:Lt(m,u),month:Lt(m,u+1,1),day:Lt(m,u+2,1)},null,u+3]},pe,Kt,$t),ni=je(qn,pe,Kt,$t),ri=je(Ur,pe,Kt,$t),ii=je(pe,Kt,$t),ui=je(pe),nr=Ut(/(\d{4})-(\d\d)-(\d\d)/,Zt),rr=Ut(Qn),An=je(pe,Kt,$t),li={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},sr={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...li},ot=365.2425,Ot=30.436875,ar={years:{quarters:4,months:12,weeks:ot/7,days:ot,hours:24*ot,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ot/28,days:ot/4,hours:24*ot/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Ot/7,days:Ot,hours:24*Ot,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...li},Pt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ci=Pt.slice(0).reverse();function Rt(m,u,h=!1){const s={values:h?u.values:{...m.values,...u.values||{}},loc:m.loc.clone(u.loc),conversionAccuracy:u.conversionAccuracy||m.conversionAccuracy,matrix:u.matrix||m.matrix};return new Ae(s)}function vn(m,u,h,s,i){const a=m[i][h],o=u[h]/a,D=Math.sign(o)!==Math.sign(s[i])&&0!==s[i]&&Math.abs(o)<=1?function di(m){return m<0?Math.floor(m):Math.ceil(m)}(o):Math.trunc(o);s[i]+=D,u[h]-=D*a}class Ae{constructor(u){const h="longterm"===u.conversionAccuracy||!1;let s=h?ar:sr;u.matrix&&(s=u.matrix),this.values=u.values,this.loc=u.loc||Oe.create(),this.conversionAccuracy=h?"longterm":"casual",this.invalid=u.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(u,h){return Ae.fromObject({milliseconds:u},h)}static fromObject(u,h={}){if(null==u||"object"!=typeof u)throw new Q("Duration.fromObject: argument expected to be an object, got "+(null===u?"null":typeof u));return new Ae({values:Dt(u,Ae.normalizeUnit),loc:Oe.fromObject(h),conversionAccuracy:h.conversionAccuracy,matrix:h.matrix})}static fromDurationLike(u){if(de(u))return Ae.fromMillis(u);if(Ae.isDuration(u))return u;if("object"==typeof u)return Ae.fromObject(u);throw new Q(`Unknown duration argument ${u} of type ${typeof u}`)}static fromISO(u,h){const[s]=function tr(m){return wt(m,[Gr,jr])}(u);return s?Ae.fromObject(s,h):Ae.invalid("unparsable",`the input "${u}" can't be parsed as ISO 8601`)}static fromISOTime(u,h){const[s]=function tt(m){return wt(m,[Zr,ui])}(u);return s?Ae.fromObject(s,h):Ae.invalid("unparsable",`the input "${u}" can't be parsed as ISO 8601`)}static invalid(u,h=null){if(!u)throw new Q("need to specify a reason the Duration is invalid");const s=u instanceof _e?u:new _e(u,h);if(Ke.throwOnInvalid)throw new E(s);return new Ae({invalid:s})}static normalizeUnit(u){const h={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[u&&u.toLowerCase()];if(!h)throw new K(u);return h}static isDuration(u){return u&&u.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(u,h={}){const s={...h,floor:!1!==h.round&&!1!==h.floor};return this.isValid?he.create(this.loc,s).formatDurationFromString(this,u):"Invalid Duration"}toHuman(u={}){const h=Pt.map(s=>{const i=this.values[s];return se(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...u,unit:s.slice(0,-1)}).format(i)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:u.listStyle||"narrow",...u}).format(h)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let u="P";return 0!==this.years&&(u+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(u+=this.months+3*this.quarters+"M"),0!==this.weeks&&(u+=this.weeks+"W"),0!==this.days&&(u+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(u+="T"),0!==this.hours&&(u+=this.hours+"H"),0!==this.minutes&&(u+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(u+=ft(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===u&&(u+="T0S"),u}toISOTime(u={}){if(!this.isValid)return null;const h=this.toMillis();if(h<0||h>=864e5)return null;u={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...u};const s=this.shiftTo("hours","minutes","seconds","milliseconds");let i="basic"===u.format?"hhmm":"hh:mm";(!u.suppressSeconds||0!==s.seconds||0!==s.milliseconds)&&(i+="basic"===u.format?"ss":":ss",(!u.suppressMilliseconds||0!==s.milliseconds)&&(i+=".SSS"));let a=s.toFormat(i);return u.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(u){if(!this.isValid)return this;const h=Ae.fromDurationLike(u),s={};for(const i of Pt)(ht(h.values,i)||ht(this.values,i))&&(s[i]=h.get(i)+this.get(i));return Rt(this,{values:s},!0)}minus(u){if(!this.isValid)return this;const h=Ae.fromDurationLike(u);return this.plus(h.negate())}mapUnits(u){if(!this.isValid)return this;const h={};for(const s of Object.keys(this.values))h[s]=At(u(this.values[s],s));return Rt(this,{values:h},!0)}get(u){return this[Ae.normalizeUnit(u)]}set(u){return this.isValid?Rt(this,{values:{...this.values,...Dt(u,Ae.normalizeUnit)}}):this}reconfigure({locale:u,numberingSystem:h,conversionAccuracy:s,matrix:i}={}){return Rt(this,{loc:this.loc.clone({locale:u,numberingSystem:h}),matrix:i,conversionAccuracy:s})}as(u){return this.isValid?this.shiftTo(u).get(u):NaN}normalize(){if(!this.isValid)return this;const u=this.toObject();return function or(m,u){ci.reduce((h,s)=>se(u[s])?h:(h&&vn(m,u,h,u,s),s),null)}(this.matrix,u),Rt(this,{values:u},!0)}shiftTo(...u){if(!this.isValid)return this;if(0===u.length)return this;u=u.map(o=>Ae.normalizeUnit(o));const h={},s={},i=this.toObject();let a;for(const o of Pt)if(u.indexOf(o)>=0){a=o;let d=0;for(const P in s)d+=this.matrix[P][o]*s[P],s[P]=0;de(i[o])&&(d+=i[o]);const D=Math.trunc(d);h[o]=D,s[o]=(1e3*d-1e3*D)/1e3;for(const P in i)Pt.indexOf(P)>Pt.indexOf(o)&&vn(this.matrix,i,P,h,o)}else de(i[o])&&(s[o]=i[o]);for(const o in s)0!==s[o]&&(h[a]+=o===a?s[o]:s[o]/this.matrix[a][o]);return Rt(this,{values:h},!0).normalize()}negate(){if(!this.isValid)return this;const u={};for(const h of Object.keys(this.values))u[h]=0===this.values[h]?0:-this.values[h];return Rt(this,{values:u},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(u){if(!this.isValid||!u.isValid||!this.loc.equals(u.loc))return!1;function h(s,i){return void 0===s||0===s?void 0===i||0===i:s===i}for(const s of Pt)if(!h(this.values[s],u.values[s]))return!1;return!0}}const Vt="Invalid Interval";class Ze{constructor(u){this.s=u.start,this.e=u.end,this.invalid=u.invalid||null,this.isLuxonInterval=!0}static invalid(u,h=null){if(!u)throw new Q("need to specify a reason the Interval is invalid");const s=u instanceof _e?u:new _e(u,h);if(Ke.throwOnInvalid)throw new R(s);return new Ze({invalid:s})}static fromDateTimes(u,h){const s=jt(u),i=jt(h),a=function ur(m,u){return m&&m.isValid?u&&u.isValid?u<m?Ze.invalid("end before start",`The end of an interval must be after its start, but you had start=${m.toISO()} and end=${u.toISO()}`):null:Ze.invalid("missing or invalid end"):Ze.invalid("missing or invalid start")}(s,i);return a??new Ze({start:s,end:i})}static after(u,h){const s=Ae.fromDurationLike(h),i=jt(u);return Ze.fromDateTimes(i,i.plus(s))}static before(u,h){const s=Ae.fromDurationLike(h),i=jt(u);return Ze.fromDateTimes(i.minus(s),i)}static fromISO(u,h){const[s,i]=(u||"").split("/",2);if(s&&i){let a,o,d,D;try{a=Se.fromISO(s,h),o=a.isValid}catch{o=!1}try{d=Se.fromISO(i,h),D=d.isValid}catch{D=!1}if(o&&D)return Ze.fromDateTimes(a,d);if(o){const P=Ae.fromISO(i,h);if(P.isValid)return Ze.after(a,P)}else if(D){const P=Ae.fromISO(s,h);if(P.isValid)return Ze.before(d,P)}}return Ze.invalid("unparsable",`the input "${u}" can't be parsed as ISO 8601`)}static isInterval(u){return u&&u.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(u="milliseconds"){return this.isValid?this.toDuration(u).get(u):NaN}count(u="milliseconds"){if(!this.isValid)return NaN;const h=this.start.startOf(u),s=this.end.startOf(u);return Math.floor(s.diff(h,u).get(u))+1}hasSame(u){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,u))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(u){return!!this.isValid&&this.s>u}isBefore(u){return!!this.isValid&&this.e<=u}contains(u){return!!this.isValid&&this.s<=u&&this.e>u}set({start:u,end:h}={}){return this.isValid?Ze.fromDateTimes(u||this.s,h||this.e):this}splitAt(...u){if(!this.isValid)return[];const h=u.map(jt).filter(o=>this.contains(o)).sort(),s=[];let{s:i}=this,a=0;for(;i<this.e;){const o=h[a]||this.e,d=+o>+this.e?this.e:o;s.push(Ze.fromDateTimes(i,d)),i=d,a+=1}return s}splitBy(u){const h=Ae.fromDurationLike(u);if(!this.isValid||!h.isValid||0===h.as("milliseconds"))return[];let a,{s}=this,i=1;const o=[];for(;s<this.e;){const d=this.start.plus(h.mapUnits(D=>D*i));a=+d>+this.e?this.e:d,o.push(Ze.fromDateTimes(s,a)),s=a,i+=1}return o}divideEqually(u){return this.isValid?this.splitBy(this.length()/u).slice(0,u):[]}overlaps(u){return this.e>u.s&&this.s<u.e}abutsStart(u){return!!this.isValid&&+this.e==+u.s}abutsEnd(u){return!!this.isValid&&+u.e==+this.s}engulfs(u){return!!this.isValid&&this.s<=u.s&&this.e>=u.e}equals(u){return!(!this.isValid||!u.isValid)&&this.s.equals(u.s)&&this.e.equals(u.e)}intersection(u){if(!this.isValid)return this;const h=this.s>u.s?this.s:u.s,s=this.e<u.e?this.e:u.e;return h>=s?null:Ze.fromDateTimes(h,s)}union(u){return this.isValid?Ze.fromDateTimes(this.s<u.s?this.s:u.s,this.e>u.e?this.e:u.e):this}static merge(u){const[h,s]=u.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return s&&h.push(s),h}static xor(u){let h=null,s=0;const i=[],a=u.map(D=>[{time:D.s,type:"s"},{time:D.e,type:"e"}]),d=Array.prototype.concat(...a).sort((D,P)=>D.time-P.time);for(const D of d)s+="s"===D.type?1:-1,1===s?h=D.time:(h&&+h!=+D.time&&i.push(Ze.fromDateTimes(h,D.time)),h=null);return Ze.merge(i)}difference(...u){return Ze.xor([this].concat(u)).map(h=>this.intersection(h)).filter(h=>h&&!h.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Vt}toISO(u){return this.isValid?`${this.s.toISO(u)}/${this.e.toISO(u)}`:Vt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Vt}toISOTime(u){return this.isValid?`${this.s.toISOTime(u)}/${this.e.toISOTime(u)}`:Vt}toFormat(u,{separator:h=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(u)}${h}${this.e.toFormat(u)}`:Vt}toDuration(u,h){return this.isValid?this.e.diff(this.s,u,h):Ae.invalid(this.invalidReason)}mapEndpoints(u){return Ze.fromDateTimes(u(this.s),u(this.e))}}class nn{static hasDST(u=Ke.defaultZone){const h=Se.now().setZone(u).set({month:12});return!u.isUniversal&&h.offset!==h.set({month:6}).offset}static isValidIANAZone(u){return Ge.isValidZone(u)}static normalizeZone(u){return Et(u,Ke.defaultZone)}static months(u="long",{locale:h=null,numberingSystem:s=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Oe.create(h,s,a)).months(u)}static monthsFormat(u="long",{locale:h=null,numberingSystem:s=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Oe.create(h,s,a)).months(u,!0)}static weekdays(u="long",{locale:h=null,numberingSystem:s=null,locObj:i=null}={}){return(i||Oe.create(h,s,null)).weekdays(u)}static weekdaysFormat(u="long",{locale:h=null,numberingSystem:s=null,locObj:i=null}={}){return(i||Oe.create(h,s,null)).weekdays(u,!0)}static meridiems({locale:u=null}={}){return Oe.create(u).meridiems()}static eras(u="short",{locale:h=null}={}){return Oe.create(h,null,"gregory").eras(u)}static features(){return{relative:Be()}}}function rn(m,u){const h=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=h(u)-h(m);return Math.floor(Ae.fromMillis(s).as("days"))}const Gt={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},lr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},fi=Gt.hanidec.replace(/[\[|\]]/g,"").split("");function st({numberingSystem:m},u=""){return new RegExp(`${Gt[m||"latn"]}${u}`)}function Ie(m,u=(h=>h)){return{regex:m,deser:([h])=>u(function cr(m){let u=parseInt(m,10);if(isNaN(u)){u="";for(let h=0;h<m.length;h++){const s=m.charCodeAt(h);if(-1!==m[h].search(Gt.hanidec))u+=fi.indexOf(m[h]);else for(const i in lr){const[a,o]=lr[i];s>=a&&s<=o&&(u+=s-a)}}return parseInt(u,10)}return u}(h))}}const sn=`[ ${String.fromCharCode(160)}]`,an=new RegExp(sn,"g");function In(m){return m.replace(/\./g,"\\.?").replace(an,sn)}function _n(m){return m.replace(/\./g,"").replace(an," ").toLowerCase()}function ut(m,u){return null===m?null:{regex:RegExp(m.map(In).join("|")),deser:([h])=>m.findIndex(s=>_n(h)===_n(s))+u}}function Tn(m,u){return{regex:m,deser:([,h,s])=>pt(h,s),groups:u}}function on(m){return{regex:m,deser:([u])=>u}}function dr(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const On={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Bn=null;function un(m,u){return Array.prototype.concat(...m.map(h=>function Nn(m,u){if(m.literal)return m;const s=Ln(he.macroTokenToFormatOpts(m.val),u);return null==s||s.includes(void 0)?m:s}(h,u)))}function ln(m,u,h){const s=un(he.parseFormat(h),m),i=s.map(o=>function Mn(m,u){const h=st(u),s=st(u,"{2}"),i=st(u,"{3}"),a=st(u,"{4}"),o=st(u,"{6}"),d=st(u,"{1,2}"),D=st(u,"{1,3}"),P=st(u,"{1,6}"),q=st(u,"{1,9}"),ue=st(u,"{2,4}"),le=st(u,"{4,6}"),ye=Re=>({regex:RegExp(dr(Re.val)),deser:([nt])=>nt,literal:!0}),Ee=(Re=>{if(m.literal)return ye(Re);switch(Re.val){case"G":return ut(u.eras("short",!1),0);case"GG":return ut(u.eras("long",!1),0);case"y":return Ie(P);case"yy":case"kk":return Ie(ue,Ce);case"yyyy":case"kkkk":return Ie(a);case"yyyyy":return Ie(le);case"yyyyyy":return Ie(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ie(d);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ie(s);case"MMM":return ut(u.months("short",!0,!1),1);case"MMMM":return ut(u.months("long",!0,!1),1);case"LLL":return ut(u.months("short",!1,!1),1);case"LLLL":return ut(u.months("long",!1,!1),1);case"o":case"S":return Ie(D);case"ooo":case"SSS":return Ie(i);case"u":return on(q);case"uu":return on(d);case"uuu":case"E":case"c":return Ie(h);case"a":return ut(u.meridiems(),0);case"EEE":return ut(u.weekdays("short",!1,!1),1);case"EEEE":return ut(u.weekdays("long",!1,!1),1);case"ccc":return ut(u.weekdays("short",!0,!1),1);case"cccc":return ut(u.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Tn(new RegExp(`([+-]${d.source})(?::(${s.source}))?`),2);case"ZZZ":return Tn(new RegExp(`([+-]${d.source})(${s.source})?`),2);case"z":return on(/[a-z_+-/]{1,256}?/i);default:return ye(Re)}})(m)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Ee.token=m,Ee}(o,m)),a=i.find(o=>o.invalidReason);if(a)return{input:u,tokens:s,invalidReason:a.invalidReason};{const[o,d]=function kn(m){return[`^${m.map(h=>h.regex).reduce((h,s)=>`${h}(${s.source})`,"")}$`,m]}(i),D=RegExp(o,"i"),[P,q]=function fr(m,u,h){const s=m.match(u);if(s){const i={};let a=1;for(const o in h)if(ht(h,o)){const d=h[o],D=d.groups?d.groups+1:1;!d.literal&&d.token&&(i[d.token.val[0]]=d.deser(s.slice(a,a+D))),a+=D}return[s,i]}return[s,{}]}(u,D,d),[ue,le,ye]=q?function pi(m){let s,h=null;return se(m.z)||(h=Ge.create(m.z)),se(m.Z)||(h||(h=new Je(m.Z)),s=m.Z),se(m.q)||(m.M=3*(m.q-1)+1),se(m.h)||(m.h<12&&1===m.a?m.h+=12:12===m.h&&0===m.a&&(m.h=0)),0===m.G&&m.y&&(m.y=-m.y),se(m.u)||(m.S=we(m.u)),[Object.keys(m).reduce((a,o)=>{const d=(a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(o);return d&&(a[d]=m[o]),a},{}),h,s]}(q):[null,null,void 0];if(ht(q,"a")&&ht(q,"H"))throw new f("Can't include meridiem when specifying 24-hour format");return{input:u,tokens:s,regex:D,rawMatches:P,matches:q,result:ue,zone:le,specificOffset:ye}}}function Ln(m,u){return m?he.create(u,m).formatDateTimeParts(function mr(){return Bn||(Bn=Se.fromMillis(1555555555555)),Bn}()).map(i=>function hr(m,u,h){const{type:s,value:i}=m;if("literal"===s)return{literal:!0,val:i};let o=On[s];return"object"==typeof o&&(o=o[h[s]]),o?{literal:!1,val:o}:void 0}(i,0,m)):null}const cn=[0,31,59,90,120,151,181,212,243,273,304,334],Pn=[0,31,60,91,121,152,182,213,244,274,305,335];function lt(m,u){return new _e("unit out of range",`you specified ${u} (of type ${typeof u}) as a ${m}, which is invalid`)}function Yt(m,u,h){const s=new Date(Date.UTC(m,u-1,h));m<100&&m>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const i=s.getUTCDay();return 0===i?7:i}function pr(m,u,h){return h+(at(m)?Pn:cn)[u-1]}function yr(m,u){const h=at(m)?Pn:cn,s=h.findIndex(a=>a<u);return{month:s+1,day:u-h[s]}}function dn(m){const{year:u,month:h,day:s}=m,i=pr(u,h,s),a=Yt(u,h,s);let d,o=Math.floor((i-a+10)/7);return o<1?(d=u-1,o=Ue(d)):o>Ue(u)?(d=u+1,o=1):d=u,{weekYear:d,weekNumber:o,weekday:a,...It(m)}}function gr(m){const{weekYear:u,weekNumber:h,weekday:s}=m,i=Yt(u,1,4),a=$e(u);let d,o=7*h+s-i-3;o<1?(d=u-1,o+=$e(d)):o>a?(d=u+1,o-=$e(u)):d=u;const{month:D,day:P}=yr(d,o);return{year:d,month:D,day:P,...It(m)}}function Rn(m){const{year:u,month:h,day:s}=m;return{year:u,ordinal:pr(u,h,s),...It(m)}}function Dr(m){const{year:u,ordinal:h}=m,{month:s,day:i}=yr(u,h);return{year:u,month:s,day:i,...It(m)}}function Vn(m){const u=ie(m.year),h=Qe(m.month,1,12),s=Qe(m.day,1,Ct(m.year,m.month));return u?h?!s&&lt("day",m.day):lt("month",m.month):lt("year",m.year)}function xr(m){const{hour:u,minute:h,second:s,millisecond:i}=m,a=Qe(u,0,23)||24===u&&0===h&&0===s&&0===i,o=Qe(h,0,59),d=Qe(s,0,59),D=Qe(i,0,999);return a?o?d?!D&&lt("millisecond",i):lt("second",s):lt("minute",h):lt("hour",u)}const Hn="Invalid DateTime",Er=864e13;function kt(m){return new _e("unsupported zone",`the zone "${m.name}" is not supported`)}function Un(m){return null===m.weekData&&(m.weekData=dn(m.c)),m.weekData}function qt(m,u){const h={ts:m.ts,zone:m.zone,c:m.c,o:m.o,loc:m.loc,invalid:m.invalid};return new Se({...h,...u,old:h})}function wr(m,u,h){let s=m-60*u*1e3;const i=h.offset(s);if(u===i)return[s,u];s-=60*(i-u)*1e3;const a=h.offset(s);return i===a?[s,i]:[m-60*Math.min(i,a)*1e3,Math.max(i,a)]}function Fr(m,u){const h=new Date(m+=60*u*1e3);return{year:h.getUTCFullYear(),month:h.getUTCMonth()+1,day:h.getUTCDate(),hour:h.getUTCHours(),minute:h.getUTCMinutes(),second:h.getUTCSeconds(),millisecond:h.getUTCMilliseconds()}}function hn(m,u,h){return wr(ke(m),u,h)}function Cr(m,u){const h=m.o,s=m.c.year+Math.trunc(u.years),i=m.c.month+Math.trunc(u.months)+3*Math.trunc(u.quarters),a={...m.c,year:s,month:i,day:Math.min(m.c.day,Ct(s,i))+Math.trunc(u.days)+7*Math.trunc(u.weeks)},o=Ae.fromObject({years:u.years-Math.trunc(u.years),quarters:u.quarters-Math.trunc(u.quarters),months:u.months-Math.trunc(u.months),weeks:u.weeks-Math.trunc(u.weeks),days:u.days-Math.trunc(u.days),hours:u.hours,minutes:u.minutes,seconds:u.seconds,milliseconds:u.milliseconds}).as("milliseconds"),d=ke(a);let[D,P]=wr(d,h,m.zone);return 0!==o&&(D+=o,P=m.zone.offset(D)),{ts:D,o:P}}function Qt(m,u,h,s,i,a){const{setZone:o,zone:d}=h;if(m&&0!==Object.keys(m).length){const D=u||d,P=Se.fromObject(m,{...h,zone:D,specificOffset:a});return o?P:P.setZone(d)}return Se.invalid(new _e("unparsable",`the input "${i}" can't be parsed as ${s}`))}function fn(m,u,h=!0){return m.isValid?he.create(Oe.create("en-US"),{allowZ:h,forceSimple:!0}).formatDateTimeFromString(m,u):null}function Zn(m,u){const h=m.c.year>9999||m.c.year<0;let s="";return h&&m.c.year>=0&&(s+="+"),s+=Le(m.c.year,h?6:4),u?(s+="-",s+=Le(m.c.month),s+="-",s+=Le(m.c.day)):(s+=Le(m.c.month),s+=Le(m.c.day)),s}function Ar(m,u,h,s,i,a){let o=Le(m.c.hour);return u?(o+=":",o+=Le(m.c.minute),(0!==m.c.second||!h)&&(o+=":")):o+=Le(m.c.minute),(0!==m.c.second||!h)&&(o+=Le(m.c.second),(0!==m.c.millisecond||!s)&&(o+=".",o+=Le(m.c.millisecond,3))),i&&(m.isOffsetFixed&&0===m.offset&&!a?o+="Z":m.o<0?(o+="-",o+=Le(Math.trunc(-m.o/60)),o+=":",o+=Le(Math.trunc(-m.o%60))):(o+="+",o+=Le(Math.trunc(m.o/60)),o+=":",o+=Le(Math.trunc(m.o%60)))),a&&(o+="["+m.zone.ianaName+"]"),o}const vr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},xi={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ei={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Sr=["year","month","day","hour","minute","second","millisecond"],wi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Fi=["year","ordinal","hour","minute","second","millisecond"];function br(m){const u={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[m.toLowerCase()];if(!u)throw new K(m);return u}function Ir(m,u){const h=Et(u.zone,Ke.defaultZone),s=Oe.fromObject(u),i=Ke.now();let a,o;if(se(m.year))a=i;else{for(const P of Sr)se(m[P])&&(m[P]=vr[P]);const d=Vn(m)||xr(m);if(d)return Se.invalid(d);const D=h.offset(i);[a,o]=hn(m,D,h)}return new Se({ts:a,zone:h,loc:s,o})}function _r(m,u,h){const s=!!se(h.round)||h.round,i=(o,d)=>(o=ft(o,s||h.calendary?0:2,!0),u.loc.clone(h).relFormatter(h).format(o,d)),a=o=>h.calendary?u.hasSame(m,o)?0:u.startOf(o).diff(m.startOf(o),o).get(o):u.diff(m,o).get(o);if(h.unit)return i(a(h.unit),h.unit);for(const o of h.units){const d=a(o);if(Math.abs(d)>=1)return i(d,o)}return i(m>u?-0:0,h.units[h.units.length-1])}function Tr(m){let h,u={};return m.length>0&&"object"==typeof m[m.length-1]?(u=m[m.length-1],h=Array.from(m).slice(0,m.length-1)):h=Array.from(m),[u,h]}class Se{constructor(u){const h=u.zone||Ke.defaultZone;let s=u.invalid||(Number.isNaN(u.ts)?new _e("invalid input"):null)||(h.isValid?null:kt(h));this.ts=se(u.ts)?Ke.now():u.ts;let i=null,a=null;if(!s)if(u.old&&u.old.ts===this.ts&&u.old.zone.equals(h))[i,a]=[u.old.c,u.old.o];else{const d=h.offset(this.ts);i=Fr(this.ts,d),s=Number.isNaN(i.year)?new _e("invalid input"):null,i=s?null:i,a=s?null:d}this._zone=h,this.loc=u.loc||Oe.create(),this.invalid=s,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Se({})}static local(){const[u,h]=Tr(arguments),[s,i,a,o,d,D,P]=h;return Ir({year:s,month:i,day:a,hour:o,minute:d,second:D,millisecond:P},u)}static utc(){const[u,h]=Tr(arguments),[s,i,a,o,d,D,P]=h;return u.zone=Je.utcInstance,Ir({year:s,month:i,day:a,hour:o,minute:d,second:D,millisecond:P},u)}static fromJSDate(u,h={}){const s=function ct(m){return"[object Date]"===Object.prototype.toString.call(m)}(u)?u.valueOf():NaN;if(Number.isNaN(s))return Se.invalid("invalid input");const i=Et(h.zone,Ke.defaultZone);return i.isValid?new Se({ts:s,zone:i,loc:Oe.fromObject(h)}):Se.invalid(kt(i))}static fromMillis(u,h={}){if(de(u))return u<-Er||u>Er?Se.invalid("Timestamp out of range"):new Se({ts:u,zone:Et(h.zone,Ke.defaultZone),loc:Oe.fromObject(h)});throw new Q(`fromMillis requires a numerical input, but received a ${typeof u} with value ${u}`)}static fromSeconds(u,h={}){if(de(u))return new Se({ts:1e3*u,zone:Et(h.zone,Ke.defaultZone),loc:Oe.fromObject(h)});throw new Q("fromSeconds requires a numerical input")}static fromObject(u,h={}){u=u||{};const s=Et(h.zone,Ke.defaultZone);if(!s.isValid)return Se.invalid(kt(s));const i=Ke.now(),a=se(h.specificOffset)?s.offset(i):h.specificOffset,o=Dt(u,br),d=!se(o.ordinal),D=!se(o.year),P=!se(o.month)||!se(o.day),q=D||P,ue=o.weekYear||o.weekNumber,le=Oe.fromObject(h);if((q||d)&&ue)throw new f("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(P&&d)throw new f("Can't mix ordinal dates with month/day");const ye=ue||o.weekday&&!q;let xe,Ee,Re=Fr(i,a);ye?(xe=wi,Ee=xi,Re=dn(Re)):d?(xe=Fi,Ee=Ei,Re=Rn(Re)):(xe=Sr,Ee=vr);let nt=!1;for(const Gn of xe)se(o[Gn])?o[Gn]=nt?Ee[Gn]:Re[Gn]:nt=!0;const zt=ye?function gi(m){const u=ie(m.weekYear),h=Qe(m.weekNumber,1,Ue(m.weekYear)),s=Qe(m.weekday,1,7);return u?h?!s&&lt("weekday",m.weekday):lt("week",m.week):lt("weekYear",m.weekYear)}(o):d?function Di(m){const u=ie(m.year),h=Qe(m.ordinal,1,$e(m.year));return u?!h&&lt("ordinal",m.ordinal):lt("year",m.year)}(o):Vn(o),_i=zt||xr(o);if(_i)return Se.invalid(_i);const Ti=ye?gr(o):d?Dr(o):o,[Mi,Oi]=hn(Ti,a,s),Ci=new Se({ts:Mi,zone:s,o:Oi,loc:le});return o.weekday&&q&&u.weekday!==Ci.weekday?Se.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${Ci.toISO()}`):Ci}static fromISO(u,h={}){const[s,i]=function si(m){return wt(m,[Qr,er],[Xr,ni],[ei,ri],[ti,ii])}(u);return Qt(s,i,h,"ISO 8601",u)}static fromRFC2822(u,h={}){const[s,i]=function ai(m){return wt(function Kr(m){return m.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(m),[bt,Wr])}(u);return Qt(s,i,h,"RFC 2822",u)}static fromHTTP(u,h={}){const[s,i]=function oi(m){return wt(m,[$r,Xn],[Jr,Xn],[Yr,qr])}(u);return Qt(s,i,h,"HTTP",h)}static fromFormat(u,h,s={}){if(se(u)||se(h))throw new Q("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=s,o=Oe.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[d,D,P,q]=function yi(m,u,h){const{result:s,zone:i,specificOffset:a,invalidReason:o}=ln(m,u,h);return[s,i,a,o]}(o,u,h);return q?Se.invalid(q):Qt(d,D,s,`format ${h}`,u,P)}static fromString(u,h,s={}){return Se.fromFormat(u,h,s)}static fromSQL(u,h={}){const[s,i]=function Jt(m){return wt(m,[nr,er],[rr,An])}(u);return Qt(s,i,h,"SQL",u)}static invalid(u,h=null){if(!u)throw new Q("need to specify a reason the DateTime is invalid");const s=u instanceof _e?u:new _e(u,h);if(Ke.throwOnInvalid)throw new z(s);return new Se({invalid:s})}static isDateTime(u){return u&&u.isLuxonDateTime||!1}static parseFormatForOpts(u,h={}){const s=Ln(u,Oe.fromObject(h));return s?s.map(i=>i?i.val:null).join(""):null}static expandFormat(u,h={}){return un(he.parseFormat(u),Oe.fromObject(h)).map(i=>i.val).join("")}get(u){return this[u]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Un(this).weekYear:NaN}get weekNumber(){return this.isValid?Un(this).weekNumber:NaN}get weekday(){return this.isValid?Un(this).weekday:NaN}get ordinal(){return this.isValid?Rn(this.c).ordinal:NaN}get monthShort(){return this.isValid?nn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?nn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?nn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?nn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return at(this.year)}get daysInMonth(){return Ct(this.year,this.month)}get daysInYear(){return this.isValid?$e(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ue(this.weekYear):NaN}resolvedLocaleOptions(u={}){const{locale:h,numberingSystem:s,calendar:i}=he.create(this.loc.clone(u),u).resolvedOptions(this);return{locale:h,numberingSystem:s,outputCalendar:i}}toUTC(u=0,h={}){return this.setZone(Je.instance(u),h)}toLocal(){return this.setZone(Ke.defaultZone)}setZone(u,{keepLocalTime:h=!1,keepCalendarTime:s=!1}={}){if((u=Et(u,Ke.defaultZone)).equals(this.zone))return this;if(u.isValid){let i=this.ts;if(h||s){const a=u.offset(this.ts),o=this.toObject();[i]=hn(o,a,u)}return qt(this,{ts:i,zone:u})}return Se.invalid(kt(u))}reconfigure({locale:u,numberingSystem:h,outputCalendar:s}={}){return qt(this,{loc:this.loc.clone({locale:u,numberingSystem:h,outputCalendar:s})})}setLocale(u){return this.reconfigure({locale:u})}set(u){if(!this.isValid)return this;const h=Dt(u,br),s=!se(h.weekYear)||!se(h.weekNumber)||!se(h.weekday),i=!se(h.ordinal),a=!se(h.year),o=!se(h.month)||!se(h.day);if((a||o||i)&&(h.weekYear||h.weekNumber))throw new f("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new f("Can't mix ordinal dates with month/day");let P;s?P=gr({...dn(this.c),...h}):se(h.ordinal)?(P={...this.toObject(),...h},se(h.day)&&(P.day=Math.min(Ct(P.year,P.month),P.day))):P=Dr({...Rn(this.c),...h});const[q,ue]=hn(P,this.o,this.zone);return qt(this,{ts:q,o:ue})}plus(u){return this.isValid?qt(this,Cr(this,Ae.fromDurationLike(u))):this}minus(u){return this.isValid?qt(this,Cr(this,Ae.fromDurationLike(u).negate())):this}startOf(u){if(!this.isValid)return this;const h={},s=Ae.normalizeUnit(u);switch(s){case"years":h.month=1;case"quarters":case"months":h.day=1;case"weeks":case"days":h.hour=0;case"hours":h.minute=0;case"minutes":h.second=0;case"seconds":h.millisecond=0}if("weeks"===s&&(h.weekday=1),"quarters"===s){const i=Math.ceil(this.month/3);h.month=3*(i-1)+1}return this.set(h)}endOf(u){return this.isValid?this.plus({[u]:1}).startOf(u).minus(1):this}toFormat(u,h={}){return this.isValid?he.create(this.loc.redefaultToEN(h)).formatDateTimeFromString(this,u):Hn}toLocaleString(u=A,h={}){return this.isValid?he.create(this.loc.clone(h),u).formatDateTime(this):Hn}toLocaleParts(u={}){return this.isValid?he.create(this.loc.clone(u),u).formatDateTimeParts(this):[]}toISO({format:u="extended",suppressSeconds:h=!1,suppressMilliseconds:s=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const o="extended"===u;let d=Zn(this,o);return d+="T",d+=Ar(this,o,h,s,i,a),d}toISODate({format:u="extended"}={}){return this.isValid?Zn(this,"extended"===u):null}toISOWeekDate(){return fn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:u=!1,suppressSeconds:h=!1,includeOffset:s=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+Ar(this,"extended"===o,h,u,s,a):null}toRFC2822(){return fn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return fn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Zn(this,!0):null}toSQLTime({includeOffset:u=!0,includeZone:h=!1,includeOffsetSpace:s=!0}={}){let i="HH:mm:ss.SSS";return(h||u)&&(s&&(i+=" "),h?i+="z":u&&(i+="ZZ")),fn(this,i,!0)}toSQL(u={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(u)}`:null}toString(){return this.isValid?this.toISO():Hn}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(u={}){if(!this.isValid)return{};const h={...this.c};return u.includeConfig&&(h.outputCalendar=this.outputCalendar,h.numberingSystem=this.loc.numberingSystem,h.locale=this.loc.locale),h}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(u,h="milliseconds",s={}){if(!this.isValid||!u.isValid)return Ae.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...s},a=function dt(m){return Array.isArray(m)?m:[m]}(h).map(Ae.normalizeUnit),o=u.valueOf()>this.valueOf(),P=function Sn(m,u,h,s){let[i,a,o,d]=function hi(m,u,h){const s=[["years",(d,D)=>D.year-d.year],["quarters",(d,D)=>D.quarter-d.quarter+4*(D.year-d.year)],["months",(d,D)=>D.month-d.month+12*(D.year-d.year)],["weeks",(d,D)=>{const P=rn(d,D);return(P-P%7)/7}],["days",rn]],i={};let a,o;for(const[d,D]of s)if(h.indexOf(d)>=0){a=d;let P=D(m,u);o=m.plus({[d]:P}),o>u?(m=m.plus({[d]:P-1}),P-=1):m=o,i[d]=P}return[m,i,o,a]}(m,u,h);const D=u-i,P=h.filter(ue=>["hours","minutes","seconds","milliseconds"].indexOf(ue)>=0);0===P.length&&(o<u&&(o=i.plus({[d]:1})),o!==i&&(a[d]=(a[d]||0)+D/(o-i)));const q=Ae.fromObject(a,s);return P.length>0?Ae.fromMillis(D,s).shiftTo(...P).plus(q):q}(o?this:u,o?u:this,a,i);return o?P.negate():P}diffNow(u="milliseconds",h={}){return this.diff(Se.now(),u,h)}until(u){return this.isValid?Ze.fromDateTimes(this,u):this}hasSame(u,h){if(!this.isValid)return!1;const s=u.valueOf(),i=this.setZone(u.zone,{keepLocalTime:!0});return i.startOf(h)<=s&&s<=i.endOf(h)}equals(u){return this.isValid&&u.isValid&&this.valueOf()===u.valueOf()&&this.zone.equals(u.zone)&&this.loc.equals(u.loc)}toRelative(u={}){if(!this.isValid)return null;const h=u.base||Se.fromObject({},{zone:this.zone}),s=u.padding?this<h?-u.padding:u.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=u.unit;return Array.isArray(u.unit)&&(i=u.unit,a=void 0),_r(h,this.plus(s),{...u,numeric:"always",units:i,unit:a})}toRelativeCalendar(u={}){return this.isValid?_r(u.base||Se.fromObject({},{zone:this.zone}),this,{...u,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...u){if(!u.every(Se.isDateTime))throw new Q("min requires all arguments be DateTimes");return Ye(u,h=>h.valueOf(),Math.min)}static max(...u){if(!u.every(Se.isDateTime))throw new Q("max requires all arguments be DateTimes");return Ye(u,h=>h.valueOf(),Math.max)}static fromFormatExplain(u,h,s={}){const{locale:i=null,numberingSystem:a=null}=s;return ln(Oe.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),u,h)}static fromStringExplain(u,h,s={}){return Se.fromFormatExplain(u,h,s)}static get DATE_SHORT(){return A}static get DATE_MED(){return k}static get DATE_MED_WITH_WEEKDAY(){return B}static get DATE_FULL(){return G}static get DATE_HUGE(){return H}static get TIME_SIMPLE(){return C}static get TIME_WITH_SECONDS(){return L}static get TIME_WITH_SHORT_OFFSET(){return S}static get TIME_WITH_LONG_OFFSET(){return c}static get TIME_24_SIMPLE(){return g}static get TIME_24_WITH_SECONDS(){return y}static get TIME_24_WITH_SHORT_OFFSET(){return w}static get TIME_24_WITH_LONG_OFFSET(){return U}static get DATETIME_SHORT(){return V}static get DATETIME_SHORT_WITH_SECONDS(){return l}static get DATETIME_MED(){return x}static get DATETIME_MED_WITH_SECONDS(){return j}static get DATETIME_MED_WITH_WEEKDAY(){return X}static get DATETIME_FULL(){return oe}static get DATETIME_FULL_WITH_SECONDS(){return me}static get DATETIME_HUGE(){return fe}static get DATETIME_HUGE_WITH_SECONDS(){return Fe}}function jt(m){if(Se.isDateTime(m))return m;if(m&&m.valueOf&&de(m.valueOf()))return Se.fromJSDate(m);if(m&&"object"==typeof m)return Se.fromObject(m);throw new Q(`Unknown datetime argument: ${m}, of type ${typeof m}`)}}}]);