"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[591],{7591:(S,l,t)=>{t.r(l),t.d(l,{ShellStateDashboardComponent:()=>y});var p=t(6814),u=t(5861),o=t(9212),f=t(9276);let h=(()=>{class a extends f.x{constructor(){super(),this.set({cards:[]})}addCard(n){this.set({cards:[...this.get("cards"),n]})}static#t=this.\u0275fac=function(e){return new(e||a)};static#n=this.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac})}return a})();const C=["cardPlaceholder"];let v=(()=>{class a{set containerRef(n){this._containerRef=n}get containerRef(){return this._containerRef}constructor(n){var e=this;this.cardContainerService=n,n.select("cards").subscribe(c=>{c.filter(s=>!s.componentInstance).forEach(function(){var s=(0,u.Z)(function*(r){const i=yield r.componentModule();if(console.log("Retrieve Card - View Component Function",r,i),r.componentInstance=i[r.componentName],r.componentInstance){const d=e.containerRef.createComponent(r.componentInstance);d.setInput("data",r.data),d.changeDetectorRef.markForCheck(),d.changeDetectorRef.detectChanges()}});return function(r){return s.apply(this,arguments)}}())})}static#t=this.\u0275fac=function(e){return new(e||a)(o.Y36(h))};static#n=this.\u0275cmp=o.Xpm({type:a,selectors:[["porrtal-card-container"]],viewQuery:function(e,c){if(1&e&&o.Gf(C,7,o.s_b),2&e){let s;o.iGM(s=o.CRH())&&(c.containerRef=s.first)}},standalone:!0,features:[o.jDz],decls:4,vars:0,consts:[[1,"container"],[1,"card-container"],["cardPlaceholder",""]],template:function(e,c){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.GkF(2,null,2),o.qZA()())},dependencies:[p.ez],styles:["[_nghost-%COMP%]{display:grid;width:100%;height:100%}.container[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:auto}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,auto));grid-auto-rows:300px;gap:10px;padding:10px}"],changeDetection:0})}return a})();var m=t(7871),g=t(605);let y=(()=>{class a{constructor(n,e,c,s){this.cardContainerService=n,this.authN=e,this.authZService=c,this.shellStateService=s,this.addMockCards()}addMockCards(){const n=[],e=Object.keys(this.authZService.authZProviders);n.push({type:"authN",componentName:"AuthNCardComponent",componentModule:()=>t.e(351).then(t.bind(t,3351)),data:this.authN}),console.log("auth z provider keys",e),e.map(c=>{n.push({type:"authZ",componentName:"AuthZCardComponent",componentModule:()=>t.e(960).then(t.bind(t,3960)),data:this.authZService.authZProviders[c]})}),n.push({type:"views",componentName:"ViewsCardComponent",componentModule:()=>t.e(620).then(t.bind(t,1620)),data:{}}),n.push({type:"panes",componentName:"PaneCardComponent",componentModule:()=>t.e(507).then(t.bind(t,4507)),data:{}}),this.cardContainerService.connect("cards",this.shellStateService.select("authZs"),(c,s)=>{const r=[...Object.keys(s).filter(i=>!(s[i].ready||s[i].checkPermission||e.some(d=>d===i)||n.some(d=>d.data===i))).map(i=>({type:"orphanAuthZ",componentName:"OrphanAuthZCardComponent",componentModule:()=>t.e(484).then(t.bind(t,3484)),data:i}))];return n.push(...r),n})}static#t=this.\u0275fac=function(e){return new(e||a)(o.Y36(h),o.Y36(m._),o.Y36(m.Q),o.Y36(g.vv))};static#n=this.\u0275cmp=o.Xpm({type:a,selectors:[["porrtal-shell-state-dashboard"]],standalone:!0,features:[o._Bn([h]),o.jDz],decls:1,vars:0,template:function(e,c){1&e&&o._UZ(0,"porrtal-card-container")},dependencies:[p.ez,v],changeDetection:0})}return a})()}}]);