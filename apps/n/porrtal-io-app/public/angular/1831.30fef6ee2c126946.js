"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[1831],{91831:(z,f,n)=>{n.r(f),n.d(f,{clearBoundingBoxCache:()=>b,computeIconLayerResourceSize:()=>c,computeLayerResourceSize:()=>j,computeLayerSize:()=>B,computeObjectLayerResourceSize:()=>_});var s=n(15861),P=n(84792),i=n(26584),O=n(78498),u=n(62208),h=n(5548),d=n(43652);let a=E();function E(){return new O.Z(50)}function b(){a=E()}function j(e,r){if("icon"===e.type)return c(e,r);if("object"===e.type)return _(e,r);throw new i.Z("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}function B(e,r){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)(function*(e,r){if("icon"===e.type)return D(e,r);if("object"===e.type)return M(e,r);throw new i.Z("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")})).apply(this,arguments)}function c(e,r){return y.apply(this,arguments)}function y(){return(y=(0,s.Z)(function*(e,r){if(e.resource?.href)return L(e.resource.href).then(t=>[t.width,t.height]);if(e.resource?.primitive)return(0,u.pC)(r)?[r,r]:[256,256];throw new i.Z("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource")})).apply(this,arguments)}function D(e,r){return c(e,r).then(t=>{if(null==e.size)return t;const o=t[0]/t[1];return o>1?[e.size,e.size/o]:[e.size*o,e.size]})}function L(e){return(0,P.default)(e,{responseType:"image"}).then(r=>r.data)}function _(e,r){return function C(e,r){return m.apply(this,arguments)}(e,r).then(t=>(0,h.dp)(t))}function M(e,r){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(function*(e,r){const t=yield _(e,r);return(0,d.$K)(t,e)})).apply(this,arguments)}function m(){return(m=(0,s.Z)(function*(e,r){if(!e.isPrimitive){const o=(0,u.s3)(e.resource?.href),v=a.get(o);if(void 0!==v)return v;const x=yield Promise.resolve().then(n.bind(n,34062)),g=yield x.fetch(o,{disableTextures:!0});return a.put(o,g.referenceBoundingBox),g.referenceBoundingBox}let t=null;if(e.resource&&e.resource.primitive&&(t=(0,h.Ue)((0,d.Uz)(e.resource.primitive)),(0,u.pC)(r)))for(let o=0;o<t.length;o++)t[o]*=r;return t?Promise.resolve(t):Promise.reject(new i.Z("symbol:invalid-resource","The symbol does not have a valid resource"))})).apply(this,arguments)}}}]);