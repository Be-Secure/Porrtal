"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[4135],{44135:(cn,R,I)=>{I.r(R),I.d(R,{classBreaks:()=>tn,heatmapStatistics:()=>ln,histogram:()=>an,summaryStatistics:()=>nn,uniqueValues:()=>en});var F=I(15861),O=(I(29132),I(26584),I(62208)),Y=I(23841),W=I(65234),L=I(7848),A=I(37053),B=(I(36630),I(36859)),g=I(63930),H=I(46679),Q=I(49672);let T=null;function K(i,t,l,o){const r=(0,A.MP)(l)?(0,A.C5)(l):null,d=r?Math.round((r.valid[1]-r.valid[0])/t.scale[0]):null;return i.map(c=>{const s=new Q.Z((0,O.Wg)(c.geometry));return(0,L.RF)(t,s,s,s.hasZ,s.hasM),c.geometry=r?function J(i,t,l){return i.x<0?i.x+=t:i.x>l&&(i.x-=t),i}(s,d,o[0]):s,c})}function X(i,t=18,l,o,r,d){const c=new Float64Array(r*d);t=Math.round((0,Y.F2)(t));let s=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=0,v=0,h=0,p=0;const y=(0,B.wx)(o,l);for(const{geometry:z,attributes:E}of i){const{x:V,y:b}=z,on=Math.max(0,V-t),rn=Math.max(0,b-t),sn=Math.min(d,b+t),un=Math.min(r,V+t),fn=+y(E);for(let N=rn;N<sn;N++)for(let P=on;P<un;P++){const G=N*r+P,dn=(0,B.If)(P-V,N-b,t),mn=c[G];m=c[G]+=dn*fn;const w=m-mn;v+=w,h+=w*w,m<s&&(s=m),m>f&&(f=m),p++}}if(!p)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const x=(f-s)/2;return{mean:v/p,stdDev:Math.sqrt((h-v*v/p)/p),min:s,max:f,mid:x,count:p}}function M(i,t){return j.apply(this,arguments)}function j(){return(j=(0,F.Z)(function*(i,t){if(!t)return[];const l=i.field,o=i.valueExpression,r=i.normalizationType,d=i.normalizationField,c=i.normalizationTotal,s=[],f=i.viewInfoParams;let m=null,v=null;if(o){if(!T){const{arcadeUtils:y}=yield(0,H.LC)();T=y}m=T.createFunction(o),v=f&&T.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:new W.Z(f.spatialReference)})}const h=i.fieldInfos,p=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!h?null:{fields:h};return t.forEach(y=>{const x=y.attributes;let z;if(o){const E=p?{...y,layer:p}:y,V=T.createExecContext(E,v);z=T.executeFunction(m,V)}else x&&(z=x[l]);if(r&&isFinite(z)){const E=x&&parseFloat(x[d]);z=(0,g.fk)(z,r,E,c)}s.push(z)}),s})).apply(this,arguments)}function nn(i){return C.apply(this,arguments)}function C(){return(C=(0,F.Z)(function*(i){const{attribute:t,features:l}=i,{normalizationType:o,normalizationField:r,minValue:d,maxValue:c,fieldType:s}=t,f=yield M({field:t.field,valueExpression:t.valueExpression,normalizationType:o,normalizationField:r,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l),m=(0,g.S5)({normalizationType:o,normalizationField:r,minValue:d,maxValue:c}),v={value:.5,fieldType:s},h="esriFieldTypeString"===s?(0,g.H0)({values:f,supportsNullCount:m,percentileParams:v}):(0,g.i5)({values:f,minValue:d,maxValue:c,useSampleStdDev:!o,supportsNullCount:m,percentileParams:v});return(0,g.F_)(h,"esriFieldTypeDate"===s)})).apply(this,arguments)}function en(i){return D.apply(this,arguments)}function D(){return(D=(0,F.Z)(function*(i){const{attribute:t,features:l}=i,o=yield M({field:t.field,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l),r=(0,g.eT)(o);return(0,g.Qm)(r,t.domain,t.returnAllCodedValues)})).apply(this,arguments)}function tn(i){return U.apply(this,arguments)}function U(){return(U=(0,F.Z)(function*(i){const{attribute:t,features:l}=i,{field:o,normalizationType:r,normalizationField:d,normalizationTotal:c,classificationMethod:s}=t,f=yield M({field:o,valueExpression:t.valueExpression,normalizationType:r,normalizationField:d,normalizationTotal:c,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l),m=(0,g.G2)(f,{field:o,normalizationType:r,normalizationField:d,normalizationTotal:c,classificationMethod:s,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,g.DL)(m,s)})).apply(this,arguments)}function an(i){return S.apply(this,arguments)}function S(){return(S=(0,F.Z)(function*(i){const{attribute:t,features:l}=i,{field:o,normalizationType:r,normalizationField:d,normalizationTotal:c,classificationMethod:s}=t,f=yield M({field:o,valueExpression:t.valueExpression,normalizationType:r,normalizationField:d,normalizationTotal:c,viewInfoParams:t.viewInfoParams,fieldInfos:t.fieldInfos},l);return(0,g.oF)(f,{field:o,normalizationType:r,normalizationField:d,normalizationTotal:c,classificationMethod:s,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})})).apply(this,arguments)}function ln(i){return Z.apply(this,arguments)}function Z(){return(Z=(0,F.Z)(function*(i){const{attribute:t,features:l}=i,{field:o,radius:r,fieldOffset:d,transform:c,spatialReference:s,size:f}=t,m=K(l,c,s,f),{count:v,min:h,max:p,mean:y,stdDev:x}=X(m,r,d,o,f[0],f[1]);return{count:v,min:h,max:p,avg:y,stddev:x}})).apply(this,arguments)}}}]);