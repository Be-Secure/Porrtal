/*
Copyright 2022 Comcast Cable Communications Management, LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
"use strict";(self.webpackChunka_porrtal_io_app=self.webpackChunka_porrtal_io_app||[]).push([[280,7777,4766],{84600:(_e,Y,O)=>{O.d(Y,{Rd:()=>B,Ud:()=>I,VG:()=>j,Wv:()=>re,Zv:()=>T});var E=O(15572),D=O(90466);function j(R,i,M,P=2,U="abbr"){return(0,D.VG)(R,(0,E.nn)(i,M).value,M,P,U)}function B(R,i,M=2,P="abbr"){return(0,D.Rd)(R,i.value,i.unit,M,P)}function re(R,i,M=2,P="abbr"){return(0,D.Wv)(R,i.value,i.unit,M,P)}function I(R,i,M=2,P="abbr"){return(0,D.Ud)(R,i.value,i.unit,M,P)}function T(R,i,M=2,P="abbr"){return(0,D.Zv)(R,i.value,i.unit,M,P)}},77777:(_e,Y,O)=>{O.r(Y),O.d(Y,{hydratedAdapter:()=>V});var E=O(2004),D=O(72854),j=O(49672),A=O(37118),B=O(55214);const V={convertToGEGeometry:function re(G,L){if(null==L)return null;let d="cache"in L?L.cache._geVersion:void 0;return null==d&&(d=G.convertJSONToGeometry(L),"cache"in L&&(L.cache._geVersion=d)),d},exportPoint:function q(G,L,d){const m=G.hasZ(L),g=G.hasM(L),y=new j.Z({x:G.getPointX(L),y:G.getPointY(L),spatialReference:d});return m&&(y.z=G.getPointZ(L)),g&&(y.m=G.getPointM(L)),y.cache._geVersion=L,y},exportPolygon:function ae(G,L,d){const m=new A.Z({rings:G.exportPaths(L),hasZ:G.hasZ(L),hasM:G.hasM(L),spatialReference:d});return m.cache._geVersion=L,m},exportPolyline:function I(G,L,d){const m=new B.Z({paths:G.exportPaths(L),hasZ:G.hasZ(L),hasM:G.hasM(L),spatialReference:d});return m.cache._geVersion=L,m},exportMultipoint:function Z(G,L,d){const m=new D.Z({hasZ:G.hasZ(L),hasM:G.hasM(L),points:G.exportPoints(L),spatialReference:d});return m.cache._geVersion=L,m},exportExtent:function T(G,L,d){const m=G.hasZ(L),g=G.hasM(L),y=new E.Z({xmin:G.getXMin(L),ymin:G.getYMin(L),xmax:G.getXMax(L),ymax:G.getYMax(L),spatialReference:d});if(m){const W=G.getZExtent(L);y.zmin=W.vmin,y.zmax=W.vmax}if(g){const W=G.getMExtent(L);y.mmin=W.vmin,y.mmax=W.vmax}return y.cache._geVersion=L,y}}},44766:(_e,Y,O)=>{O.r(Y),O.d(Y,{buffer:()=>M,clip:()=>B,contains:()=>re,convexHull:()=>W,crosses:()=>q,cut:()=>V,densify:()=>H,difference:()=>w,disjoint:()=>L,distance:()=>ae,equals:()=>I,extendedSpatialReferenceInfo:()=>A,flipHorizontal:()=>$,flipVertical:()=>X,generalize:()=>ee,geodesicArea:()=>ie,geodesicBuffer:()=>P,geodesicDensify:()=>ne,geodesicLength:()=>te,intersect:()=>Q,intersects:()=>Z,isSimple:()=>g,nearestCoordinate:()=>U,nearestVertex:()=>x,nearestVertices:()=>F,offset:()=>i,overlaps:()=>d,planarArea:()=>se,planarLength:()=>ce,relate:()=>m,rotate:()=>N,simplify:()=>y,symmetricDifference:()=>S,touches:()=>T,union:()=>R,within:()=>G});var E=O(4918),D=O(77777);function j(_){return Array.isArray(_)?_[0].spatialReference:_&&_.spatialReference}function A(_){return E.G.extendedSpatialReferenceInfo(_)}function B(_,C){return E.G.clip(D.hydratedAdapter,j(_),_,C)}function V(_,C){return E.G.cut(D.hydratedAdapter,j(_),_,C)}function re(_,C){return E.G.contains(D.hydratedAdapter,j(_),_,C)}function q(_,C){return E.G.crosses(D.hydratedAdapter,j(_),_,C)}function ae(_,C,K){return E.G.distance(D.hydratedAdapter,j(_),_,C,K)}function I(_,C){return E.G.equals(D.hydratedAdapter,j(_),_,C)}function Z(_,C){return E.G.intersects(D.hydratedAdapter,j(_),_,C)}function T(_,C){return E.G.touches(D.hydratedAdapter,j(_),_,C)}function G(_,C){return E.G.within(D.hydratedAdapter,j(_),_,C)}function L(_,C){return E.G.disjoint(D.hydratedAdapter,j(_),_,C)}function d(_,C){return E.G.overlaps(D.hydratedAdapter,j(_),_,C)}function m(_,C,K){return E.G.relate(D.hydratedAdapter,j(_),_,C,K)}function g(_){return E.G.isSimple(D.hydratedAdapter,j(_),_)}function y(_){return E.G.simplify(D.hydratedAdapter,j(_),_)}function W(_,C=!1){return E.G.convexHull(D.hydratedAdapter,j(_),_,C)}function w(_,C){return E.G.difference(D.hydratedAdapter,j(_),_,C)}function S(_,C){return E.G.symmetricDifference(D.hydratedAdapter,j(_),_,C)}function Q(_,C){return E.G.intersect(D.hydratedAdapter,j(_),_,C)}function R(_,C=null){return E.G.union(D.hydratedAdapter,j(_),_,C)}function i(_,C,K,J,oe,k){return E.G.offset(D.hydratedAdapter,j(_),_,C,K,J,oe,k)}function M(_,C,K,J=!1){return E.G.buffer(D.hydratedAdapter,j(_),_,C,K,J)}function P(_,C,K,J,oe,k){return E.G.geodesicBuffer(D.hydratedAdapter,j(_),_,C,K,J,oe,k)}function U(_,C,K=!0){return E.G.nearestCoordinate(D.hydratedAdapter,j(_),_,C,K)}function x(_,C){return E.G.nearestVertex(D.hydratedAdapter,j(_),_,C)}function F(_,C,K,J){return E.G.nearestVertices(D.hydratedAdapter,j(_),_,C,K,J)}function z(_){return"xmin"in _?"center"in _?_.center:null:"x"in _?_:"extent"in _?_.extent.center:null}function N(_,C,K){if(null==_)throw new Error("Illegal Argument Exception");const J=_.spatialReference;if(null==(K=K??z(_)))throw new Error("Illegal Argument Exception");const oe=_.constructor.fromJSON(E.G.rotate(_,C,K));return oe.spatialReference=J,oe}function $(_,C){if(null==_)throw new Error("Illegal Argument Exception");const K=_.spatialReference;if(null==(C=C??z(_)))throw new Error("Illegal Argument Exception");const J=_.constructor.fromJSON(E.G.flipHorizontal(_,C));return J.spatialReference=K,J}function X(_,C){if(null==_)throw new Error("Illegal Argument Exception");const K=_.spatialReference;if(null==(C=C??z(_)))throw new Error("Illegal Argument Exception");const J=_.constructor.fromJSON(E.G.flipVertical(_,C));return J.spatialReference=K,J}function ee(_,C,K,J){return E.G.generalize(D.hydratedAdapter,j(_),_,C,K,J)}function H(_,C,K){return E.G.densify(D.hydratedAdapter,j(_),_,C,K)}function ne(_,C,K,J=0){return E.G.geodesicDensify(D.hydratedAdapter,j(_),_,C,K,J)}function se(_,C){return E.G.planarArea(D.hydratedAdapter,j(_),_,C)}function ce(_,C){return E.G.planarLength(D.hydratedAdapter,j(_),_,C)}function ie(_,C,K){return E.G.geodesicArea(D.hydratedAdapter,j(_),_,C,K)}function te(_,C,K){return E.G.geodesicLength(D.hydratedAdapter,j(_),_,C,K)}},10049:(_e,Y,O)=>{O.d(Y,{Gb:()=>m,Jf:()=>y,cA:()=>S}),O(29132);var D=O(26584),j=O(16730),A=O(37299),B=O(37053),ae=(O(55214),O(37118),O(49672),O(65234));function I(i){if(!i)return null;if((0,B.sT)(i)&&i.wkid){const M=A.Dg[i.wkid];if(M)return M}if(i.wkt){const M=function Z(i){const M=A.yB.exec(i);if(!M||2!==M.length)return null;const P=M[1].split(",");if(!P||P.length<3)return null;const U=parseFloat(P[1]),x=parseFloat(P[2]);return isNaN(U)||isNaN(x)?null:{a:U,f:0===x?0:1/x}}(i.wkt);if(M)return M}return null}function m(i){return null!==I(i)}function y(i,M="meters"){if(!i)throw new D.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(i.some(U=>!m(U.spatialReference)))throw new D.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const P=[];for(let U=0;U<i.length;U++){const x=i[U],{spatialReference:F}=x,z="polyline"===x.type?x.paths:x.rings;let N=0;for(let $=0;$<z.length;$++){const X=z[$];let ee=0;for(let H=1;H<X.length;H++){const ne=X[H-1][0],se=X[H][0],ce=X[H-1][1],ie=X[H][1];if(ce!==ie||ne!==se){const te={distance:null};S(te,[ne,ce],[se,ie],F),ee+=te.distance}}N+=ee}N=(0,j.En)(N,"meters",M),P.push(N)}return P}function S(i,M,P,U){const x=M[0]*A.Yr,F=M[1]*A.Yr,z=P[0]*A.Yr,N=P[1]*A.Yr,{a:$,b:X,f:ee,radius:H}=function T(i){const M=I(i||ae.Z.WGS84);if(function G(i){return"b"in i&&"eSq"in i&&"radius"in i}(M))return M;const P=M.a*(1-M.f);return Object.assign(M,{b:P,eSq:1-(P/M.a)**2,radius:(2*M.a+P)/3,densificationRatio:1e4/((2*M.a+P)/3)})}(U),ne=z-x,se=Math.atan((1-ee)*Math.tan(F)),ce=Math.atan((1-ee)*Math.tan(N)),ie=Math.sin(se),te=Math.cos(se),_=Math.sin(ce),C=Math.cos(ce);let K,J,oe,k,me,Ee,ue,de,le,ve,pe=1e3,he=ne;do{if(ue=Math.sin(he),de=Math.cos(he),oe=Math.sqrt(C*ue*(C*ue)+(te*_-ie*C*de)*(te*_-ie*C*de)),0===oe)return i.distance=0,i.azimuth=void 0,i.reverseAzimuth=void 0,i;me=ie*_+te*C*de,Ee=Math.atan2(oe,me),le=te*C*ue/oe,J=1-le*le,k=me-2*ie*_/J,isNaN(k)&&(k=0),ve=ee/16*J*(4+ee*(4-3*J)),K=he,he=ne+(1-ve)*ee*le*(Ee+ve*oe*(k+ve*me*(2*k*k-1)))}while(Math.abs(he-K)>1e-12&&--pe>0);if(0===pe){const Oe=H,Re=Math.acos(Math.sin(F)*Math.sin(N)+Math.cos(F)*Math.cos(N)*Math.cos(z-x))*Oe,Ce=z-x,De=Math.sin(Ce)*Math.cos(N),Ae=Math.cos(F)*Math.sin(N)-Math.sin(F)*Math.cos(N)*Math.cos(Ce),be=Math.atan2(De,Ae);return i.azimuth=be/A.Yr,i.distance=Re,i.reverseAzimuth=void 0,i}const fe=J*($*$-X*X)/(X*X),ge=fe/1024*(256+fe*(fe*(74-47*fe)-128)),ye=X*(1+fe/16384*(4096+fe*(fe*(320-175*fe)-768)))*(Ee-ge*oe*(k+ge/4*(me*(2*k*k-1)-ge/6*k*(4*oe*oe-3)*(4*k*k-3)))),Me=Math.atan2(C*Math.sin(he),te*_-ie*C*Math.cos(he)),Pe=Math.atan2(te*Math.sin(he),te*_*Math.cos(he)-ie*C);return i.azimuth=Me/A.Yr,i.distance=ye,i.reverseAzimuth=Pe/A.Yr,i}},39691:(_e,Y,O)=>{O.d(Y,{Y:()=>D});var E=O(16730);const D={readOnly:!0,get(){return(0,E.RG)(this.view)}}},60507:(_e,Y,O)=>{O.d(Y,{RL:()=>V,VW:()=>A,jG:()=>d,tq:()=>G,vQ:()=>I,zx:()=>Z});var E=O(62208),D=O(29505);function A(m,g){return function j(m,g){return(0,E.Wi)(g)||!g.mode?m?"absolute-height":"on-the-ground":g.mode}(!!(0,E.pC)(m)&&m.hasZ,g)}function V(m){const g=function q(m){return m.layer&&"elevationInfo"in m.layer?m.layer.elevationInfo:null}(m),y=A(m.geometry,g);return{mode:y,offset:(0,E.pC)(g)&&"on-the-ground"!==y?(0,E.Pt)(g.offset,0)*(0,D.Z7)((0,E.Pt)(g.unit,"meters")):0}}function I(m,g,y,W=null){return T(m,g.x,g.y,g.hasZ?g.z:0,g.spatialReference,y,W)}function Z(m,g,y,W,w=null){return T(m,g[0],g[1],g.length>2?g[2]:0,y,W,w)}function T(m,g,y,W,w,S,Q=null){if((0,E.Wi)(S))return;const R=(0,E.pC)(Q)?Q.mode:"absolute-height";if("on-the-ground"===R)return 0;const{absoluteZ:i}=G(g,y,W,w,m,S);return function L(m,g,y,W,w,S,Q,R){const i=(0,E.pC)(Q)&&(0,E.pC)(Q.offset)?Q.offset:0;switch(R){case"absolute-height":return m-i;case"relative-to-ground":return m-((0,E.Pt)(S.elevationProvider.getElevation(g,y,W,w,"ground"),0)+i);case"relative-to-scene":return m-((0,E.Pt)(S.elevationProvider.getElevation(g,y,W,w,"scene"),0)+i)}}(i,g,y,W,w,m,Q,R)}function G(m,g,y,W,w,S){const Q=(0,E.pC)(S.offset)?S.offset:0;switch(S.mode){case"absolute-height":return{absoluteZ:y+Q,elevation:0};case"on-the-ground":{const R=(0,E.Pt)(w.elevationProvider.getElevation(m,g,0,W,"ground"),0);return{absoluteZ:R,elevation:R}}case"relative-to-ground":{const R=(0,E.Pt)(w.elevationProvider.getElevation(m,g,y,W,"ground"),0);return{absoluteZ:y+R+Q,elevation:R}}case"relative-to-scene":{const R=(0,E.Pt)(w.elevationProvider.getElevation(m,g,y,W,"scene"),0);return{absoluteZ:y+R+Q,elevation:R}}}}const d={mode:"absolute-height",offset:0}},1437:(_e,Y,O)=>{O.d(Y,{p:()=>I});var E=O(17626),D=O(54024),j=O(62208),A=O(60330),B=O(77712),ae=(O(85931),O(8314),O(90912),O(76898));const I=Z=>{let T=class extends((0,A.v)(Z)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(G){this._userInteractive=G}get updating(){return!1}get visible(){return!(0,j.pC)(this.parent)||this.parent.visible&&!this.parent.suspended}set visible(G){void 0!==G?this._override("visible",G):this._clearOverride("visible")}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,(0,D.kB)(()=>this._interactiveViewModelCount--)}};return(0,E._)([(0,B.Cb)({readOnly:!0})],T.prototype,"type",void 0),(0,E._)([(0,B.Cb)({constructOnly:!0})],T.prototype,"analysis",void 0),(0,E._)([(0,B.Cb)({constructOnly:!0})],T.prototype,"parent",void 0),(0,E._)([(0,B.Cb)({constructOnly:!0})],T.prototype,"view",void 0),(0,E._)([(0,B.Cb)({type:Boolean})],T.prototype,"interactive",null),(0,E._)([(0,B.Cb)()],T.prototype,"_userInteractive",void 0),(0,E._)([(0,B.Cb)({readOnly:!0})],T.prototype,"updating",null),(0,E._)([(0,B.Cb)()],T.prototype,"visible",null),(0,E._)([(0,B.Cb)()],T.prototype,"_interactiveViewModelCount",void 0),T=(0,E._)([(0,ae.j)("esri.views.3d.analysis.AnalysisView3D")],T),T}},74554:(_e,Y,O)=>{var E,D;O.d(Y,{e:()=>E}),(D=E||(E={}))[D.Auto=0]="Auto",D[D.Euclidean=1]="Euclidean",D[D.Geodesic=2]="Geodesic"},68:(_e,Y,O)=>{O.d(Y,{D:()=>D});var E=O(16730);class D{constructor(A=null){this.spatialReference=A}get spatialReference(){return this._spatialReference}set spatialReference(A){A!==this._spatialReference&&(this._spatialReference=A,this._updateNormalizationFactors())}normalizeDistance(A){return A*this._metersPerDistanceUnit}normalizeElevation(A){return A*this._metersPerElevationUnit}normalizeArea(A){return A*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=(0,E.c9)(this._spatialReference,1),this._metersPerElevationUnit=(0,E.c9)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}},54865:(_e,Y,O)=>{O.d(Y,{G:()=>A,e:()=>B});var E=O(62208),D=O(55915),j=O(53929);function A(V,re,q,ae=!1){const I=(0,D.fM)(V,re);return(0,E.Wi)(I)?null:(I.hasZ&&!ae||!(0,E.pC)(q)||(I.z=(0,E.Pt)((0,j.KO)(q,I),0)),I)}function B(V,re,q){q.warnOnce(`Failed to project analysis geometry (id: '${V.id}'), projection from spatial reference (wkid: '${re.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}},495:(_e,Y,O)=>{O.d(Y,{H:()=>A,c:()=>B});var E=O(23841),D=O(67831),j=O(84161);function A(I,Z){if((0,j.s)(Z,0,0,0),I.length>0){for(let T=0;T<I.length;++T)(0,j.a)(Z,Z,I[T]);(0,j.g)(Z,Z,1/I.length)}}function B(I,Z,T,G){G.projectToRenderScreen(I,V),G.projectToRenderScreen(Z,q),(0,D.g)(T,ae,re),(0,D.i)(T,T)}const V=(0,E.J$)(),re=V,q=(0,E.J$)(),ae=q},87469:(_e,Y,O)=>{O.d(Y,{r:()=>T});var E=O(62208),D=O(28347),j=O(43703),A=O(84161),B=O(28093),V=O(993),re=O(67709),q=O(53928),ae=O(44014),I=O(40723),Z=O(92222);class T extends q._{constructor(d){super(d),this._renderOccluded=I.yD.OccludeAndTransparent,this._width=1,this._color=(0,re.f)(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(d)}setGeometryFromRenderSpacePoint(d,m=1e3){const g=[];g.push([[d[0]-m,d[1]+0,d[2]+0],[d[0]+m,d[1]+0,d[2]+0]]),g.push([[d[0]-0,d[1]-m,d[2]+0],[d[0]+0,d[1]+m,d[2]+0]]),g.push([[d[0]-0,d[1]+0,d[2]-m],[d[0]+0,d[1]+0,d[2]+m]]),this.geometry=g}setGeometryFromExtent(d){const m=this.view.spatialReference,g=(0,B.c)(),y=(0,B.c)(),W=100,w=[];(0,A.s)(g,d[0],d[1],W),this.view.renderCoordsHelper.toRenderCoords(g,m,y),w.push([y[0],y[1],y[2]]),(0,A.s)(g,d[2],d[1],W),this.view.renderCoordsHelper.toRenderCoords(g,m,y),w.push([y[0],y[1],y[2]]),(0,A.s)(g,d[2],d[3],W),this.view.renderCoordsHelper.toRenderCoords(g,m,y),w.push([y[0],y[1],y[2]]),(0,A.s)(g,d[0],d[3],W),this.view.renderCoordsHelper.toRenderCoords(g,m,y),w.push([y[0],y[1],y[2]]),(0,A.s)(g,d[0],d[1],W),this.view.renderCoordsHelper.toRenderCoords(g,m,y),w.push([y[0],y[1],y[2]]),(0,A.s)(g,d[0],d[1],W),this.view.renderCoordsHelper.toRenderCoords(g,m,y),w.push([y[0],y[1],y[2]]),this.geometry=[w]}setGeometryFromFrustum(d){const m=[];d.lines.forEach(g=>{m.push([g.origin[0],g.origin[1],g.origin[2]]),m.push([g.endpoint[0],g.endpoint[1],g.endpoint[2]])}),this.geometry=[m]}setGeometryFromBoundedPlane(d){const m=[],g=d.origin,y=d.basis1,W=d.basis2,w=.5,S=(0,B.c)(),Q=(0,B.c)(),R=(0,B.c)(),i=(0,B.c)();S[0]=g[0]-y[0]*w-W[0]*w,S[1]=g[1]-y[1]*w-W[1]*w,S[2]=g[2]-y[2]*w-W[2]*w,Q[0]=g[0]-y[0]*w+W[0]*w,Q[1]=g[1]-y[1]*w+W[1]*w,Q[2]=g[2]-y[2]*w+W[2]*w,R[0]=g[0]+y[0]*w+W[0]*w,R[1]=g[1]+y[1]*w+W[1]*w,R[2]=g[2]+y[2]*w+W[2]*w,i[0]=g[0]+y[0]*w-W[0]*w,i[1]=g[1]+y[1]*w-W[1]*w,i[2]=g[2]+y[2]*w-W[2]*w,m.push([S[0],S[1],S[2]]),m.push([Q[0],Q[1],Q[2]]),m.push([R[0],R[1],R[2]]),m.push([i[0],i[1],i[2]]),m.push([S[0],S[1],S[2]]),this.geometry=[m]}setGeometryFromSegment(d){const m=d.endRenderSpace;this.transform=(0,D.f)(G,m);const{points:g}=d.createRenderGeometry(m,this.view.renderCoordsHelper);this.geometry=[g]}setGeometryFromSegments(d,m=B.Z){this.transform=(0,D.f)(G,m),this.geometry=d.map(g=>g.createRenderGeometry(m,this.view.renderCoordsHelper).points)}getTransformedGeometry(){return(0,E.Wi)(this._geometry)?null:this._geometry.map(d=>d.map(m=>(0,A.m)((0,B.c)(),m,this.transform)))}get renderOccluded(){return this._renderOccluded}set renderOccluded(d){d!==this._renderOccluded&&(this._renderOccluded=d,this._updateMaterial())}get geometry(){return this._geometry}set geometry(d){this._geometry=d,this.recreateGeometry()}get width(){return this._width}set width(d){d!==this._width&&(this._width=d,this._updateMaterial())}get color(){return this._color}set color(d){(0,V.g)(d,this._color)||((0,V.c)(this._color,d),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(d){d!==this._innerWidth&&(this._innerWidth=d,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(d){(0,E.pC)(d)?!(0,E.Wi)(this._innerColor)&&(0,V.g)(d,this._innerColor)||(this._innerColor=(0,V.c)((0,re.c)(),d),this._updateMaterial()):(0,E.pC)(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(d){const m=(0,E.pC)(d)!==(0,E.pC)(this._stipplePattern);this._stipplePattern=d,m?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(d){((0,E.Wi)(d)||(0,E.Wi)(this._stippleOffColor)||!(0,V.g)(d,this._stippleOffColor))&&(this._stippleOffColor=(0,E.pC)(d)?(0,re.a)(d):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(d){this._stipplePreferContinuous!==d&&(this._stipplePreferContinuous=d,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(d){this._writeDepthEnabled!==d&&(this._writeDepthEnabled=d,this._updateMaterial())}get falloff(){return this._falloff}set falloff(d){d!==this._falloff&&(this._falloff=d,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(d){d!==this._polygonOffset&&(this._polygonOffset=d,this._updateMaterial())}createExternalResources(){this._material=new Z.U(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(d){const m=this._createLineGeometries();if(0!==m.length)for(let g=0;g<m.length;++g){const y=(0,ae.YU)(m[g]);d.addGeometry(y,this._material)}}forEachExternalMaterial(d){d(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameters(this.materialParameters)}_createLineGeometries(){const d=this.geometry;if((0,E.Wi)(d)||0===d.length)return[];const m=[];return d.forEach(g=>{const W=new Float64Array(3*g.length);g.forEach((S,Q)=>{W[3*Q+0]=S[0],W[3*Q+1]=S[1],W[3*Q+2]=S[2]}),m.push({overlayInfo:null,attributeData:{position:W},removeDuplicateStartEnd:ae.NW.KEEP})}),m}}const G=(0,j.c)()},53928:(_e,Y,O)=>{O.d(Y,{_:()=>q});var E=O(62208),D=O(28347),j=O(43703),A=O(68604),B=O(42743),V=O(96867),re=O(34103);class q extends A.l{constructor(I){super(I.view),this._resources=null,this._transform=(0,j.c)()}get object(){return(0,E.pC)(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(I){(0,D.c)(this._transform,I),(0,E.pC)(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if((0,E.Wi)(this._resources))return;const I=this._resources.object,Z=this.view._stage;Z.removeMany(I.geometries),I.removeAllGeometries(),this.createGeometries(I),this.visible||I.setVisible(this.visible),Z.addMany(I.geometries)}createResources(){this.destroyResources();const I=this.view._stage;if(!I)return;const Z=new re.F({isPickable:!1,updatePolicy:B.jq.SYNC});I.add(Z);const T=new V.T({castShadow:!1});T.transformation=this._transform,this.createExternalResources(),this.createGeometries(T),I.addMany(T.geometries),this.forEachExternalMaterial(G=>I.add(G)),I.add(T),Z.add(T),this.visible||T.setVisible(!1),this._resources={layer:Z,object:T}}destroyResources(){const I=this.view._stage;!(0,E.Wi)(this._resources)&&I&&(I.remove(this._resources.object),I.remove(this._resources.layer),this.forEachExternalMaterial(Z=>{I.remove(Z),Z.dispose()}),I.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(I){(0,E.Wi)(this._resources)||this._resources.object.setVisible(I)}}},68604:(_e,Y,O)=>{O.d(Y,{l:()=>D});var E=O(32917);class D{constructor(A){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=A,this._handle=(0,E.YP)(()=>this.view.ready,B=>{this._resourcesCreated&&(B?this._createResources():this._destroyResources())})}applyProps(A){let B=!1;for(const V in A)V in this?"attached"===V?B=A[V]:this[V]=A[V]:console.error("Cannot set unknown property",V);this.attached=B}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(A){A!==this._attached&&this.view._stage&&(this._attached=A,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(A){A!==this._visible&&(this._visible=A,this.attached&&this.updateVisibility(A))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}}}]);